var Rv=Object.defineProperty;var Iv=(r,n,o)=>n in r?Rv(r,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[n]=o;var nh=(r,n,o)=>Iv(r,typeof n!="symbol"?n+"":n,o);function Dv(r,n){for(var o=0;o<n.length;o++){const t=n[o];if(typeof t!="string"&&!Array.isArray(t)){for(const m in t)if(m!=="default"&&!(m in r)){const c=Object.getOwnPropertyDescriptor(t,m);c&&Object.defineProperty(r,m,c.get?c:{enumerable:!0,get:()=>t[m]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))t(m);new MutationObserver(m=>{for(const c of m)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function o(m){const c={};return m.integrity&&(c.integrity=m.integrity),m.referrerPolicy&&(c.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?c.credentials="include":m.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function t(m){if(m.ep)return;m.ep=!0;const c=o(m);fetch(m.href,c)}})();var li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dd(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hm={exports:{}},Ol={},pm={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ya=Symbol.for("react.element"),Fv=Symbol.for("react.portal"),Uv=Symbol.for("react.fragment"),Bv=Symbol.for("react.strict_mode"),zv=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Vv=Symbol.for("react.context"),Hv=Symbol.for("react.forward_ref"),Wv=Symbol.for("react.suspense"),qv=Symbol.for("react.memo"),$v=Symbol.for("react.lazy"),oh=Symbol.iterator;function Yv(r){return r===null||typeof r!="object"?null:(r=oh&&r[oh]||r["@@iterator"],typeof r=="function"?r:null)}var mm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gm=Object.assign,ym={};function Ns(r,n,o){this.props=r,this.context=n,this.refs=ym,this.updater=o||mm}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(r,n){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,n,"setState")};Ns.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function vm(){}vm.prototype=Ns.prototype;function fd(r,n,o){this.props=r,this.context=n,this.refs=ym,this.updater=o||mm}var hd=fd.prototype=new vm;hd.constructor=fd;gm(hd,Ns.prototype);hd.isPureReactComponent=!0;var sh=Array.isArray,bm=Object.prototype.hasOwnProperty,pd={current:null},xm={key:!0,ref:!0,__self:!0,__source:!0};function wm(r,n,o){var t,m={},c=null,a=null;if(n!=null)for(t in n.ref!==void 0&&(a=n.ref),n.key!==void 0&&(c=""+n.key),n)bm.call(n,t)&&!xm.hasOwnProperty(t)&&(m[t]=n[t]);var h=arguments.length-2;if(h===1)m.children=o;else if(1<h){for(var s=Array(h),p=0;p<h;p++)s[p]=arguments[p+2];m.children=s}if(r&&r.defaultProps)for(t in h=r.defaultProps,h)m[t]===void 0&&(m[t]=h[t]);return{$$typeof:Ya,type:r,key:c,ref:a,props:m,_owner:pd.current}}function Xv(r,n){return{$$typeof:Ya,type:r.type,key:n,ref:r.ref,props:r.props,_owner:r._owner}}function md(r){return typeof r=="object"&&r!==null&&r.$$typeof===Ya}function Kv(r){var n={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(o){return n[o]})}var ah=/\/+/g;function uu(r,n){return typeof r=="object"&&r!==null&&r.key!=null?Kv(""+r.key):n.toString(36)}function Ai(r,n,o,t,m){var c=typeof r;(c==="undefined"||c==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(c){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case Ya:case Fv:a=!0}}if(a)return a=r,m=m(a),r=t===""?"."+uu(a,0):t,sh(m)?(o="",r!=null&&(o=r.replace(ah,"$&/")+"/"),Ai(m,n,o,"",function(p){return p})):m!=null&&(md(m)&&(m=Xv(m,o+(!m.key||a&&a.key===m.key?"":(""+m.key).replace(ah,"$&/")+"/")+r)),n.push(m)),1;if(a=0,t=t===""?".":t+":",sh(r))for(var h=0;h<r.length;h++){c=r[h];var s=t+uu(c,h);a+=Ai(c,n,o,s,m)}else if(s=Yv(r),typeof s=="function")for(r=s.call(r),h=0;!(c=r.next()).done;)c=c.value,s=t+uu(c,h++),a+=Ai(c,n,o,s,m);else if(c==="object")throw n=String(r),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return a}function ui(r,n,o){if(r==null)return r;var t=[],m=0;return Ai(r,t,"","",function(c){return n.call(o,c,m++)}),t}function Qv(r){if(r._status===-1){var n=r._result;n=n(),n.then(function(o){(r._status===0||r._status===-1)&&(r._status=1,r._result=o)},function(o){(r._status===0||r._status===-1)&&(r._status=2,r._result=o)}),r._status===-1&&(r._status=0,r._result=n)}if(r._status===1)return r._result.default;throw r._result}var wr={current:null},Ri={transition:null},Zv={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:Ri,ReactCurrentOwner:pd};function jm(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:ui,forEach:function(r,n,o){ui(r,function(){n.apply(this,arguments)},o)},count:function(r){var n=0;return ui(r,function(){n++}),n},toArray:function(r){return ui(r,function(n){return n})||[]},only:function(r){if(!md(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};gt.Component=Ns;gt.Fragment=Uv;gt.Profiler=zv;gt.PureComponent=fd;gt.StrictMode=Bv;gt.Suspense=Wv;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zv;gt.act=jm;gt.cloneElement=function(r,n,o){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var t=gm({},r.props),m=r.key,c=r.ref,a=r._owner;if(n!=null){if(n.ref!==void 0&&(c=n.ref,a=pd.current),n.key!==void 0&&(m=""+n.key),r.type&&r.type.defaultProps)var h=r.type.defaultProps;for(s in n)bm.call(n,s)&&!xm.hasOwnProperty(s)&&(t[s]=n[s]===void 0&&h!==void 0?h[s]:n[s])}var s=arguments.length-2;if(s===1)t.children=o;else if(1<s){h=Array(s);for(var p=0;p<s;p++)h[p]=arguments[p+2];t.children=h}return{$$typeof:Ya,type:r.type,key:m,ref:c,props:t,_owner:a}};gt.createContext=function(r){return r={$$typeof:Vv,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:Gv,_context:r},r.Consumer=r};gt.createElement=wm;gt.createFactory=function(r){var n=wm.bind(null,r);return n.type=r,n};gt.createRef=function(){return{current:null}};gt.forwardRef=function(r){return{$$typeof:Hv,render:r}};gt.isValidElement=md;gt.lazy=function(r){return{$$typeof:$v,_payload:{_status:-1,_result:r},_init:Qv}};gt.memo=function(r,n){return{$$typeof:qv,type:r,compare:n===void 0?null:n}};gt.startTransition=function(r){var n=Ri.transition;Ri.transition={};try{r()}finally{Ri.transition=n}};gt.unstable_act=jm;gt.useCallback=function(r,n){return wr.current.useCallback(r,n)};gt.useContext=function(r){return wr.current.useContext(r)};gt.useDebugValue=function(){};gt.useDeferredValue=function(r){return wr.current.useDeferredValue(r)};gt.useEffect=function(r,n){return wr.current.useEffect(r,n)};gt.useId=function(){return wr.current.useId()};gt.useImperativeHandle=function(r,n,o){return wr.current.useImperativeHandle(r,n,o)};gt.useInsertionEffect=function(r,n){return wr.current.useInsertionEffect(r,n)};gt.useLayoutEffect=function(r,n){return wr.current.useLayoutEffect(r,n)};gt.useMemo=function(r,n){return wr.current.useMemo(r,n)};gt.useReducer=function(r,n,o){return wr.current.useReducer(r,n,o)};gt.useRef=function(r){return wr.current.useRef(r)};gt.useState=function(r){return wr.current.useState(r)};gt.useSyncExternalStore=function(r,n,o){return wr.current.useSyncExternalStore(r,n,o)};gt.useTransition=function(){return wr.current.useTransition()};gt.version="18.3.1";pm.exports=gt;var Ne=pm.exports;const gd=dd(Ne),Jv=Dv({__proto__:null,default:gd},[Ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=Ne,t0=Symbol.for("react.element"),r0=Symbol.for("react.fragment"),n0=Object.prototype.hasOwnProperty,o0=e0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s0={key:!0,ref:!0,__self:!0,__source:!0};function _m(r,n,o){var t,m={},c=null,a=null;o!==void 0&&(c=""+o),n.key!==void 0&&(c=""+n.key),n.ref!==void 0&&(a=n.ref);for(t in n)n0.call(n,t)&&!s0.hasOwnProperty(t)&&(m[t]=n[t]);if(r&&r.defaultProps)for(t in n=r.defaultProps,n)m[t]===void 0&&(m[t]=n[t]);return{$$typeof:t0,type:r,key:c,ref:a,props:m,_owner:o0.current}}Ol.Fragment=r0;Ol.jsx=_m;Ol.jsxs=_m;hm.exports=Ol;var G=hm.exports,Xu={},Sm={exports:{}},Ur={},km={exports:{}},Em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function n(V,H){var X=V.length;V.push(H);e:for(;0<X;){var Q=X-1>>>1,se=V[Q];if(0<m(se,H))V[Q]=H,V[X]=se,X=Q;else break e}}function o(V){return V.length===0?null:V[0]}function t(V){if(V.length===0)return null;var H=V[0],X=V.pop();if(X!==H){V[0]=X;e:for(var Q=0,se=V.length,M=se>>>1;Q<M;){var R=2*(Q+1)-1,z=V[R],q=R+1,Z=V[q];if(0>m(z,X))q<se&&0>m(Z,z)?(V[Q]=Z,V[q]=X,Q=q):(V[Q]=z,V[R]=X,Q=R);else if(q<se&&0>m(Z,X))V[Q]=Z,V[q]=X,Q=q;else break e}}return H}function m(V,H){var X=V.sortIndex-H.sortIndex;return X!==0?X:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var a=Date,h=a.now();r.unstable_now=function(){return a.now()-h}}var s=[],p=[],b=1,v=null,i=3,f=!1,u=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,l=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var H=o(p);H!==null;){if(H.callback===null)t(p);else if(H.startTime<=V)t(p),H.sortIndex=H.expirationTime,n(s,H);else break;H=o(p)}}function x(V){if(g=!1,w(V),!u)if(o(s)!==null)u=!0,B(_);else{var H=o(p);H!==null&&$(x,H.startTime-V)}}function _(V,H){u=!1,g&&(g=!1,d(S),S=-1),f=!0;var X=i;try{for(w(H),v=o(s);v!==null&&(!(v.expirationTime>H)||V&&!C());){var Q=v.callback;if(typeof Q=="function"){v.callback=null,i=v.priorityLevel;var se=Q(v.expirationTime<=H);H=r.unstable_now(),typeof se=="function"?v.callback=se:v===o(s)&&t(s),w(H)}else t(s);v=o(s)}if(v!==null)var M=!0;else{var R=o(p);R!==null&&$(x,R.startTime-H),M=!1}return M}finally{v=null,i=X,f=!1}}var T=!1,E=null,S=-1,P=5,N=-1;function C(){return!(r.unstable_now()-N<P)}function I(){if(E!==null){var V=r.unstable_now();N=V;var H=!0;try{H=E(!0,V)}finally{H?L():(T=!1,E=null)}}else T=!1}var L;if(typeof l=="function")L=function(){l(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,D=F.port2;F.port1.onmessage=I,L=function(){D.postMessage(null)}}else L=function(){y(I,0)};function B(V){E=V,T||(T=!0,L())}function $(V,H){S=y(function(){V(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(V){V.callback=null},r.unstable_continueExecution=function(){u||f||(u=!0,B(_))},r.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},r.unstable_getCurrentPriorityLevel=function(){return i},r.unstable_getFirstCallbackNode=function(){return o(s)},r.unstable_next=function(V){switch(i){case 1:case 2:case 3:var H=3;break;default:H=i}var X=i;i=H;try{return V()}finally{i=X}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var X=i;i=V;try{return H()}finally{i=X}},r.unstable_scheduleCallback=function(V,H,X){var Q=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Q+X:Q):X=Q,V){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=X+se,V={id:b++,callback:H,priorityLevel:V,startTime:X,expirationTime:se,sortIndex:-1},X>Q?(V.sortIndex=X,n(p,V),o(s)===null&&V===o(p)&&(g?(d(S),S=-1):g=!0,$(x,X-Q))):(V.sortIndex=se,n(s,V),u||f||(u=!0,B(_))),V},r.unstable_shouldYield=C,r.unstable_wrapCallback=function(V){var H=i;return function(){var X=i;i=H;try{return V.apply(this,arguments)}finally{i=X}}}})(Em);km.exports=Em;var a0=km.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=Ne,Dr=a0;function He(r){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tm=new Set,Sa={};function Go(r,n){js(r,n),js(r+"Capture",n)}function js(r,n){for(Sa[r]=n,r=0;r<n.length;r++)Tm.add(n[r])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ku=Object.prototype.hasOwnProperty,l0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ih={},lh={};function u0(r){return Ku.call(lh,r)?!0:Ku.call(ih,r)?!1:l0.test(r)?lh[r]=!0:(ih[r]=!0,!1)}function c0(r,n,o,t){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return t?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function d0(r,n,o,t){if(n===null||typeof n>"u"||c0(r,n,o,t))return!0;if(t)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function jr(r,n,o,t,m,c,a){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=t,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=r,this.type=n,this.sanitizeURL=c,this.removeEmptyString=a}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){cr[r]=new jr(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var n=r[0];cr[n]=new jr(n,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){cr[r]=new jr(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){cr[r]=new jr(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){cr[r]=new jr(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){cr[r]=new jr(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){cr[r]=new jr(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){cr[r]=new jr(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){cr[r]=new jr(r,5,!1,r.toLowerCase(),null,!1,!1)});var yd=/[\-:]([a-z])/g;function vd(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var n=r.replace(yd,vd);cr[n]=new jr(n,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var n=r.replace(yd,vd);cr[n]=new jr(n,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var n=r.replace(yd,vd);cr[n]=new jr(n,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){cr[r]=new jr(r,1,!1,r.toLowerCase(),null,!1,!1)});cr.xlinkHref=new jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){cr[r]=new jr(r,1,!1,r.toLowerCase(),null,!0,!0)});function bd(r,n,o,t){var m=cr.hasOwnProperty(n)?cr[n]:null;(m!==null?m.type!==0:t||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(d0(n,o,m,t)&&(o=null),t||m===null?u0(n)&&(o===null?r.removeAttribute(n):r.setAttribute(n,""+o)):m.mustUseProperty?r[m.propertyName]=o===null?m.type===3?!1:"":o:(n=m.attributeName,t=m.attributeNamespace,o===null?r.removeAttribute(n):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,t?r.setAttributeNS(t,n,o):r.setAttribute(n,o))))}var Rn=i0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ci=Symbol.for("react.element"),ts=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),Qu=Symbol.for("react.profiler"),Mm=Symbol.for("react.provider"),Cm=Symbol.for("react.context"),wd=Symbol.for("react.forward_ref"),Zu=Symbol.for("react.suspense"),Ju=Symbol.for("react.suspense_list"),jd=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),Om=Symbol.for("react.offscreen"),uh=Symbol.iterator;function Ys(r){return r===null||typeof r!="object"?null:(r=uh&&r[uh]||r["@@iterator"],typeof r=="function"?r:null)}var Bt=Object.assign,cu;function sa(r){if(cu===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);cu=n&&n[1]||""}return`
`+cu+r}var du=!1;function fu(r,n){if(!r||du)return"";du=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(p){var t=p}Reflect.construct(r,[],n)}else{try{n.call()}catch(p){t=p}r.call(n.prototype)}else{try{throw Error()}catch(p){t=p}r()}}catch(p){if(p&&t&&typeof p.stack=="string"){for(var m=p.stack.split(`
`),c=t.stack.split(`
`),a=m.length-1,h=c.length-1;1<=a&&0<=h&&m[a]!==c[h];)h--;for(;1<=a&&0<=h;a--,h--)if(m[a]!==c[h]){if(a!==1||h!==1)do if(a--,h--,0>h||m[a]!==c[h]){var s=`
`+m[a].replace(" at new "," at ");return r.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",r.displayName)),s}while(1<=a&&0<=h);break}}}finally{du=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?sa(r):""}function f0(r){switch(r.tag){case 5:return sa(r.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return r=fu(r.type,!1),r;case 11:return r=fu(r.type.render,!1),r;case 1:return r=fu(r.type,!0),r;default:return""}}function ec(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case rs:return"Fragment";case ts:return"Portal";case Qu:return"Profiler";case xd:return"StrictMode";case Zu:return"Suspense";case Ju:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Cm:return(r.displayName||"Context")+".Consumer";case Mm:return(r._context.displayName||"Context")+".Provider";case wd:var n=r.render;return r=r.displayName,r||(r=n.displayName||n.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case jd:return n=r.displayName||null,n!==null?n:ec(r.type)||"Memo";case Hn:n=r._payload,r=r._init;try{return ec(r(n))}catch{}}return null}function h0(r){var n=r.type;switch(r.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=n.render,r=r.displayName||r.name||"",n.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ec(n);case 8:return n===xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function uo(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Pm(r){var n=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function p0(r){var n=Pm(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,n),t=""+r[n];if(!r.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,c=o.set;return Object.defineProperty(r,n,{configurable:!0,get:function(){return m.call(this)},set:function(a){t=""+a,c.call(this,a)}}),Object.defineProperty(r,n,{enumerable:o.enumerable}),{getValue:function(){return t},setValue:function(a){t=""+a},stopTracking:function(){r._valueTracker=null,delete r[n]}}}}function di(r){r._valueTracker||(r._valueTracker=p0(r))}function Lm(r){if(!r)return!1;var n=r._valueTracker;if(!n)return!0;var o=n.getValue(),t="";return r&&(t=Pm(r)?r.checked?"true":"false":r.value),r=t,r!==o?(n.setValue(r),!0):!1}function $i(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function tc(r,n){var o=n.checked;return Bt({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function ch(r,n){var o=n.defaultValue==null?"":n.defaultValue,t=n.checked!=null?n.checked:n.defaultChecked;o=uo(n.value!=null?n.value:o),r._wrapperState={initialChecked:t,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Nm(r,n){n=n.checked,n!=null&&bd(r,"checked",n,!1)}function rc(r,n){Nm(r,n);var o=uo(n.value),t=n.type;if(o!=null)t==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(t==="submit"||t==="reset"){r.removeAttribute("value");return}n.hasOwnProperty("value")?nc(r,n.type,o):n.hasOwnProperty("defaultValue")&&nc(r,n.type,uo(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(r.defaultChecked=!!n.defaultChecked)}function dh(r,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var t=n.type;if(!(t!=="submit"&&t!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+r._wrapperState.initialValue,o||n===r.value||(r.value=n),r.defaultValue=n}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function nc(r,n,o){(n!=="number"||$i(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var aa=Array.isArray;function ps(r,n,o,t){if(r=r.options,n){n={};for(var m=0;m<o.length;m++)n["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=n.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&t&&(r[o].defaultSelected=!0)}else{for(o=""+uo(o),n=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,t&&(r[m].defaultSelected=!0);return}n!==null||r[m].disabled||(n=r[m])}n!==null&&(n.selected=!0)}}function oc(r,n){if(n.dangerouslySetInnerHTML!=null)throw Error(He(91));return Bt({},n,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function fh(r,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(He(92));if(aa(o)){if(1<o.length)throw Error(He(93));o=o[0]}n=o}n==null&&(n=""),o=n}r._wrapperState={initialValue:uo(o)}}function Am(r,n){var o=uo(n.value),t=uo(n.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),n.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),t!=null&&(r.defaultValue=""+t)}function hh(r){var n=r.textContent;n===r._wrapperState.initialValue&&n!==""&&n!==null&&(r.value=n)}function Rm(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sc(r,n){return r==null||r==="http://www.w3.org/1999/xhtml"?Rm(n):r==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var fi,Im=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,t,m){MSApp.execUnsafeLocalFunction(function(){return r(n,o,t,m)})}:r}(function(r,n){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=n;else{for(fi=fi||document.createElement("div"),fi.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=fi.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;n.firstChild;)r.appendChild(n.firstChild)}});function ka(r,n){if(n){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=n;return}}r.textContent=n}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m0=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(r){m0.forEach(function(n){n=n+r.charAt(0).toUpperCase()+r.substring(1),da[n]=da[r]})});function Dm(r,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||da.hasOwnProperty(r)&&da[r]?(""+n).trim():n+"px"}function Fm(r,n){r=r.style;for(var o in n)if(n.hasOwnProperty(o)){var t=o.indexOf("--")===0,m=Dm(o,n[o],t);o==="float"&&(o="cssFloat"),t?r.setProperty(o,m):r[o]=m}}var g0=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ac(r,n){if(n){if(g0[r]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(He(137,r));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(He(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(He(61))}if(n.style!=null&&typeof n.style!="object")throw Error(He(62))}}function ic(r,n){if(r.indexOf("-")===-1)return typeof n.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=null;function _d(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var uc=null,ms=null,gs=null;function ph(r){if(r=Qa(r)){if(typeof uc!="function")throw Error(He(280));var n=r.stateNode;n&&(n=Rl(n),uc(r.stateNode,r.type,n))}}function Um(r){ms?gs?gs.push(r):gs=[r]:ms=r}function Bm(){if(ms){var r=ms,n=gs;if(gs=ms=null,ph(r),n)for(r=0;r<n.length;r++)ph(n[r])}}function zm(r,n){return r(n)}function Gm(){}var hu=!1;function Vm(r,n,o){if(hu)return r(n,o);hu=!0;try{return zm(r,n,o)}finally{hu=!1,(ms!==null||gs!==null)&&(Gm(),Bm())}}function Ea(r,n){var o=r.stateNode;if(o===null)return null;var t=Rl(o);if(t===null)return null;o=t[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(r=r.type,t=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!t;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(He(231,n,typeof o));return o}var cc=!1;if(Pn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){cc=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{cc=!1}function y0(r,n,o,t,m,c,a,h,s){var p=Array.prototype.slice.call(arguments,3);try{n.apply(o,p)}catch(b){this.onError(b)}}var fa=!1,Yi=null,Xi=!1,dc=null,v0={onError:function(r){fa=!0,Yi=r}};function b0(r,n,o,t,m,c,a,h,s){fa=!1,Yi=null,y0.apply(v0,arguments)}function x0(r,n,o,t,m,c,a,h,s){if(b0.apply(this,arguments),fa){if(fa){var p=Yi;fa=!1,Yi=null}else throw Error(He(198));Xi||(Xi=!0,dc=p)}}function Vo(r){var n=r,o=r;if(r.alternate)for(;n.return;)n=n.return;else{r=n;do n=r,n.flags&4098&&(o=n.return),r=n.return;while(r)}return n.tag===3?o:null}function Hm(r){if(r.tag===13){var n=r.memoizedState;if(n===null&&(r=r.alternate,r!==null&&(n=r.memoizedState)),n!==null)return n.dehydrated}return null}function mh(r){if(Vo(r)!==r)throw Error(He(188))}function w0(r){var n=r.alternate;if(!n){if(n=Vo(r),n===null)throw Error(He(188));return n!==r?null:r}for(var o=r,t=n;;){var m=o.return;if(m===null)break;var c=m.alternate;if(c===null){if(t=m.return,t!==null){o=t;continue}break}if(m.child===c.child){for(c=m.child;c;){if(c===o)return mh(m),r;if(c===t)return mh(m),n;c=c.sibling}throw Error(He(188))}if(o.return!==t.return)o=m,t=c;else{for(var a=!1,h=m.child;h;){if(h===o){a=!0,o=m,t=c;break}if(h===t){a=!0,t=m,o=c;break}h=h.sibling}if(!a){for(h=c.child;h;){if(h===o){a=!0,o=c,t=m;break}if(h===t){a=!0,t=c,o=m;break}h=h.sibling}if(!a)throw Error(He(189))}}if(o.alternate!==t)throw Error(He(190))}if(o.tag!==3)throw Error(He(188));return o.stateNode.current===o?r:n}function Wm(r){return r=w0(r),r!==null?qm(r):null}function qm(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var n=qm(r);if(n!==null)return n;r=r.sibling}return null}var $m=Dr.unstable_scheduleCallback,gh=Dr.unstable_cancelCallback,j0=Dr.unstable_shouldYield,_0=Dr.unstable_requestPaint,Wt=Dr.unstable_now,S0=Dr.unstable_getCurrentPriorityLevel,Sd=Dr.unstable_ImmediatePriority,Ym=Dr.unstable_UserBlockingPriority,Ki=Dr.unstable_NormalPriority,k0=Dr.unstable_LowPriority,Xm=Dr.unstable_IdlePriority,Pl=null,bn=null;function E0(r){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Pl,r,void 0,(r.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:C0,T0=Math.log,M0=Math.LN2;function C0(r){return r>>>=0,r===0?32:31-(T0(r)/M0|0)|0}var hi=64,pi=4194304;function ia(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Qi(r,n){var o=r.pendingLanes;if(o===0)return 0;var t=0,m=r.suspendedLanes,c=r.pingedLanes,a=o&268435455;if(a!==0){var h=a&~m;h!==0?t=ia(h):(c&=a,c!==0&&(t=ia(c)))}else a=o&~m,a!==0?t=ia(a):c!==0&&(t=ia(c));if(t===0)return 0;if(n!==0&&n!==t&&!(n&m)&&(m=t&-t,c=n&-n,m>=c||m===16&&(c&4194240)!==0))return n;if(t&4&&(t|=o&16),n=r.entangledLanes,n!==0)for(r=r.entanglements,n&=t;0<n;)o=31-nn(n),m=1<<o,t|=r[o],n&=~m;return t}function O0(r,n){switch(r){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P0(r,n){for(var o=r.suspendedLanes,t=r.pingedLanes,m=r.expirationTimes,c=r.pendingLanes;0<c;){var a=31-nn(c),h=1<<a,s=m[a];s===-1?(!(h&o)||h&t)&&(m[a]=O0(h,n)):s<=n&&(r.expiredLanes|=h),c&=~h}}function fc(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Km(){var r=hi;return hi<<=1,!(hi&4194240)&&(hi=64),r}function pu(r){for(var n=[],o=0;31>o;o++)n.push(r);return n}function Xa(r,n,o){r.pendingLanes|=n,n!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,n=31-nn(n),r[n]=o}function L0(r,n){var o=r.pendingLanes&~n;r.pendingLanes=n,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=n,r.mutableReadLanes&=n,r.entangledLanes&=n,n=r.entanglements;var t=r.eventTimes;for(r=r.expirationTimes;0<o;){var m=31-nn(o),c=1<<m;n[m]=0,t[m]=-1,r[m]=-1,o&=~c}}function kd(r,n){var o=r.entangledLanes|=n;for(r=r.entanglements;o;){var t=31-nn(o),m=1<<t;m&n|r[t]&n&&(r[t]|=n),o&=~m}}var kt=0;function Qm(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Zm,Ed,Jm,eg,tg,hc=!1,mi=[],eo=null,to=null,ro=null,Ta=new Map,Ma=new Map,Xn=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yh(r,n){switch(r){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":Ta.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(n.pointerId)}}function Ks(r,n,o,t,m,c){return r===null||r.nativeEvent!==c?(r={blockedOn:n,domEventName:o,eventSystemFlags:t,nativeEvent:c,targetContainers:[m]},n!==null&&(n=Qa(n),n!==null&&Ed(n)),r):(r.eventSystemFlags|=t,n=r.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),r)}function A0(r,n,o,t,m){switch(n){case"focusin":return eo=Ks(eo,r,n,o,t,m),!0;case"dragenter":return to=Ks(to,r,n,o,t,m),!0;case"mouseover":return ro=Ks(ro,r,n,o,t,m),!0;case"pointerover":var c=m.pointerId;return Ta.set(c,Ks(Ta.get(c)||null,r,n,o,t,m)),!0;case"gotpointercapture":return c=m.pointerId,Ma.set(c,Ks(Ma.get(c)||null,r,n,o,t,m)),!0}return!1}function rg(r){var n=So(r.target);if(n!==null){var o=Vo(n);if(o!==null){if(n=o.tag,n===13){if(n=Hm(o),n!==null){r.blockedOn=n,tg(r.priority,function(){Jm(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ii(r){if(r.blockedOn!==null)return!1;for(var n=r.targetContainers;0<n.length;){var o=pc(r.domEventName,r.eventSystemFlags,n[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var t=new o.constructor(o.type,o);lc=t,o.target.dispatchEvent(t),lc=null}else return n=Qa(o),n!==null&&Ed(n),r.blockedOn=o,!1;n.shift()}return!0}function vh(r,n,o){Ii(r)&&o.delete(n)}function R0(){hc=!1,eo!==null&&Ii(eo)&&(eo=null),to!==null&&Ii(to)&&(to=null),ro!==null&&Ii(ro)&&(ro=null),Ta.forEach(vh),Ma.forEach(vh)}function Qs(r,n){r.blockedOn===n&&(r.blockedOn=null,hc||(hc=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,R0)))}function Ca(r){function n(m){return Qs(m,r)}if(0<mi.length){Qs(mi[0],r);for(var o=1;o<mi.length;o++){var t=mi[o];t.blockedOn===r&&(t.blockedOn=null)}}for(eo!==null&&Qs(eo,r),to!==null&&Qs(to,r),ro!==null&&Qs(ro,r),Ta.forEach(n),Ma.forEach(n),o=0;o<Xn.length;o++)t=Xn[o],t.blockedOn===r&&(t.blockedOn=null);for(;0<Xn.length&&(o=Xn[0],o.blockedOn===null);)rg(o),o.blockedOn===null&&Xn.shift()}var ys=Rn.ReactCurrentBatchConfig,Zi=!0;function I0(r,n,o,t){var m=kt,c=ys.transition;ys.transition=null;try{kt=1,Td(r,n,o,t)}finally{kt=m,ys.transition=c}}function D0(r,n,o,t){var m=kt,c=ys.transition;ys.transition=null;try{kt=4,Td(r,n,o,t)}finally{kt=m,ys.transition=c}}function Td(r,n,o,t){if(Zi){var m=pc(r,n,o,t);if(m===null)Su(r,n,t,Ji,o),yh(r,t);else if(A0(m,r,n,o,t))t.stopPropagation();else if(yh(r,t),n&4&&-1<N0.indexOf(r)){for(;m!==null;){var c=Qa(m);if(c!==null&&Zm(c),c=pc(r,n,o,t),c===null&&Su(r,n,t,Ji,o),c===m)break;m=c}m!==null&&t.stopPropagation()}else Su(r,n,t,null,o)}}var Ji=null;function pc(r,n,o,t){if(Ji=null,r=_d(t),r=So(r),r!==null)if(n=Vo(r),n===null)r=null;else if(o=n.tag,o===13){if(r=Hm(n),r!==null)return r;r=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;r=null}else n!==r&&(r=null);return Ji=r,null}function ng(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S0()){case Sd:return 1;case Ym:return 4;case Ki:case k0:return 16;case Xm:return 536870912;default:return 16}default:return 16}}var Qn=null,Md=null,Di=null;function og(){if(Di)return Di;var r,n=Md,o=n.length,t,m="value"in Qn?Qn.value:Qn.textContent,c=m.length;for(r=0;r<o&&n[r]===m[r];r++);var a=o-r;for(t=1;t<=a&&n[o-t]===m[c-t];t++);return Di=m.slice(r,1<t?1-t:void 0)}function Fi(r){var n=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&n===13&&(r=13)):r=n,r===10&&(r=13),32<=r||r===13?r:0}function gi(){return!0}function bh(){return!1}function Br(r){function n(o,t,m,c,a){this._reactName=o,this._targetInst=m,this.type=t,this.nativeEvent=c,this.target=a,this.currentTarget=null;for(var h in r)r.hasOwnProperty(h)&&(o=r[h],this[h]=o?o(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?gi:bh,this.isPropagationStopped=bh,this}return Bt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),n}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cd=Br(As),Ka=Bt({},As,{view:0,detail:0}),F0=Br(Ka),mu,gu,Zs,Ll=Bt({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Od,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zs&&(Zs&&r.type==="mousemove"?(mu=r.screenX-Zs.screenX,gu=r.screenY-Zs.screenY):gu=mu=0,Zs=r),mu)},movementY:function(r){return"movementY"in r?r.movementY:gu}}),xh=Br(Ll),U0=Bt({},Ll,{dataTransfer:0}),B0=Br(U0),z0=Bt({},Ka,{relatedTarget:0}),yu=Br(z0),G0=Bt({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),V0=Br(G0),H0=Bt({},As,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),W0=Br(H0),q0=Bt({},As,{data:0}),wh=Br(q0),$0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K0(r){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(r):(r=X0[r])?!!n[r]:!1}function Od(){return K0}var Q0=Bt({},Ka,{key:function(r){if(r.key){var n=$0[r.key]||r.key;if(n!=="Unidentified")return n}return r.type==="keypress"?(r=Fi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Y0[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Od,charCode:function(r){return r.type==="keypress"?Fi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Z0=Br(Q0),J0=Bt({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=Br(J0),eb=Bt({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Od}),tb=Br(eb),rb=Bt({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),nb=Br(rb),ob=Bt({},Ll,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),sb=Br(ob),ab=[9,13,27,32],Pd=Pn&&"CompositionEvent"in window,ha=null;Pn&&"documentMode"in document&&(ha=document.documentMode);var ib=Pn&&"TextEvent"in window&&!ha,sg=Pn&&(!Pd||ha&&8<ha&&11>=ha),_h=" ",Sh=!1;function ag(r,n){switch(r){case"keyup":return ab.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ig(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ns=!1;function lb(r,n){switch(r){case"compositionend":return ig(n);case"keypress":return n.which!==32?null:(Sh=!0,_h);case"textInput":return r=n.data,r===_h&&Sh?null:r;default:return null}}function ub(r,n){if(ns)return r==="compositionend"||!Pd&&ag(r,n)?(r=og(),Di=Md=Qn=null,ns=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sg&&n.locale!=="ko"?null:n.data;default:return null}}var cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kh(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n==="input"?!!cb[r.type]:n==="textarea"}function lg(r,n,o,t){Um(t),n=el(n,"onChange"),0<n.length&&(o=new Cd("onChange","change",null,o,t),r.push({event:o,listeners:n}))}var pa=null,Oa=null;function db(r){bg(r,0)}function Nl(r){var n=as(r);if(Lm(n))return r}function fb(r,n){if(r==="change")return n}var ug=!1;if(Pn){var vu;if(Pn){var bu="oninput"in document;if(!bu){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),bu=typeof Eh.oninput=="function"}vu=bu}else vu=!1;ug=vu&&(!document.documentMode||9<document.documentMode)}function Th(){pa&&(pa.detachEvent("onpropertychange",cg),Oa=pa=null)}function cg(r){if(r.propertyName==="value"&&Nl(Oa)){var n=[];lg(n,Oa,r,_d(r)),Vm(db,n)}}function hb(r,n,o){r==="focusin"?(Th(),pa=n,Oa=o,pa.attachEvent("onpropertychange",cg)):r==="focusout"&&Th()}function pb(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Nl(Oa)}function mb(r,n){if(r==="click")return Nl(n)}function gb(r,n){if(r==="input"||r==="change")return Nl(n)}function yb(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var sn=typeof Object.is=="function"?Object.is:yb;function Pa(r,n){if(sn(r,n))return!0;if(typeof r!="object"||r===null||typeof n!="object"||n===null)return!1;var o=Object.keys(r),t=Object.keys(n);if(o.length!==t.length)return!1;for(t=0;t<o.length;t++){var m=o[t];if(!Ku.call(n,m)||!sn(r[m],n[m]))return!1}return!0}function Mh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ch(r,n){var o=Mh(r);r=0;for(var t;o;){if(o.nodeType===3){if(t=r+o.textContent.length,r<=n&&t>=n)return{node:o,offset:n-r};r=t}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Mh(o)}}function dg(r,n){return r&&n?r===n?!0:r&&r.nodeType===3?!1:n&&n.nodeType===3?dg(r,n.parentNode):"contains"in r?r.contains(n):r.compareDocumentPosition?!!(r.compareDocumentPosition(n)&16):!1:!1}function fg(){for(var r=window,n=$i();n instanceof r.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)r=n.contentWindow;else break;n=$i(r.document)}return n}function Ld(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&(n==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||n==="textarea"||r.contentEditable==="true")}function vb(r){var n=fg(),o=r.focusedElem,t=r.selectionRange;if(n!==o&&o&&o.ownerDocument&&dg(o.ownerDocument.documentElement,o)){if(t!==null&&Ld(o)){if(n=t.start,r=t.end,r===void 0&&(r=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(r,o.value.length);else if(r=(n=o.ownerDocument||document)&&n.defaultView||window,r.getSelection){r=r.getSelection();var m=o.textContent.length,c=Math.min(t.start,m);t=t.end===void 0?c:Math.min(t.end,m),!r.extend&&c>t&&(m=t,t=c,c=m),m=Ch(o,c);var a=Ch(o,t);m&&a&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(n=n.createRange(),n.setStart(m.node,m.offset),r.removeAllRanges(),c>t?(r.addRange(n),r.extend(a.node,a.offset)):(n.setEnd(a.node,a.offset),r.addRange(n)))}}for(n=[],r=o;r=r.parentNode;)r.nodeType===1&&n.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)r=n[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var bb=Pn&&"documentMode"in document&&11>=document.documentMode,os=null,mc=null,ma=null,gc=!1;function Oh(r,n,o){var t=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gc||os==null||os!==$i(t)||(t=os,"selectionStart"in t&&Ld(t)?t={start:t.selectionStart,end:t.selectionEnd}:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection(),t={anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}),ma&&Pa(ma,t)||(ma=t,t=el(mc,"onSelect"),0<t.length&&(n=new Cd("onSelect","select",null,n,o),r.push({event:n,listeners:t}),n.target=os)))}function yi(r,n){var o={};return o[r.toLowerCase()]=n.toLowerCase(),o["Webkit"+r]="webkit"+n,o["Moz"+r]="moz"+n,o}var ss={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},xu={},hg={};Pn&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Al(r){if(xu[r])return xu[r];if(!ss[r])return r;var n=ss[r],o;for(o in n)if(n.hasOwnProperty(o)&&o in hg)return xu[r]=n[o];return r}var pg=Al("animationend"),mg=Al("animationiteration"),gg=Al("animationstart"),yg=Al("transitionend"),vg=new Map,Ph="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(r,n){vg.set(r,n),Go(n,[r])}for(var wu=0;wu<Ph.length;wu++){var ju=Ph[wu],xb=ju.toLowerCase(),wb=ju[0].toUpperCase()+ju.slice(1);po(xb,"on"+wb)}po(pg,"onAnimationEnd");po(mg,"onAnimationIteration");po(gg,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(yg,"onTransitionEnd");js("onMouseEnter",["mouseout","mouseover"]);js("onMouseLeave",["mouseout","mouseover"]);js("onPointerEnter",["pointerout","pointerover"]);js("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jb=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function Lh(r,n,o){var t=r.type||"unknown-event";r.currentTarget=o,x0(t,n,void 0,r),r.currentTarget=null}function bg(r,n){n=(n&4)!==0;for(var o=0;o<r.length;o++){var t=r[o],m=t.event;t=t.listeners;e:{var c=void 0;if(n)for(var a=t.length-1;0<=a;a--){var h=t[a],s=h.instance,p=h.currentTarget;if(h=h.listener,s!==c&&m.isPropagationStopped())break e;Lh(m,h,p),c=s}else for(a=0;a<t.length;a++){if(h=t[a],s=h.instance,p=h.currentTarget,h=h.listener,s!==c&&m.isPropagationStopped())break e;Lh(m,h,p),c=s}}}if(Xi)throw r=dc,Xi=!1,dc=null,r}function At(r,n){var o=n[wc];o===void 0&&(o=n[wc]=new Set);var t=r+"__bubble";o.has(t)||(xg(n,r,2,!1),o.add(t))}function _u(r,n,o){var t=0;n&&(t|=4),xg(o,r,t,n)}var vi="_reactListening"+Math.random().toString(36).slice(2);function La(r){if(!r[vi]){r[vi]=!0,Tm.forEach(function(o){o!=="selectionchange"&&(jb.has(o)||_u(o,!1,r),_u(o,!0,r))});var n=r.nodeType===9?r:r.ownerDocument;n===null||n[vi]||(n[vi]=!0,_u("selectionchange",!1,n))}}function xg(r,n,o,t){switch(ng(n)){case 1:var m=I0;break;case 4:m=D0;break;default:m=Td}o=m.bind(null,n,o,r),m=void 0,!cc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),t?m!==void 0?r.addEventListener(n,o,{capture:!0,passive:m}):r.addEventListener(n,o,!0):m!==void 0?r.addEventListener(n,o,{passive:m}):r.addEventListener(n,o,!1)}function Su(r,n,o,t,m){var c=t;if(!(n&1)&&!(n&2)&&t!==null)e:for(;;){if(t===null)return;var a=t.tag;if(a===3||a===4){var h=t.stateNode.containerInfo;if(h===m||h.nodeType===8&&h.parentNode===m)break;if(a===4)for(a=t.return;a!==null;){var s=a.tag;if((s===3||s===4)&&(s=a.stateNode.containerInfo,s===m||s.nodeType===8&&s.parentNode===m))return;a=a.return}for(;h!==null;){if(a=So(h),a===null)return;if(s=a.tag,s===5||s===6){t=c=a;continue e}h=h.parentNode}}t=t.return}Vm(function(){var p=c,b=_d(o),v=[];e:{var i=vg.get(r);if(i!==void 0){var f=Cd,u=r;switch(r){case"keypress":if(Fi(o)===0)break e;case"keydown":case"keyup":f=Z0;break;case"focusin":u="focus",f=yu;break;case"focusout":u="blur",f=yu;break;case"beforeblur":case"afterblur":f=yu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=tb;break;case pg:case mg:case gg:f=V0;break;case yg:f=nb;break;case"scroll":f=F0;break;case"wheel":f=sb;break;case"copy":case"cut":case"paste":f=W0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=jh}var g=(n&4)!==0,y=!g&&r==="scroll",d=g?i!==null?i+"Capture":null:i;g=[];for(var l=p,w;l!==null;){w=l;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,d!==null&&(x=Ea(l,d),x!=null&&g.push(Na(l,x,w)))),y)break;l=l.return}0<g.length&&(i=new f(i,u,null,o,b),v.push({event:i,listeners:g}))}}if(!(n&7)){e:{if(i=r==="mouseover"||r==="pointerover",f=r==="mouseout"||r==="pointerout",i&&o!==lc&&(u=o.relatedTarget||o.fromElement)&&(So(u)||u[Ln]))break e;if((f||i)&&(i=b.window===b?b:(i=b.ownerDocument)?i.defaultView||i.parentWindow:window,f?(u=o.relatedTarget||o.toElement,f=p,u=u?So(u):null,u!==null&&(y=Vo(u),u!==y||u.tag!==5&&u.tag!==6)&&(u=null)):(f=null,u=p),f!==u)){if(g=xh,x="onMouseLeave",d="onMouseEnter",l="mouse",(r==="pointerout"||r==="pointerover")&&(g=jh,x="onPointerLeave",d="onPointerEnter",l="pointer"),y=f==null?i:as(f),w=u==null?i:as(u),i=new g(x,l+"leave",f,o,b),i.target=y,i.relatedTarget=w,x=null,So(b)===p&&(g=new g(d,l+"enter",u,o,b),g.target=w,g.relatedTarget=y,x=g),y=x,f&&u)t:{for(g=f,d=u,l=0,w=g;w;w=Yo(w))l++;for(w=0,x=d;x;x=Yo(x))w++;for(;0<l-w;)g=Yo(g),l--;for(;0<w-l;)d=Yo(d),w--;for(;l--;){if(g===d||d!==null&&g===d.alternate)break t;g=Yo(g),d=Yo(d)}g=null}else g=null;f!==null&&Nh(v,i,f,g,!1),u!==null&&y!==null&&Nh(v,y,u,g,!0)}}e:{if(i=p?as(p):window,f=i.nodeName&&i.nodeName.toLowerCase(),f==="select"||f==="input"&&i.type==="file")var _=fb;else if(kh(i))if(ug)_=gb;else{_=pb;var T=hb}else(f=i.nodeName)&&f.toLowerCase()==="input"&&(i.type==="checkbox"||i.type==="radio")&&(_=mb);if(_&&(_=_(r,p))){lg(v,_,o,b);break e}T&&T(r,i,p),r==="focusout"&&(T=i._wrapperState)&&T.controlled&&i.type==="number"&&nc(i,"number",i.value)}switch(T=p?as(p):window,r){case"focusin":(kh(T)||T.contentEditable==="true")&&(os=T,mc=p,ma=null);break;case"focusout":ma=mc=os=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,Oh(v,o,b);break;case"selectionchange":if(bb)break;case"keydown":case"keyup":Oh(v,o,b)}var E;if(Pd)e:{switch(r){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ns?ag(r,o)&&(S="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(S="onCompositionStart");S&&(sg&&o.locale!=="ko"&&(ns||S!=="onCompositionStart"?S==="onCompositionEnd"&&ns&&(E=og()):(Qn=b,Md="value"in Qn?Qn.value:Qn.textContent,ns=!0)),T=el(p,S),0<T.length&&(S=new wh(S,r,null,o,b),v.push({event:S,listeners:T}),E?S.data=E:(E=ig(o),E!==null&&(S.data=E)))),(E=ib?lb(r,o):ub(r,o))&&(p=el(p,"onBeforeInput"),0<p.length&&(b=new wh("onBeforeInput","beforeinput",null,o,b),v.push({event:b,listeners:p}),b.data=E))}bg(v,n)})}function Na(r,n,o){return{instance:r,listener:n,currentTarget:o}}function el(r,n){for(var o=n+"Capture",t=[];r!==null;){var m=r,c=m.stateNode;m.tag===5&&c!==null&&(m=c,c=Ea(r,o),c!=null&&t.unshift(Na(r,c,m)),c=Ea(r,n),c!=null&&t.push(Na(r,c,m))),r=r.return}return t}function Yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Nh(r,n,o,t,m){for(var c=n._reactName,a=[];o!==null&&o!==t;){var h=o,s=h.alternate,p=h.stateNode;if(s!==null&&s===t)break;h.tag===5&&p!==null&&(h=p,m?(s=Ea(o,c),s!=null&&a.unshift(Na(o,s,h))):m||(s=Ea(o,c),s!=null&&a.push(Na(o,s,h)))),o=o.return}a.length!==0&&r.push({event:n,listeners:a})}var _b=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function Ah(r){return(typeof r=="string"?r:""+r).replace(_b,`
`).replace(Sb,"")}function bi(r,n,o){if(n=Ah(n),Ah(r)!==n&&o)throw Error(He(425))}function tl(){}var yc=null,vc=null;function bc(r,n){return r==="textarea"||r==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xc=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(r){return Rh.resolve(null).then(r).catch(Tb)}:xc;function Tb(r){setTimeout(function(){throw r})}function ku(r,n){var o=n,t=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(t===0){r.removeChild(m),Ca(n);return}t--}else o!=="$"&&o!=="$?"&&o!=="$!"||t++;o=m}while(o);Ca(n)}function no(r){for(;r!=null;r=r.nextSibling){var n=r.nodeType;if(n===1||n===3)break;if(n===8){if(n=r.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return r}function Ih(r){r=r.previousSibling;for(var n=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return r;n--}else o==="/$"&&n++}r=r.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),mn="__reactFiber$"+Rs,Aa="__reactProps$"+Rs,Ln="__reactContainer$"+Rs,wc="__reactEvents$"+Rs,Mb="__reactListeners$"+Rs,Cb="__reactHandles$"+Rs;function So(r){var n=r[mn];if(n)return n;for(var o=r.parentNode;o;){if(n=o[Ln]||o[mn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(r=Ih(r);r!==null;){if(o=r[mn])return o;r=Ih(r)}return n}r=o,o=r.parentNode}return null}function Qa(r){return r=r[mn]||r[Ln],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function as(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(He(33))}function Rl(r){return r[Aa]||null}var jc=[],is=-1;function mo(r){return{current:r}}function Rt(r){0>is||(r.current=jc[is],jc[is]=null,is--)}function Pt(r,n){is++,jc[is]=r.current,r.current=n}var co={},yr=mo(co),kr=mo(!1),No=co;function _s(r,n){var o=r.type.contextTypes;if(!o)return co;var t=r.stateNode;if(t&&t.__reactInternalMemoizedUnmaskedChildContext===n)return t.__reactInternalMemoizedMaskedChildContext;var m={},c;for(c in o)m[c]=n[c];return t&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=n,r.__reactInternalMemoizedMaskedChildContext=m),m}function Er(r){return r=r.childContextTypes,r!=null}function rl(){Rt(kr),Rt(yr)}function Dh(r,n,o){if(yr.current!==co)throw Error(He(168));Pt(yr,n),Pt(kr,o)}function wg(r,n,o){var t=r.stateNode;if(n=n.childContextTypes,typeof t.getChildContext!="function")return o;t=t.getChildContext();for(var m in t)if(!(m in n))throw Error(He(108,h0(r)||"Unknown",m));return Bt({},o,t)}function nl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||co,No=yr.current,Pt(yr,r),Pt(kr,kr.current),!0}function Fh(r,n,o){var t=r.stateNode;if(!t)throw Error(He(169));o?(r=wg(r,n,No),t.__reactInternalMemoizedMergedChildContext=r,Rt(kr),Rt(yr),Pt(yr,r)):Rt(kr),Pt(kr,o)}var kn=null,Il=!1,Eu=!1;function jg(r){kn===null?kn=[r]:kn.push(r)}function Ob(r){Il=!0,jg(r)}function go(){if(!Eu&&kn!==null){Eu=!0;var r=0,n=kt;try{var o=kn;for(kt=1;r<o.length;r++){var t=o[r];do t=t(!0);while(t!==null)}kn=null,Il=!1}catch(m){throw kn!==null&&(kn=kn.slice(r+1)),$m(Sd,go),m}finally{kt=n,Eu=!1}}return null}var ls=[],us=0,ol=null,sl=0,Gr=[],Vr=0,Ao=null,Tn=1,Mn="";function xo(r,n){ls[us++]=sl,ls[us++]=ol,ol=r,sl=n}function _g(r,n,o){Gr[Vr++]=Tn,Gr[Vr++]=Mn,Gr[Vr++]=Ao,Ao=r;var t=Tn;r=Mn;var m=32-nn(t)-1;t&=~(1<<m),o+=1;var c=32-nn(n)+m;if(30<c){var a=m-m%5;c=(t&(1<<a)-1).toString(32),t>>=a,m-=a,Tn=1<<32-nn(n)+m|o<<m|t,Mn=c+r}else Tn=1<<c|o<<m|t,Mn=r}function Nd(r){r.return!==null&&(xo(r,1),_g(r,1,0))}function Ad(r){for(;r===ol;)ol=ls[--us],ls[us]=null,sl=ls[--us],ls[us]=null;for(;r===Ao;)Ao=Gr[--Vr],Gr[Vr]=null,Mn=Gr[--Vr],Gr[Vr]=null,Tn=Gr[--Vr],Gr[Vr]=null}var Ir=null,Rr=null,It=!1,tn=null;function Sg(r,n){var o=Hr(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=r,n=r.deletions,n===null?(r.deletions=[o],r.flags|=16):n.push(o)}function Uh(r,n){switch(r.tag){case 5:var o=r.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(r.stateNode=n,Ir=r,Rr=no(n.firstChild),!0):!1;case 6:return n=r.pendingProps===""||n.nodeType!==3?null:n,n!==null?(r.stateNode=n,Ir=r,Rr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=Ao!==null?{id:Tn,overflow:Mn}:null,r.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Hr(18,null,null,0),o.stateNode=n,o.return=r,r.child=o,Ir=r,Rr=null,!0):!1;default:return!1}}function _c(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Sc(r){if(It){var n=Rr;if(n){var o=n;if(!Uh(r,n)){if(_c(r))throw Error(He(418));n=no(o.nextSibling);var t=Ir;n&&Uh(r,n)?Sg(t,o):(r.flags=r.flags&-4097|2,It=!1,Ir=r)}}else{if(_c(r))throw Error(He(418));r.flags=r.flags&-4097|2,It=!1,Ir=r}}}function Bh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ir=r}function xi(r){if(r!==Ir)return!1;if(!It)return Bh(r),It=!0,!1;var n;if((n=r.tag!==3)&&!(n=r.tag!==5)&&(n=r.type,n=n!=="head"&&n!=="body"&&!bc(r.type,r.memoizedProps)),n&&(n=Rr)){if(_c(r))throw kg(),Error(He(418));for(;n;)Sg(r,n),n=no(n.nextSibling)}if(Bh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(He(317));e:{for(r=r.nextSibling,n=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(n===0){Rr=no(r.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}r=r.nextSibling}Rr=null}}else Rr=Ir?no(r.stateNode.nextSibling):null;return!0}function kg(){for(var r=Rr;r;)r=no(r.nextSibling)}function Ss(){Rr=Ir=null,It=!1}function Rd(r){tn===null?tn=[r]:tn.push(r)}var Pb=Rn.ReactCurrentBatchConfig;function Js(r,n,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(He(309));var t=o.stateNode}if(!t)throw Error(He(147,r));var m=t,c=""+r;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===c?n.ref:(n=function(a){var h=m.refs;a===null?delete h[c]:h[c]=a},n._stringRef=c,n)}if(typeof r!="string")throw Error(He(284));if(!o._owner)throw Error(He(290,r))}return r}function wi(r,n){throw r=Object.prototype.toString.call(n),Error(He(31,r==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":r))}function zh(r){var n=r._init;return n(r._payload)}function Eg(r){function n(d,l){if(r){var w=d.deletions;w===null?(d.deletions=[l],d.flags|=16):w.push(l)}}function o(d,l){if(!r)return null;for(;l!==null;)n(d,l),l=l.sibling;return null}function t(d,l){for(d=new Map;l!==null;)l.key!==null?d.set(l.key,l):d.set(l.index,l),l=l.sibling;return d}function m(d,l){return d=io(d,l),d.index=0,d.sibling=null,d}function c(d,l,w){return d.index=w,r?(w=d.alternate,w!==null?(w=w.index,w<l?(d.flags|=2,l):w):(d.flags|=2,l)):(d.flags|=1048576,l)}function a(d){return r&&d.alternate===null&&(d.flags|=2),d}function h(d,l,w,x){return l===null||l.tag!==6?(l=Nu(w,d.mode,x),l.return=d,l):(l=m(l,w),l.return=d,l)}function s(d,l,w,x){var _=w.type;return _===rs?b(d,l,w.props.children,x,w.key):l!==null&&(l.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Hn&&zh(_)===l.type)?(x=m(l,w.props),x.ref=Js(d,l,w),x.return=d,x):(x=Wi(w.type,w.key,w.props,null,d.mode,x),x.ref=Js(d,l,w),x.return=d,x)}function p(d,l,w,x){return l===null||l.tag!==4||l.stateNode.containerInfo!==w.containerInfo||l.stateNode.implementation!==w.implementation?(l=Au(w,d.mode,x),l.return=d,l):(l=m(l,w.children||[]),l.return=d,l)}function b(d,l,w,x,_){return l===null||l.tag!==7?(l=Oo(w,d.mode,x,_),l.return=d,l):(l=m(l,w),l.return=d,l)}function v(d,l,w){if(typeof l=="string"&&l!==""||typeof l=="number")return l=Nu(""+l,d.mode,w),l.return=d,l;if(typeof l=="object"&&l!==null){switch(l.$$typeof){case ci:return w=Wi(l.type,l.key,l.props,null,d.mode,w),w.ref=Js(d,null,l),w.return=d,w;case ts:return l=Au(l,d.mode,w),l.return=d,l;case Hn:var x=l._init;return v(d,x(l._payload),w)}if(aa(l)||Ys(l))return l=Oo(l,d.mode,w,null),l.return=d,l;wi(d,l)}return null}function i(d,l,w,x){var _=l!==null?l.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:h(d,l,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ci:return w.key===_?s(d,l,w,x):null;case ts:return w.key===_?p(d,l,w,x):null;case Hn:return _=w._init,i(d,l,_(w._payload),x)}if(aa(w)||Ys(w))return _!==null?null:b(d,l,w,x,null);wi(d,w)}return null}function f(d,l,w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return d=d.get(w)||null,h(l,d,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ci:return d=d.get(x.key===null?w:x.key)||null,s(l,d,x,_);case ts:return d=d.get(x.key===null?w:x.key)||null,p(l,d,x,_);case Hn:var T=x._init;return f(d,l,w,T(x._payload),_)}if(aa(x)||Ys(x))return d=d.get(w)||null,b(l,d,x,_,null);wi(l,x)}return null}function u(d,l,w,x){for(var _=null,T=null,E=l,S=l=0,P=null;E!==null&&S<w.length;S++){E.index>S?(P=E,E=null):P=E.sibling;var N=i(d,E,w[S],x);if(N===null){E===null&&(E=P);break}r&&E&&N.alternate===null&&n(d,E),l=c(N,l,S),T===null?_=N:T.sibling=N,T=N,E=P}if(S===w.length)return o(d,E),It&&xo(d,S),_;if(E===null){for(;S<w.length;S++)E=v(d,w[S],x),E!==null&&(l=c(E,l,S),T===null?_=E:T.sibling=E,T=E);return It&&xo(d,S),_}for(E=t(d,E);S<w.length;S++)P=f(E,d,S,w[S],x),P!==null&&(r&&P.alternate!==null&&E.delete(P.key===null?S:P.key),l=c(P,l,S),T===null?_=P:T.sibling=P,T=P);return r&&E.forEach(function(C){return n(d,C)}),It&&xo(d,S),_}function g(d,l,w,x){var _=Ys(w);if(typeof _!="function")throw Error(He(150));if(w=_.call(w),w==null)throw Error(He(151));for(var T=_=null,E=l,S=l=0,P=null,N=w.next();E!==null&&!N.done;S++,N=w.next()){E.index>S?(P=E,E=null):P=E.sibling;var C=i(d,E,N.value,x);if(C===null){E===null&&(E=P);break}r&&E&&C.alternate===null&&n(d,E),l=c(C,l,S),T===null?_=C:T.sibling=C,T=C,E=P}if(N.done)return o(d,E),It&&xo(d,S),_;if(E===null){for(;!N.done;S++,N=w.next())N=v(d,N.value,x),N!==null&&(l=c(N,l,S),T===null?_=N:T.sibling=N,T=N);return It&&xo(d,S),_}for(E=t(d,E);!N.done;S++,N=w.next())N=f(E,d,S,N.value,x),N!==null&&(r&&N.alternate!==null&&E.delete(N.key===null?S:N.key),l=c(N,l,S),T===null?_=N:T.sibling=N,T=N);return r&&E.forEach(function(I){return n(d,I)}),It&&xo(d,S),_}function y(d,l,w,x){if(typeof w=="object"&&w!==null&&w.type===rs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ci:e:{for(var _=w.key,T=l;T!==null;){if(T.key===_){if(_=w.type,_===rs){if(T.tag===7){o(d,T.sibling),l=m(T,w.props.children),l.return=d,d=l;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Hn&&zh(_)===T.type){o(d,T.sibling),l=m(T,w.props),l.ref=Js(d,T,w),l.return=d,d=l;break e}o(d,T);break}else n(d,T);T=T.sibling}w.type===rs?(l=Oo(w.props.children,d.mode,x,w.key),l.return=d,d=l):(x=Wi(w.type,w.key,w.props,null,d.mode,x),x.ref=Js(d,l,w),x.return=d,d=x)}return a(d);case ts:e:{for(T=w.key;l!==null;){if(l.key===T)if(l.tag===4&&l.stateNode.containerInfo===w.containerInfo&&l.stateNode.implementation===w.implementation){o(d,l.sibling),l=m(l,w.children||[]),l.return=d,d=l;break e}else{o(d,l);break}else n(d,l);l=l.sibling}l=Au(w,d.mode,x),l.return=d,d=l}return a(d);case Hn:return T=w._init,y(d,l,T(w._payload),x)}if(aa(w))return u(d,l,w,x);if(Ys(w))return g(d,l,w,x);wi(d,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,l!==null&&l.tag===6?(o(d,l.sibling),l=m(l,w),l.return=d,d=l):(o(d,l),l=Nu(w,d.mode,x),l.return=d,d=l),a(d)):o(d,l)}return y}var ks=Eg(!0),Tg=Eg(!1),al=mo(null),il=null,cs=null,Id=null;function Dd(){Id=cs=il=null}function Fd(r){var n=al.current;Rt(al),r._currentValue=n}function kc(r,n,o){for(;r!==null;){var t=r.alternate;if((r.childLanes&n)!==n?(r.childLanes|=n,t!==null&&(t.childLanes|=n)):t!==null&&(t.childLanes&n)!==n&&(t.childLanes|=n),r===o)break;r=r.return}}function vs(r,n){il=r,Id=cs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&n&&(Sr=!0),r.firstContext=null)}function $r(r){var n=r._currentValue;if(Id!==r)if(r={context:r,memoizedValue:n,next:null},cs===null){if(il===null)throw Error(He(308));cs=r,il.dependencies={lanes:0,firstContext:r}}else cs=cs.next=r;return n}var ko=null;function Ud(r){ko===null?ko=[r]:ko.push(r)}function Mg(r,n,o,t){var m=n.interleaved;return m===null?(o.next=o,Ud(n)):(o.next=m.next,m.next=o),n.interleaved=o,Nn(r,t)}function Nn(r,n){r.lanes|=n;var o=r.alternate;for(o!==null&&(o.lanes|=n),o=r,r=r.return;r!==null;)r.childLanes|=n,o=r.alternate,o!==null&&(o.childLanes|=n),o=r,r=r.return;return o.tag===3?o.stateNode:null}var Wn=!1;function Bd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cg(r,n){r=r.updateQueue,n.updateQueue===r&&(n.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function On(r,n){return{eventTime:r,lane:n,tag:0,payload:null,callback:null,next:null}}function oo(r,n,o){var t=r.updateQueue;if(t===null)return null;if(t=t.shared,xt&2){var m=t.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),t.pending=n,Nn(r,o)}return m=t.interleaved,m===null?(n.next=n,Ud(t)):(n.next=m.next,m.next=n),t.interleaved=n,Nn(r,o)}function Ui(r,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var t=n.lanes;t&=r.pendingLanes,o|=t,n.lanes=o,kd(r,o)}}function Gh(r,n){var o=r.updateQueue,t=r.alternate;if(t!==null&&(t=t.updateQueue,o===t)){var m=null,c=null;if(o=o.firstBaseUpdate,o!==null){do{var a={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};c===null?m=c=a:c=c.next=a,o=o.next}while(o!==null);c===null?m=c=n:c=c.next=n}else m=c=n;o={baseState:t.baseState,firstBaseUpdate:m,lastBaseUpdate:c,shared:t.shared,effects:t.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=n:r.next=n,o.lastBaseUpdate=n}function ll(r,n,o,t){var m=r.updateQueue;Wn=!1;var c=m.firstBaseUpdate,a=m.lastBaseUpdate,h=m.shared.pending;if(h!==null){m.shared.pending=null;var s=h,p=s.next;s.next=null,a===null?c=p:a.next=p,a=s;var b=r.alternate;b!==null&&(b=b.updateQueue,h=b.lastBaseUpdate,h!==a&&(h===null?b.firstBaseUpdate=p:h.next=p,b.lastBaseUpdate=s))}if(c!==null){var v=m.baseState;a=0,b=p=s=null,h=c;do{var i=h.lane,f=h.eventTime;if((t&i)===i){b!==null&&(b=b.next={eventTime:f,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var u=r,g=h;switch(i=n,f=o,g.tag){case 1:if(u=g.payload,typeof u=="function"){v=u.call(f,v,i);break e}v=u;break e;case 3:u.flags=u.flags&-65537|128;case 0:if(u=g.payload,i=typeof u=="function"?u.call(f,v,i):u,i==null)break e;v=Bt({},v,i);break e;case 2:Wn=!0}}h.callback!==null&&h.lane!==0&&(r.flags|=64,i=m.effects,i===null?m.effects=[h]:i.push(h))}else f={eventTime:f,lane:i,tag:h.tag,payload:h.payload,callback:h.callback,next:null},b===null?(p=b=f,s=v):b=b.next=f,a|=i;if(h=h.next,h===null){if(h=m.shared.pending,h===null)break;i=h,h=i.next,i.next=null,m.lastBaseUpdate=i,m.shared.pending=null}}while(!0);if(b===null&&(s=v),m.baseState=s,m.firstBaseUpdate=p,m.lastBaseUpdate=b,n=m.shared.interleaved,n!==null){m=n;do a|=m.lane,m=m.next;while(m!==n)}else c===null&&(m.shared.lanes=0);Io|=a,r.lanes=a,r.memoizedState=v}}function Vh(r,n,o){if(r=n.effects,n.effects=null,r!==null)for(n=0;n<r.length;n++){var t=r[n],m=t.callback;if(m!==null){if(t.callback=null,t=o,typeof m!="function")throw Error(He(191,m));m.call(t)}}}var Za={},xn=mo(Za),Ra=mo(Za),Ia=mo(Za);function Eo(r){if(r===Za)throw Error(He(174));return r}function zd(r,n){switch(Pt(Ia,n),Pt(Ra,r),Pt(xn,Za),r=n.nodeType,r){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:sc(null,"");break;default:r=r===8?n.parentNode:n,n=r.namespaceURI||null,r=r.tagName,n=sc(n,r)}Rt(xn),Pt(xn,n)}function Es(){Rt(xn),Rt(Ra),Rt(Ia)}function Og(r){Eo(Ia.current);var n=Eo(xn.current),o=sc(n,r.type);n!==o&&(Pt(Ra,r),Pt(xn,o))}function Gd(r){Ra.current===r&&(Rt(xn),Rt(Ra))}var Ft=mo(0);function ul(r){for(var n=r;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tu=[];function Vd(){for(var r=0;r<Tu.length;r++)Tu[r]._workInProgressVersionPrimary=null;Tu.length=0}var Bi=Rn.ReactCurrentDispatcher,Mu=Rn.ReactCurrentBatchConfig,Ro=0,Ut=null,Zt=null,or=null,cl=!1,ga=!1,Da=0,Lb=0;function pr(){throw Error(He(321))}function Hd(r,n){if(n===null)return!1;for(var o=0;o<n.length&&o<r.length;o++)if(!sn(r[o],n[o]))return!1;return!0}function Wd(r,n,o,t,m,c){if(Ro=c,Ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Bi.current=r===null||r.memoizedState===null?Ib:Db,r=o(t,m),ga){c=0;do{if(ga=!1,Da=0,25<=c)throw Error(He(301));c+=1,or=Zt=null,n.updateQueue=null,Bi.current=Fb,r=o(t,m)}while(ga)}if(Bi.current=dl,n=Zt!==null&&Zt.next!==null,Ro=0,or=Zt=Ut=null,cl=!1,n)throw Error(He(300));return r}function qd(){var r=Da!==0;return Da=0,r}function pn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Ut.memoizedState=or=r:or=or.next=r,or}function Yr(){if(Zt===null){var r=Ut.alternate;r=r!==null?r.memoizedState:null}else r=Zt.next;var n=or===null?Ut.memoizedState:or.next;if(n!==null)or=n,Zt=r;else{if(r===null)throw Error(He(310));Zt=r,r={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},or===null?Ut.memoizedState=or=r:or=or.next=r}return or}function Fa(r,n){return typeof n=="function"?n(r):n}function Cu(r){var n=Yr(),o=n.queue;if(o===null)throw Error(He(311));o.lastRenderedReducer=r;var t=Zt,m=t.baseQueue,c=o.pending;if(c!==null){if(m!==null){var a=m.next;m.next=c.next,c.next=a}t.baseQueue=m=c,o.pending=null}if(m!==null){c=m.next,t=t.baseState;var h=a=null,s=null,p=c;do{var b=p.lane;if((Ro&b)===b)s!==null&&(s=s.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),t=p.hasEagerState?p.eagerState:r(t,p.action);else{var v={lane:b,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};s===null?(h=s=v,a=t):s=s.next=v,Ut.lanes|=b,Io|=b}p=p.next}while(p!==null&&p!==c);s===null?a=t:s.next=h,sn(t,n.memoizedState)||(Sr=!0),n.memoizedState=t,n.baseState=a,n.baseQueue=s,o.lastRenderedState=t}if(r=o.interleaved,r!==null){m=r;do c=m.lane,Ut.lanes|=c,Io|=c,m=m.next;while(m!==r)}else m===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Ou(r){var n=Yr(),o=n.queue;if(o===null)throw Error(He(311));o.lastRenderedReducer=r;var t=o.dispatch,m=o.pending,c=n.memoizedState;if(m!==null){o.pending=null;var a=m=m.next;do c=r(c,a.action),a=a.next;while(a!==m);sn(c,n.memoizedState)||(Sr=!0),n.memoizedState=c,n.baseQueue===null&&(n.baseState=c),o.lastRenderedState=c}return[c,t]}function Pg(){}function Lg(r,n){var o=Ut,t=Yr(),m=n(),c=!sn(t.memoizedState,m);if(c&&(t.memoizedState=m,Sr=!0),t=t.queue,$d(Rg.bind(null,o,t,r),[r]),t.getSnapshot!==n||c||or!==null&&or.memoizedState.tag&1){if(o.flags|=2048,Ua(9,Ag.bind(null,o,t,m,n),void 0,null),sr===null)throw Error(He(349));Ro&30||Ng(o,n,m)}return m}function Ng(r,n,o){r.flags|=16384,r={getSnapshot:n,value:o},n=Ut.updateQueue,n===null?(n={lastEffect:null,stores:null},Ut.updateQueue=n,n.stores=[r]):(o=n.stores,o===null?n.stores=[r]:o.push(r))}function Ag(r,n,o,t){n.value=o,n.getSnapshot=t,Ig(n)&&Dg(r)}function Rg(r,n,o){return o(function(){Ig(n)&&Dg(r)})}function Ig(r){var n=r.getSnapshot;r=r.value;try{var o=n();return!sn(r,o)}catch{return!0}}function Dg(r){var n=Nn(r,1);n!==null&&on(n,r,1,-1)}function Hh(r){var n=pn();return typeof r=="function"&&(r=r()),n.memoizedState=n.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:r},n.queue=r,r=r.dispatch=Rb.bind(null,Ut,r),[n.memoizedState,r]}function Ua(r,n,o,t){return r={tag:r,create:n,destroy:o,deps:t,next:null},n=Ut.updateQueue,n===null?(n={lastEffect:null,stores:null},Ut.updateQueue=n,n.lastEffect=r.next=r):(o=n.lastEffect,o===null?n.lastEffect=r.next=r:(t=o.next,o.next=r,r.next=t,n.lastEffect=r)),r}function Fg(){return Yr().memoizedState}function zi(r,n,o,t){var m=pn();Ut.flags|=r,m.memoizedState=Ua(1|n,o,void 0,t===void 0?null:t)}function Dl(r,n,o,t){var m=Yr();t=t===void 0?null:t;var c=void 0;if(Zt!==null){var a=Zt.memoizedState;if(c=a.destroy,t!==null&&Hd(t,a.deps)){m.memoizedState=Ua(n,o,c,t);return}}Ut.flags|=r,m.memoizedState=Ua(1|n,o,c,t)}function Wh(r,n){return zi(8390656,8,r,n)}function $d(r,n){return Dl(2048,8,r,n)}function Ug(r,n){return Dl(4,2,r,n)}function Bg(r,n){return Dl(4,4,r,n)}function zg(r,n){if(typeof n=="function")return r=r(),n(r),function(){n(null)};if(n!=null)return r=r(),n.current=r,function(){n.current=null}}function Gg(r,n,o){return o=o!=null?o.concat([r]):null,Dl(4,4,zg.bind(null,n,r),o)}function Yd(){}function Vg(r,n){var o=Yr();n=n===void 0?null:n;var t=o.memoizedState;return t!==null&&n!==null&&Hd(n,t[1])?t[0]:(o.memoizedState=[r,n],r)}function Hg(r,n){var o=Yr();n=n===void 0?null:n;var t=o.memoizedState;return t!==null&&n!==null&&Hd(n,t[1])?t[0]:(r=r(),o.memoizedState=[r,n],r)}function Wg(r,n,o){return Ro&21?(sn(o,n)||(o=Km(),Ut.lanes|=o,Io|=o,r.baseState=!0),n):(r.baseState&&(r.baseState=!1,Sr=!0),r.memoizedState=o)}function Nb(r,n){var o=kt;kt=o!==0&&4>o?o:4,r(!0);var t=Mu.transition;Mu.transition={};try{r(!1),n()}finally{kt=o,Mu.transition=t}}function qg(){return Yr().memoizedState}function Ab(r,n,o){var t=ao(r);if(o={lane:t,action:o,hasEagerState:!1,eagerState:null,next:null},$g(r))Yg(n,o);else if(o=Mg(r,n,o,t),o!==null){var m=xr();on(o,r,t,m),Xg(o,n,t)}}function Rb(r,n,o){var t=ao(r),m={lane:t,action:o,hasEagerState:!1,eagerState:null,next:null};if($g(r))Yg(n,m);else{var c=r.alternate;if(r.lanes===0&&(c===null||c.lanes===0)&&(c=n.lastRenderedReducer,c!==null))try{var a=n.lastRenderedState,h=c(a,o);if(m.hasEagerState=!0,m.eagerState=h,sn(h,a)){var s=n.interleaved;s===null?(m.next=m,Ud(n)):(m.next=s.next,s.next=m),n.interleaved=m;return}}catch{}finally{}o=Mg(r,n,m,t),o!==null&&(m=xr(),on(o,r,t,m),Xg(o,n,t))}}function $g(r){var n=r.alternate;return r===Ut||n!==null&&n===Ut}function Yg(r,n){ga=cl=!0;var o=r.pending;o===null?n.next=n:(n.next=o.next,o.next=n),r.pending=n}function Xg(r,n,o){if(o&4194240){var t=n.lanes;t&=r.pendingLanes,o|=t,n.lanes=o,kd(r,o)}}var dl={readContext:$r,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},Ib={readContext:$r,useCallback:function(r,n){return pn().memoizedState=[r,n===void 0?null:n],r},useContext:$r,useEffect:Wh,useImperativeHandle:function(r,n,o){return o=o!=null?o.concat([r]):null,zi(4194308,4,zg.bind(null,n,r),o)},useLayoutEffect:function(r,n){return zi(4194308,4,r,n)},useInsertionEffect:function(r,n){return zi(4,2,r,n)},useMemo:function(r,n){var o=pn();return n=n===void 0?null:n,r=r(),o.memoizedState=[r,n],r},useReducer:function(r,n,o){var t=pn();return n=o!==void 0?o(n):n,t.memoizedState=t.baseState=n,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:n},t.queue=r,r=r.dispatch=Ab.bind(null,Ut,r),[t.memoizedState,r]},useRef:function(r){var n=pn();return r={current:r},n.memoizedState=r},useState:Hh,useDebugValue:Yd,useDeferredValue:function(r){return pn().memoizedState=r},useTransition:function(){var r=Hh(!1),n=r[0];return r=Nb.bind(null,r[1]),pn().memoizedState=r,[n,r]},useMutableSource:function(){},useSyncExternalStore:function(r,n,o){var t=Ut,m=pn();if(It){if(o===void 0)throw Error(He(407));o=o()}else{if(o=n(),sr===null)throw Error(He(349));Ro&30||Ng(t,n,o)}m.memoizedState=o;var c={value:o,getSnapshot:n};return m.queue=c,Wh(Rg.bind(null,t,c,r),[r]),t.flags|=2048,Ua(9,Ag.bind(null,t,c,o,n),void 0,null),o},useId:function(){var r=pn(),n=sr.identifierPrefix;if(It){var o=Mn,t=Tn;o=(t&~(1<<32-nn(t)-1)).toString(32)+o,n=":"+n+"R"+o,o=Da++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Lb++,n=":"+n+"r"+o.toString(32)+":";return r.memoizedState=n},unstable_isNewReconciler:!1},Db={readContext:$r,useCallback:Vg,useContext:$r,useEffect:$d,useImperativeHandle:Gg,useInsertionEffect:Ug,useLayoutEffect:Bg,useMemo:Hg,useReducer:Cu,useRef:Fg,useState:function(){return Cu(Fa)},useDebugValue:Yd,useDeferredValue:function(r){var n=Yr();return Wg(n,Zt.memoizedState,r)},useTransition:function(){var r=Cu(Fa)[0],n=Yr().memoizedState;return[r,n]},useMutableSource:Pg,useSyncExternalStore:Lg,useId:qg,unstable_isNewReconciler:!1},Fb={readContext:$r,useCallback:Vg,useContext:$r,useEffect:$d,useImperativeHandle:Gg,useInsertionEffect:Ug,useLayoutEffect:Bg,useMemo:Hg,useReducer:Ou,useRef:Fg,useState:function(){return Ou(Fa)},useDebugValue:Yd,useDeferredValue:function(r){var n=Yr();return Zt===null?n.memoizedState=r:Wg(n,Zt.memoizedState,r)},useTransition:function(){var r=Ou(Fa)[0],n=Yr().memoizedState;return[r,n]},useMutableSource:Pg,useSyncExternalStore:Lg,useId:qg,unstable_isNewReconciler:!1};function Jr(r,n){if(r&&r.defaultProps){n=Bt({},n),r=r.defaultProps;for(var o in r)n[o]===void 0&&(n[o]=r[o]);return n}return n}function Ec(r,n,o,t){n=r.memoizedState,o=o(t,n),o=o==null?n:Bt({},n,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Fl={isMounted:function(r){return(r=r._reactInternals)?Vo(r)===r:!1},enqueueSetState:function(r,n,o){r=r._reactInternals;var t=xr(),m=ao(r),c=On(t,m);c.payload=n,o!=null&&(c.callback=o),n=oo(r,c,m),n!==null&&(on(n,r,m,t),Ui(n,r,m))},enqueueReplaceState:function(r,n,o){r=r._reactInternals;var t=xr(),m=ao(r),c=On(t,m);c.tag=1,c.payload=n,o!=null&&(c.callback=o),n=oo(r,c,m),n!==null&&(on(n,r,m,t),Ui(n,r,m))},enqueueForceUpdate:function(r,n){r=r._reactInternals;var o=xr(),t=ao(r),m=On(o,t);m.tag=2,n!=null&&(m.callback=n),n=oo(r,m,t),n!==null&&(on(n,r,t,o),Ui(n,r,t))}};function qh(r,n,o,t,m,c,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(t,c,a):n.prototype&&n.prototype.isPureReactComponent?!Pa(o,t)||!Pa(m,c):!0}function Kg(r,n,o){var t=!1,m=co,c=n.contextType;return typeof c=="object"&&c!==null?c=$r(c):(m=Er(n)?No:yr.current,t=n.contextTypes,c=(t=t!=null)?_s(r,m):co),n=new n(o,c),r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Fl,r.stateNode=n,n._reactInternals=r,t&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=c),n}function $h(r,n,o,t){r=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,t),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,t),n.state!==r&&Fl.enqueueReplaceState(n,n.state,null)}function Tc(r,n,o,t){var m=r.stateNode;m.props=o,m.state=r.memoizedState,m.refs={},Bd(r);var c=n.contextType;typeof c=="object"&&c!==null?m.context=$r(c):(c=Er(n)?No:yr.current,m.context=_s(r,c)),m.state=r.memoizedState,c=n.getDerivedStateFromProps,typeof c=="function"&&(Ec(r,n,c,o),m.state=r.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&Fl.enqueueReplaceState(m,m.state,null),ll(r,o,m,t),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function Ts(r,n){try{var o="",t=n;do o+=f0(t),t=t.return;while(t);var m=o}catch(c){m=`
Error generating stack: `+c.message+`
`+c.stack}return{value:r,source:n,stack:m,digest:null}}function Pu(r,n,o){return{value:r,source:null,stack:o??null,digest:n??null}}function Mc(r,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Ub=typeof WeakMap=="function"?WeakMap:Map;function Qg(r,n,o){o=On(-1,o),o.tag=3,o.payload={element:null};var t=n.value;return o.callback=function(){hl||(hl=!0,Fc=t),Mc(r,n)},o}function Zg(r,n,o){o=On(-1,o),o.tag=3;var t=r.type.getDerivedStateFromError;if(typeof t=="function"){var m=n.value;o.payload=function(){return t(m)},o.callback=function(){Mc(r,n)}}var c=r.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(o.callback=function(){Mc(r,n),typeof t!="function"&&(so===null?so=new Set([this]):so.add(this));var a=n.stack;this.componentDidCatch(n.value,{componentStack:a!==null?a:""})}),o}function Yh(r,n,o){var t=r.pingCache;if(t===null){t=r.pingCache=new Ub;var m=new Set;t.set(n,m)}else m=t.get(n),m===void 0&&(m=new Set,t.set(n,m));m.has(o)||(m.add(o),r=Jb.bind(null,r,n,o),n.then(r,r))}function Xh(r){do{var n;if((n=r.tag===13)&&(n=r.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return r;r=r.return}while(r!==null);return null}function Kh(r,n,o,t,m){return r.mode&1?(r.flags|=65536,r.lanes=m,r):(r===n?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=On(-1,1),n.tag=2,oo(o,n,1))),o.lanes|=1),r)}var Bb=Rn.ReactCurrentOwner,Sr=!1;function br(r,n,o,t){n.child=r===null?Tg(n,null,o,t):ks(n,r.child,o,t)}function Qh(r,n,o,t,m){o=o.render;var c=n.ref;return vs(n,m),t=Wd(r,n,o,t,c,m),o=qd(),r!==null&&!Sr?(n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~m,An(r,n,m)):(It&&o&&Nd(n),n.flags|=1,br(r,n,t,m),n.child)}function Zh(r,n,o,t,m){if(r===null){var c=o.type;return typeof c=="function"&&!rf(c)&&c.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=c,Jg(r,n,c,t,m)):(r=Wi(o.type,null,t,n,n.mode,m),r.ref=n.ref,r.return=n,n.child=r)}if(c=r.child,!(r.lanes&m)){var a=c.memoizedProps;if(o=o.compare,o=o!==null?o:Pa,o(a,t)&&r.ref===n.ref)return An(r,n,m)}return n.flags|=1,r=io(c,t),r.ref=n.ref,r.return=n,n.child=r}function Jg(r,n,o,t,m){if(r!==null){var c=r.memoizedProps;if(Pa(c,t)&&r.ref===n.ref)if(Sr=!1,n.pendingProps=t=c,(r.lanes&m)!==0)r.flags&131072&&(Sr=!0);else return n.lanes=r.lanes,An(r,n,m)}return Cc(r,n,o,t,m)}function ey(r,n,o){var t=n.pendingProps,m=t.children,c=r!==null?r.memoizedState:null;if(t.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(fs,Nr),Nr|=o;else{if(!(o&1073741824))return r=c!==null?c.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:r,cachePool:null,transitions:null},n.updateQueue=null,Pt(fs,Nr),Nr|=r,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},t=c!==null?c.baseLanes:o,Pt(fs,Nr),Nr|=t}else c!==null?(t=c.baseLanes|o,n.memoizedState=null):t=o,Pt(fs,Nr),Nr|=t;return br(r,n,m,o),n.child}function ty(r,n){var o=n.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Cc(r,n,o,t,m){var c=Er(o)?No:yr.current;return c=_s(n,c),vs(n,m),o=Wd(r,n,o,t,c,m),t=qd(),r!==null&&!Sr?(n.updateQueue=r.updateQueue,n.flags&=-2053,r.lanes&=~m,An(r,n,m)):(It&&t&&Nd(n),n.flags|=1,br(r,n,o,m),n.child)}function Jh(r,n,o,t,m){if(Er(o)){var c=!0;nl(n)}else c=!1;if(vs(n,m),n.stateNode===null)Gi(r,n),Kg(n,o,t),Tc(n,o,t,m),t=!0;else if(r===null){var a=n.stateNode,h=n.memoizedProps;a.props=h;var s=a.context,p=o.contextType;typeof p=="object"&&p!==null?p=$r(p):(p=Er(o)?No:yr.current,p=_s(n,p));var b=o.getDerivedStateFromProps,v=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(h!==t||s!==p)&&$h(n,a,t,p),Wn=!1;var i=n.memoizedState;a.state=i,ll(n,t,a,m),s=n.memoizedState,h!==t||i!==s||kr.current||Wn?(typeof b=="function"&&(Ec(n,o,b,t),s=n.memoizedState),(h=Wn||qh(n,o,h,t,i,s,p))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(n.flags|=4194308)):(typeof a.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=t,n.memoizedState=s),a.props=t,a.state=s,a.context=p,t=h):(typeof a.componentDidMount=="function"&&(n.flags|=4194308),t=!1)}else{a=n.stateNode,Cg(r,n),h=n.memoizedProps,p=n.type===n.elementType?h:Jr(n.type,h),a.props=p,v=n.pendingProps,i=a.context,s=o.contextType,typeof s=="object"&&s!==null?s=$r(s):(s=Er(o)?No:yr.current,s=_s(n,s));var f=o.getDerivedStateFromProps;(b=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(h!==v||i!==s)&&$h(n,a,t,s),Wn=!1,i=n.memoizedState,a.state=i,ll(n,t,a,m);var u=n.memoizedState;h!==v||i!==u||kr.current||Wn?(typeof f=="function"&&(Ec(n,o,f,t),u=n.memoizedState),(p=Wn||qh(n,o,p,t,i,u,s)||!1)?(b||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(t,u,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(t,u,s)),typeof a.componentDidUpdate=="function"&&(n.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof a.componentDidUpdate!="function"||h===r.memoizedProps&&i===r.memoizedState||(n.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||h===r.memoizedProps&&i===r.memoizedState||(n.flags|=1024),n.memoizedProps=t,n.memoizedState=u),a.props=t,a.state=u,a.context=s,t=p):(typeof a.componentDidUpdate!="function"||h===r.memoizedProps&&i===r.memoizedState||(n.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||h===r.memoizedProps&&i===r.memoizedState||(n.flags|=1024),t=!1)}return Oc(r,n,o,t,c,m)}function Oc(r,n,o,t,m,c){ty(r,n);var a=(n.flags&128)!==0;if(!t&&!a)return m&&Fh(n,o,!1),An(r,n,c);t=n.stateNode,Bb.current=n;var h=a&&typeof o.getDerivedStateFromError!="function"?null:t.render();return n.flags|=1,r!==null&&a?(n.child=ks(n,r.child,null,c),n.child=ks(n,null,h,c)):br(r,n,h,c),n.memoizedState=t.state,m&&Fh(n,o,!0),n.child}function ry(r){var n=r.stateNode;n.pendingContext?Dh(r,n.pendingContext,n.pendingContext!==n.context):n.context&&Dh(r,n.context,!1),zd(r,n.containerInfo)}function ep(r,n,o,t,m){return Ss(),Rd(m),n.flags|=256,br(r,n,o,t),n.child}var Pc={dehydrated:null,treeContext:null,retryLane:0};function Lc(r){return{baseLanes:r,cachePool:null,transitions:null}}function ny(r,n,o){var t=n.pendingProps,m=Ft.current,c=!1,a=(n.flags&128)!==0,h;if((h=a)||(h=r!==null&&r.memoizedState===null?!1:(m&2)!==0),h?(c=!0,n.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),Pt(Ft,m&1),r===null)return Sc(n),r=n.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(n.mode&1?r.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(a=t.children,r=t.fallback,c?(t=n.mode,c=n.child,a={mode:"hidden",children:a},!(t&1)&&c!==null?(c.childLanes=0,c.pendingProps=a):c=zl(a,t,0,null),r=Oo(r,t,o,null),c.return=n,r.return=n,c.sibling=r,n.child=c,n.child.memoizedState=Lc(o),n.memoizedState=Pc,r):Xd(n,a));if(m=r.memoizedState,m!==null&&(h=m.dehydrated,h!==null))return zb(r,n,a,t,h,m,o);if(c){c=t.fallback,a=n.mode,m=r.child,h=m.sibling;var s={mode:"hidden",children:t.children};return!(a&1)&&n.child!==m?(t=n.child,t.childLanes=0,t.pendingProps=s,n.deletions=null):(t=io(m,s),t.subtreeFlags=m.subtreeFlags&14680064),h!==null?c=io(h,c):(c=Oo(c,a,o,null),c.flags|=2),c.return=n,t.return=n,t.sibling=c,n.child=t,t=c,c=n.child,a=r.child.memoizedState,a=a===null?Lc(o):{baseLanes:a.baseLanes|o,cachePool:null,transitions:a.transitions},c.memoizedState=a,c.childLanes=r.childLanes&~o,n.memoizedState=Pc,t}return c=r.child,r=c.sibling,t=io(c,{mode:"visible",children:t.children}),!(n.mode&1)&&(t.lanes=o),t.return=n,t.sibling=null,r!==null&&(o=n.deletions,o===null?(n.deletions=[r],n.flags|=16):o.push(r)),n.child=t,n.memoizedState=null,t}function Xd(r,n){return n=zl({mode:"visible",children:n},r.mode,0,null),n.return=r,r.child=n}function ji(r,n,o,t){return t!==null&&Rd(t),ks(n,r.child,null,o),r=Xd(n,n.pendingProps.children),r.flags|=2,n.memoizedState=null,r}function zb(r,n,o,t,m,c,a){if(o)return n.flags&256?(n.flags&=-257,t=Pu(Error(He(422))),ji(r,n,a,t)):n.memoizedState!==null?(n.child=r.child,n.flags|=128,null):(c=t.fallback,m=n.mode,t=zl({mode:"visible",children:t.children},m,0,null),c=Oo(c,m,a,null),c.flags|=2,t.return=n,c.return=n,t.sibling=c,n.child=t,n.mode&1&&ks(n,r.child,null,a),n.child.memoizedState=Lc(a),n.memoizedState=Pc,c);if(!(n.mode&1))return ji(r,n,a,null);if(m.data==="$!"){if(t=m.nextSibling&&m.nextSibling.dataset,t)var h=t.dgst;return t=h,c=Error(He(419)),t=Pu(c,t,void 0),ji(r,n,a,t)}if(h=(a&r.childLanes)!==0,Sr||h){if(t=sr,t!==null){switch(a&-a){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(t.suspendedLanes|a)?0:m,m!==0&&m!==c.retryLane&&(c.retryLane=m,Nn(r,m),on(t,r,m,-1))}return tf(),t=Pu(Error(He(421))),ji(r,n,a,t)}return m.data==="$?"?(n.flags|=128,n.child=r.child,n=e1.bind(null,r),m._reactRetry=n,null):(r=c.treeContext,Rr=no(m.nextSibling),Ir=n,It=!0,tn=null,r!==null&&(Gr[Vr++]=Tn,Gr[Vr++]=Mn,Gr[Vr++]=Ao,Tn=r.id,Mn=r.overflow,Ao=n),n=Xd(n,t.children),n.flags|=4096,n)}function tp(r,n,o){r.lanes|=n;var t=r.alternate;t!==null&&(t.lanes|=n),kc(r.return,n,o)}function Lu(r,n,o,t,m){var c=r.memoizedState;c===null?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:t,tail:o,tailMode:m}:(c.isBackwards=n,c.rendering=null,c.renderingStartTime=0,c.last=t,c.tail=o,c.tailMode=m)}function oy(r,n,o){var t=n.pendingProps,m=t.revealOrder,c=t.tail;if(br(r,n,t.children,o),t=Ft.current,t&2)t=t&1|2,n.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=n.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tp(r,o,n);else if(r.tag===19)tp(r,o,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t&=1}if(Pt(Ft,t),!(n.mode&1))n.memoizedState=null;else switch(m){case"forwards":for(o=n.child,m=null;o!==null;)r=o.alternate,r!==null&&ul(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=n.child,n.child=null):(m=o.sibling,o.sibling=null),Lu(n,!1,m,o,c);break;case"backwards":for(o=null,m=n.child,n.child=null;m!==null;){if(r=m.alternate,r!==null&&ul(r)===null){n.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Lu(n,!0,o,null,c);break;case"together":Lu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Gi(r,n){!(n.mode&1)&&r!==null&&(r.alternate=null,n.alternate=null,n.flags|=2)}function An(r,n,o){if(r!==null&&(n.dependencies=r.dependencies),Io|=n.lanes,!(o&n.childLanes))return null;if(r!==null&&n.child!==r.child)throw Error(He(153));if(n.child!==null){for(r=n.child,o=io(r,r.pendingProps),n.child=o,o.return=n;r.sibling!==null;)r=r.sibling,o=o.sibling=io(r,r.pendingProps),o.return=n;o.sibling=null}return n.child}function Gb(r,n,o){switch(n.tag){case 3:ry(n),Ss();break;case 5:Og(n);break;case 1:Er(n.type)&&nl(n);break;case 4:zd(n,n.stateNode.containerInfo);break;case 10:var t=n.type._context,m=n.memoizedProps.value;Pt(al,t._currentValue),t._currentValue=m;break;case 13:if(t=n.memoizedState,t!==null)return t.dehydrated!==null?(Pt(Ft,Ft.current&1),n.flags|=128,null):o&n.child.childLanes?ny(r,n,o):(Pt(Ft,Ft.current&1),r=An(r,n,o),r!==null?r.sibling:null);Pt(Ft,Ft.current&1);break;case 19:if(t=(o&n.childLanes)!==0,r.flags&128){if(t)return oy(r,n,o);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Pt(Ft,Ft.current),t)break;return null;case 22:case 23:return n.lanes=0,ey(r,n,o)}return An(r,n,o)}var sy,Nc,ay,iy;sy=function(r,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Nc=function(){};ay=function(r,n,o,t){var m=r.memoizedProps;if(m!==t){r=n.stateNode,Eo(xn.current);var c=null;switch(o){case"input":m=tc(r,m),t=tc(r,t),c=[];break;case"select":m=Bt({},m,{value:void 0}),t=Bt({},t,{value:void 0}),c=[];break;case"textarea":m=oc(r,m),t=oc(r,t),c=[];break;default:typeof m.onClick!="function"&&typeof t.onClick=="function"&&(r.onclick=tl)}ac(o,t);var a;o=null;for(p in m)if(!t.hasOwnProperty(p)&&m.hasOwnProperty(p)&&m[p]!=null)if(p==="style"){var h=m[p];for(a in h)h.hasOwnProperty(a)&&(o||(o={}),o[a]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Sa.hasOwnProperty(p)?c||(c=[]):(c=c||[]).push(p,null));for(p in t){var s=t[p];if(h=m!=null?m[p]:void 0,t.hasOwnProperty(p)&&s!==h&&(s!=null||h!=null))if(p==="style")if(h){for(a in h)!h.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(o||(o={}),o[a]="");for(a in s)s.hasOwnProperty(a)&&h[a]!==s[a]&&(o||(o={}),o[a]=s[a])}else o||(c||(c=[]),c.push(p,o)),o=s;else p==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,h=h?h.__html:void 0,s!=null&&h!==s&&(c=c||[]).push(p,s)):p==="children"?typeof s!="string"&&typeof s!="number"||(c=c||[]).push(p,""+s):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Sa.hasOwnProperty(p)?(s!=null&&p==="onScroll"&&At("scroll",r),c||h===s||(c=[])):(c=c||[]).push(p,s))}o&&(c=c||[]).push("style",o);var p=c;(n.updateQueue=p)&&(n.flags|=4)}};iy=function(r,n,o,t){o!==t&&(n.flags|=4)};function ea(r,n){if(!It)switch(r.tailMode){case"hidden":n=r.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var t=null;o!==null;)o.alternate!==null&&(t=o),o=o.sibling;t===null?n||r.tail===null?r.tail=null:r.tail.sibling=null:t.sibling=null}}function mr(r){var n=r.alternate!==null&&r.alternate.child===r.child,o=0,t=0;if(n)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,t|=m.subtreeFlags&14680064,t|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,t|=m.subtreeFlags,t|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=t,r.childLanes=o,n}function Vb(r,n,o){var t=n.pendingProps;switch(Ad(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(n),null;case 1:return Er(n.type)&&rl(),mr(n),null;case 3:return t=n.stateNode,Es(),Rt(kr),Rt(yr),Vd(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(r===null||r.child===null)&&(xi(n)?n.flags|=4:r===null||r.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,tn!==null&&(zc(tn),tn=null))),Nc(r,n),mr(n),null;case 5:Gd(n);var m=Eo(Ia.current);if(o=n.type,r!==null&&n.stateNode!=null)ay(r,n,o,t,m),r.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!t){if(n.stateNode===null)throw Error(He(166));return mr(n),null}if(r=Eo(xn.current),xi(n)){t=n.stateNode,o=n.type;var c=n.memoizedProps;switch(t[mn]=n,t[Aa]=c,r=(n.mode&1)!==0,o){case"dialog":At("cancel",t),At("close",t);break;case"iframe":case"object":case"embed":At("load",t);break;case"video":case"audio":for(m=0;m<la.length;m++)At(la[m],t);break;case"source":At("error",t);break;case"img":case"image":case"link":At("error",t),At("load",t);break;case"details":At("toggle",t);break;case"input":ch(t,c),At("invalid",t);break;case"select":t._wrapperState={wasMultiple:!!c.multiple},At("invalid",t);break;case"textarea":fh(t,c),At("invalid",t)}ac(o,c),m=null;for(var a in c)if(c.hasOwnProperty(a)){var h=c[a];a==="children"?typeof h=="string"?t.textContent!==h&&(c.suppressHydrationWarning!==!0&&bi(t.textContent,h,r),m=["children",h]):typeof h=="number"&&t.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&bi(t.textContent,h,r),m=["children",""+h]):Sa.hasOwnProperty(a)&&h!=null&&a==="onScroll"&&At("scroll",t)}switch(o){case"input":di(t),dh(t,c,!0);break;case"textarea":di(t),hh(t);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(t.onclick=tl)}t=m,n.updateQueue=t,t!==null&&(n.flags|=4)}else{a=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Rm(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof t.is=="string"?r=a.createElement(o,{is:t.is}):(r=a.createElement(o),o==="select"&&(a=r,t.multiple?a.multiple=!0:t.size&&(a.size=t.size))):r=a.createElementNS(r,o),r[mn]=n,r[Aa]=t,sy(r,n,!1,!1),n.stateNode=r;e:{switch(a=ic(o,t),o){case"dialog":At("cancel",r),At("close",r),m=t;break;case"iframe":case"object":case"embed":At("load",r),m=t;break;case"video":case"audio":for(m=0;m<la.length;m++)At(la[m],r);m=t;break;case"source":At("error",r),m=t;break;case"img":case"image":case"link":At("error",r),At("load",r),m=t;break;case"details":At("toggle",r),m=t;break;case"input":ch(r,t),m=tc(r,t),At("invalid",r);break;case"option":m=t;break;case"select":r._wrapperState={wasMultiple:!!t.multiple},m=Bt({},t,{value:void 0}),At("invalid",r);break;case"textarea":fh(r,t),m=oc(r,t),At("invalid",r);break;default:m=t}ac(o,m),h=m;for(c in h)if(h.hasOwnProperty(c)){var s=h[c];c==="style"?Fm(r,s):c==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Im(r,s)):c==="children"?typeof s=="string"?(o!=="textarea"||s!=="")&&ka(r,s):typeof s=="number"&&ka(r,""+s):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sa.hasOwnProperty(c)?s!=null&&c==="onScroll"&&At("scroll",r):s!=null&&bd(r,c,s,a))}switch(o){case"input":di(r),dh(r,t,!1);break;case"textarea":di(r),hh(r);break;case"option":t.value!=null&&r.setAttribute("value",""+uo(t.value));break;case"select":r.multiple=!!t.multiple,c=t.value,c!=null?ps(r,!!t.multiple,c,!1):t.defaultValue!=null&&ps(r,!!t.multiple,t.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=tl)}switch(o){case"button":case"input":case"select":case"textarea":t=!!t.autoFocus;break e;case"img":t=!0;break e;default:t=!1}}t&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return mr(n),null;case 6:if(r&&n.stateNode!=null)iy(r,n,r.memoizedProps,t);else{if(typeof t!="string"&&n.stateNode===null)throw Error(He(166));if(o=Eo(Ia.current),Eo(xn.current),xi(n)){if(t=n.stateNode,o=n.memoizedProps,t[mn]=n,(c=t.nodeValue!==o)&&(r=Ir,r!==null))switch(r.tag){case 3:bi(t.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&bi(t.nodeValue,o,(r.mode&1)!==0)}c&&(n.flags|=4)}else t=(o.nodeType===9?o:o.ownerDocument).createTextNode(t),t[mn]=n,n.stateNode=t}return mr(n),null;case 13:if(Rt(Ft),t=n.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(It&&Rr!==null&&n.mode&1&&!(n.flags&128))kg(),Ss(),n.flags|=98560,c=!1;else if(c=xi(n),t!==null&&t.dehydrated!==null){if(r===null){if(!c)throw Error(He(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(He(317));c[mn]=n}else Ss(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;mr(n),c=!1}else tn!==null&&(zc(tn),tn=null),c=!0;if(!c)return n.flags&65536?n:null}return n.flags&128?(n.lanes=o,n):(t=t!==null,t!==(r!==null&&r.memoizedState!==null)&&t&&(n.child.flags|=8192,n.mode&1&&(r===null||Ft.current&1?Jt===0&&(Jt=3):tf())),n.updateQueue!==null&&(n.flags|=4),mr(n),null);case 4:return Es(),Nc(r,n),r===null&&La(n.stateNode.containerInfo),mr(n),null;case 10:return Fd(n.type._context),mr(n),null;case 17:return Er(n.type)&&rl(),mr(n),null;case 19:if(Rt(Ft),c=n.memoizedState,c===null)return mr(n),null;if(t=(n.flags&128)!==0,a=c.rendering,a===null)if(t)ea(c,!1);else{if(Jt!==0||r!==null&&r.flags&128)for(r=n.child;r!==null;){if(a=ul(r),a!==null){for(n.flags|=128,ea(c,!1),t=a.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),n.subtreeFlags=0,t=o,o=n.child;o!==null;)c=o,r=t,c.flags&=14680066,a=c.alternate,a===null?(c.childLanes=0,c.lanes=r,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,c.type=a.type,r=a.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return Pt(Ft,Ft.current&1|2),n.child}r=r.sibling}c.tail!==null&&Wt()>Ms&&(n.flags|=128,t=!0,ea(c,!1),n.lanes=4194304)}else{if(!t)if(r=ul(a),r!==null){if(n.flags|=128,t=!0,o=r.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),ea(c,!0),c.tail===null&&c.tailMode==="hidden"&&!a.alternate&&!It)return mr(n),null}else 2*Wt()-c.renderingStartTime>Ms&&o!==1073741824&&(n.flags|=128,t=!0,ea(c,!1),n.lanes=4194304);c.isBackwards?(a.sibling=n.child,n.child=a):(o=c.last,o!==null?o.sibling=a:n.child=a,c.last=a)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Wt(),n.sibling=null,o=Ft.current,Pt(Ft,t?o&1|2:o&1),n):(mr(n),null);case 22:case 23:return ef(),t=n.memoizedState!==null,r!==null&&r.memoizedState!==null!==t&&(n.flags|=8192),t&&n.mode&1?Nr&1073741824&&(mr(n),n.subtreeFlags&6&&(n.flags|=8192)):mr(n),null;case 24:return null;case 25:return null}throw Error(He(156,n.tag))}function Hb(r,n){switch(Ad(n),n.tag){case 1:return Er(n.type)&&rl(),r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 3:return Es(),Rt(kr),Rt(yr),Vd(),r=n.flags,r&65536&&!(r&128)?(n.flags=r&-65537|128,n):null;case 5:return Gd(n),null;case 13:if(Rt(Ft),r=n.memoizedState,r!==null&&r.dehydrated!==null){if(n.alternate===null)throw Error(He(340));Ss()}return r=n.flags,r&65536?(n.flags=r&-65537|128,n):null;case 19:return Rt(Ft),null;case 4:return Es(),null;case 10:return Fd(n.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var _i=!1,gr=!1,Wb=typeof WeakSet=="function"?WeakSet:Set,nt=null;function ds(r,n){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(t){Vt(r,n,t)}else o.current=null}function Ac(r,n,o){try{o()}catch(t){Vt(r,n,t)}}var rp=!1;function qb(r,n){if(yc=Zi,r=fg(),Ld(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var t=o.getSelection&&o.getSelection();if(t&&t.rangeCount!==0){o=t.anchorNode;var m=t.anchorOffset,c=t.focusNode;t=t.focusOffset;try{o.nodeType,c.nodeType}catch{o=null;break e}var a=0,h=-1,s=-1,p=0,b=0,v=r,i=null;t:for(;;){for(var f;v!==o||m!==0&&v.nodeType!==3||(h=a+m),v!==c||t!==0&&v.nodeType!==3||(s=a+t),v.nodeType===3&&(a+=v.nodeValue.length),(f=v.firstChild)!==null;)i=v,v=f;for(;;){if(v===r)break t;if(i===o&&++p===m&&(h=a),i===c&&++b===t&&(s=a),(f=v.nextSibling)!==null)break;v=i,i=v.parentNode}v=f}o=h===-1||s===-1?null:{start:h,end:s}}else o=null}o=o||{start:0,end:0}}else o=null;for(vc={focusedElem:r,selectionRange:o},Zi=!1,nt=n;nt!==null;)if(n=nt,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,nt=r;else for(;nt!==null;){n=nt;try{var u=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var g=u.memoizedProps,y=u.memoizedState,d=n.stateNode,l=d.getSnapshotBeforeUpdate(n.elementType===n.type?g:Jr(n.type,g),y);d.__reactInternalSnapshotBeforeUpdate=l}break;case 3:var w=n.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(x){Vt(n,n.return,x)}if(r=n.sibling,r!==null){r.return=n.return,nt=r;break}nt=n.return}return u=rp,rp=!1,u}function ya(r,n,o){var t=n.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var m=t=t.next;do{if((m.tag&r)===r){var c=m.destroy;m.destroy=void 0,c!==void 0&&Ac(n,o,c)}m=m.next}while(m!==t)}}function Ul(r,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&r)===r){var t=o.create;o.destroy=t()}o=o.next}while(o!==n)}}function Rc(r){var n=r.ref;if(n!==null){var o=r.stateNode;switch(r.tag){case 5:r=o;break;default:r=o}typeof n=="function"?n(r):n.current=r}}function ly(r){var n=r.alternate;n!==null&&(r.alternate=null,ly(n)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(n=r.stateNode,n!==null&&(delete n[mn],delete n[Aa],delete n[wc],delete n[Mb],delete n[Cb])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function uy(r){return r.tag===5||r.tag===3||r.tag===4}function np(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||uy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ic(r,n,o){var t=r.tag;if(t===5||t===6)r=r.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(r,n):o.insertBefore(r,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(r,o)):(n=o,n.appendChild(r)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=tl));else if(t!==4&&(r=r.child,r!==null))for(Ic(r,n,o),r=r.sibling;r!==null;)Ic(r,n,o),r=r.sibling}function Dc(r,n,o){var t=r.tag;if(t===5||t===6)r=r.stateNode,n?o.insertBefore(r,n):o.appendChild(r);else if(t!==4&&(r=r.child,r!==null))for(Dc(r,n,o),r=r.sibling;r!==null;)Dc(r,n,o),r=r.sibling}var lr=null,en=!1;function Un(r,n,o){for(o=o.child;o!==null;)cy(r,n,o),o=o.sibling}function cy(r,n,o){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Pl,o)}catch{}switch(o.tag){case 5:gr||ds(o,n);case 6:var t=lr,m=en;lr=null,Un(r,n,o),lr=t,en=m,lr!==null&&(en?(r=lr,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):lr.removeChild(o.stateNode));break;case 18:lr!==null&&(en?(r=lr,o=o.stateNode,r.nodeType===8?ku(r.parentNode,o):r.nodeType===1&&ku(r,o),Ca(r)):ku(lr,o.stateNode));break;case 4:t=lr,m=en,lr=o.stateNode.containerInfo,en=!0,Un(r,n,o),lr=t,en=m;break;case 0:case 11:case 14:case 15:if(!gr&&(t=o.updateQueue,t!==null&&(t=t.lastEffect,t!==null))){m=t=t.next;do{var c=m,a=c.destroy;c=c.tag,a!==void 0&&(c&2||c&4)&&Ac(o,n,a),m=m.next}while(m!==t)}Un(r,n,o);break;case 1:if(!gr&&(ds(o,n),t=o.stateNode,typeof t.componentWillUnmount=="function"))try{t.props=o.memoizedProps,t.state=o.memoizedState,t.componentWillUnmount()}catch(h){Vt(o,n,h)}Un(r,n,o);break;case 21:Un(r,n,o);break;case 22:o.mode&1?(gr=(t=gr)||o.memoizedState!==null,Un(r,n,o),gr=t):Un(r,n,o);break;default:Un(r,n,o)}}function op(r){var n=r.updateQueue;if(n!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new Wb),n.forEach(function(t){var m=t1.bind(null,r,t);o.has(t)||(o.add(t),t.then(m,m))})}}function Zr(r,n){var o=n.deletions;if(o!==null)for(var t=0;t<o.length;t++){var m=o[t];try{var c=r,a=n,h=a;e:for(;h!==null;){switch(h.tag){case 5:lr=h.stateNode,en=!1;break e;case 3:lr=h.stateNode.containerInfo,en=!0;break e;case 4:lr=h.stateNode.containerInfo,en=!0;break e}h=h.return}if(lr===null)throw Error(He(160));cy(c,a,m),lr=null,en=!1;var s=m.alternate;s!==null&&(s.return=null),m.return=null}catch(p){Vt(m,n,p)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)dy(n,r),n=n.sibling}function dy(r,n){var o=r.alternate,t=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Zr(n,r),hn(r),t&4){try{ya(3,r,r.return),Ul(3,r)}catch(g){Vt(r,r.return,g)}try{ya(5,r,r.return)}catch(g){Vt(r,r.return,g)}}break;case 1:Zr(n,r),hn(r),t&512&&o!==null&&ds(o,o.return);break;case 5:if(Zr(n,r),hn(r),t&512&&o!==null&&ds(o,o.return),r.flags&32){var m=r.stateNode;try{ka(m,"")}catch(g){Vt(r,r.return,g)}}if(t&4&&(m=r.stateNode,m!=null)){var c=r.memoizedProps,a=o!==null?o.memoizedProps:c,h=r.type,s=r.updateQueue;if(r.updateQueue=null,s!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&Nm(m,c),ic(h,a);var p=ic(h,c);for(a=0;a<s.length;a+=2){var b=s[a],v=s[a+1];b==="style"?Fm(m,v):b==="dangerouslySetInnerHTML"?Im(m,v):b==="children"?ka(m,v):bd(m,b,v,p)}switch(h){case"input":rc(m,c);break;case"textarea":Am(m,c);break;case"select":var i=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!c.multiple;var f=c.value;f!=null?ps(m,!!c.multiple,f,!1):i!==!!c.multiple&&(c.defaultValue!=null?ps(m,!!c.multiple,c.defaultValue,!0):ps(m,!!c.multiple,c.multiple?[]:"",!1))}m[Aa]=c}catch(g){Vt(r,r.return,g)}}break;case 6:if(Zr(n,r),hn(r),t&4){if(r.stateNode===null)throw Error(He(162));m=r.stateNode,c=r.memoizedProps;try{m.nodeValue=c}catch(g){Vt(r,r.return,g)}}break;case 3:if(Zr(n,r),hn(r),t&4&&o!==null&&o.memoizedState.isDehydrated)try{Ca(n.containerInfo)}catch(g){Vt(r,r.return,g)}break;case 4:Zr(n,r),hn(r);break;case 13:Zr(n,r),hn(r),m=r.child,m.flags&8192&&(c=m.memoizedState!==null,m.stateNode.isHidden=c,!c||m.alternate!==null&&m.alternate.memoizedState!==null||(Zd=Wt())),t&4&&op(r);break;case 22:if(b=o!==null&&o.memoizedState!==null,r.mode&1?(gr=(p=gr)||b,Zr(n,r),gr=p):Zr(n,r),hn(r),t&8192){if(p=r.memoizedState!==null,(r.stateNode.isHidden=p)&&!b&&r.mode&1)for(nt=r,b=r.child;b!==null;){for(v=nt=b;nt!==null;){switch(i=nt,f=i.child,i.tag){case 0:case 11:case 14:case 15:ya(4,i,i.return);break;case 1:ds(i,i.return);var u=i.stateNode;if(typeof u.componentWillUnmount=="function"){t=i,o=i.return;try{n=t,u.props=n.memoizedProps,u.state=n.memoizedState,u.componentWillUnmount()}catch(g){Vt(t,o,g)}}break;case 5:ds(i,i.return);break;case 22:if(i.memoizedState!==null){ap(v);continue}}f!==null?(f.return=i,nt=f):ap(v)}b=b.sibling}e:for(b=null,v=r;;){if(v.tag===5){if(b===null){b=v;try{m=v.stateNode,p?(c=m.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=v.stateNode,s=v.memoizedProps.style,a=s!=null&&s.hasOwnProperty("display")?s.display:null,h.style.display=Dm("display",a))}catch(g){Vt(r,r.return,g)}}}else if(v.tag===6){if(b===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(g){Vt(r,r.return,g)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===r)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;b===v&&(b=null),v=v.return}b===v&&(b=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Zr(n,r),hn(r),t&4&&op(r);break;case 21:break;default:Zr(n,r),hn(r)}}function hn(r){var n=r.flags;if(n&2){try{e:{for(var o=r.return;o!==null;){if(uy(o)){var t=o;break e}o=o.return}throw Error(He(160))}switch(t.tag){case 5:var m=t.stateNode;t.flags&32&&(ka(m,""),t.flags&=-33);var c=np(r);Dc(r,c,m);break;case 3:case 4:var a=t.stateNode.containerInfo,h=np(r);Ic(r,h,a);break;default:throw Error(He(161))}}catch(s){Vt(r,r.return,s)}r.flags&=-3}n&4096&&(r.flags&=-4097)}function $b(r,n,o){nt=r,fy(r)}function fy(r,n,o){for(var t=(r.mode&1)!==0;nt!==null;){var m=nt,c=m.child;if(m.tag===22&&t){var a=m.memoizedState!==null||_i;if(!a){var h=m.alternate,s=h!==null&&h.memoizedState!==null||gr;h=_i;var p=gr;if(_i=a,(gr=s)&&!p)for(nt=m;nt!==null;)a=nt,s=a.child,a.tag===22&&a.memoizedState!==null?ip(m):s!==null?(s.return=a,nt=s):ip(m);for(;c!==null;)nt=c,fy(c),c=c.sibling;nt=m,_i=h,gr=p}sp(r)}else m.subtreeFlags&8772&&c!==null?(c.return=m,nt=c):sp(r)}}function sp(r){for(;nt!==null;){var n=nt;if(n.flags&8772){var o=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:gr||Ul(5,n);break;case 1:var t=n.stateNode;if(n.flags&4&&!gr)if(o===null)t.componentDidMount();else{var m=n.elementType===n.type?o.memoizedProps:Jr(n.type,o.memoizedProps);t.componentDidUpdate(m,o.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}var c=n.updateQueue;c!==null&&Vh(n,c,t);break;case 3:var a=n.updateQueue;if(a!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Vh(n,a,o)}break;case 5:var h=n.stateNode;if(o===null&&n.flags&4){o=h;var s=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break;case"img":s.src&&(o.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var p=n.alternate;if(p!==null){var b=p.memoizedState;if(b!==null){var v=b.dehydrated;v!==null&&Ca(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}gr||n.flags&512&&Rc(n)}catch(i){Vt(n,n.return,i)}}if(n===r){nt=null;break}if(o=n.sibling,o!==null){o.return=n.return,nt=o;break}nt=n.return}}function ap(r){for(;nt!==null;){var n=nt;if(n===r){nt=null;break}var o=n.sibling;if(o!==null){o.return=n.return,nt=o;break}nt=n.return}}function ip(r){for(;nt!==null;){var n=nt;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Ul(4,n)}catch(s){Vt(n,o,s)}break;case 1:var t=n.stateNode;if(typeof t.componentDidMount=="function"){var m=n.return;try{t.componentDidMount()}catch(s){Vt(n,m,s)}}var c=n.return;try{Rc(n)}catch(s){Vt(n,c,s)}break;case 5:var a=n.return;try{Rc(n)}catch(s){Vt(n,a,s)}}}catch(s){Vt(n,n.return,s)}if(n===r){nt=null;break}var h=n.sibling;if(h!==null){h.return=n.return,nt=h;break}nt=n.return}}var Yb=Math.ceil,fl=Rn.ReactCurrentDispatcher,Kd=Rn.ReactCurrentOwner,qr=Rn.ReactCurrentBatchConfig,xt=0,sr=null,Xt=null,ur=0,Nr=0,fs=mo(0),Jt=0,Ba=null,Io=0,Bl=0,Qd=0,va=null,_r=null,Zd=0,Ms=1/0,Sn=null,hl=!1,Fc=null,so=null,Si=!1,Zn=null,pl=0,ba=0,Uc=null,Vi=-1,Hi=0;function xr(){return xt&6?Wt():Vi!==-1?Vi:Vi=Wt()}function ao(r){return r.mode&1?xt&2&&ur!==0?ur&-ur:Pb.transition!==null?(Hi===0&&(Hi=Km()),Hi):(r=kt,r!==0||(r=window.event,r=r===void 0?16:ng(r.type)),r):1}function on(r,n,o,t){if(50<ba)throw ba=0,Uc=null,Error(He(185));Xa(r,o,t),(!(xt&2)||r!==sr)&&(r===sr&&(!(xt&2)&&(Bl|=o),Jt===4&&Kn(r,ur)),Tr(r,t),o===1&&xt===0&&!(n.mode&1)&&(Ms=Wt()+500,Il&&go()))}function Tr(r,n){var o=r.callbackNode;P0(r,n);var t=Qi(r,r===sr?ur:0);if(t===0)o!==null&&gh(o),r.callbackNode=null,r.callbackPriority=0;else if(n=t&-t,r.callbackPriority!==n){if(o!=null&&gh(o),n===1)r.tag===0?Ob(lp.bind(null,r)):jg(lp.bind(null,r)),Eb(function(){!(xt&6)&&go()}),o=null;else{switch(Qm(t)){case 1:o=Sd;break;case 4:o=Ym;break;case 16:o=Ki;break;case 536870912:o=Xm;break;default:o=Ki}o=xy(o,hy.bind(null,r))}r.callbackPriority=n,r.callbackNode=o}}function hy(r,n){if(Vi=-1,Hi=0,xt&6)throw Error(He(327));var o=r.callbackNode;if(bs()&&r.callbackNode!==o)return null;var t=Qi(r,r===sr?ur:0);if(t===0)return null;if(t&30||t&r.expiredLanes||n)n=ml(r,t);else{n=t;var m=xt;xt|=2;var c=my();(sr!==r||ur!==n)&&(Sn=null,Ms=Wt()+500,Co(r,n));do try{Qb();break}catch(h){py(r,h)}while(!0);Dd(),fl.current=c,xt=m,Xt!==null?n=0:(sr=null,ur=0,n=Jt)}if(n!==0){if(n===2&&(m=fc(r),m!==0&&(t=m,n=Bc(r,m))),n===1)throw o=Ba,Co(r,0),Kn(r,t),Tr(r,Wt()),o;if(n===6)Kn(r,t);else{if(m=r.current.alternate,!(t&30)&&!Xb(m)&&(n=ml(r,t),n===2&&(c=fc(r),c!==0&&(t=c,n=Bc(r,c))),n===1))throw o=Ba,Co(r,0),Kn(r,t),Tr(r,Wt()),o;switch(r.finishedWork=m,r.finishedLanes=t,n){case 0:case 1:throw Error(He(345));case 2:wo(r,_r,Sn);break;case 3:if(Kn(r,t),(t&130023424)===t&&(n=Zd+500-Wt(),10<n)){if(Qi(r,0)!==0)break;if(m=r.suspendedLanes,(m&t)!==t){xr(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=xc(wo.bind(null,r,_r,Sn),n);break}wo(r,_r,Sn);break;case 4:if(Kn(r,t),(t&4194240)===t)break;for(n=r.eventTimes,m=-1;0<t;){var a=31-nn(t);c=1<<a,a=n[a],a>m&&(m=a),t&=~c}if(t=m,t=Wt()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*Yb(t/1960))-t,10<t){r.timeoutHandle=xc(wo.bind(null,r,_r,Sn),t);break}wo(r,_r,Sn);break;case 5:wo(r,_r,Sn);break;default:throw Error(He(329))}}}return Tr(r,Wt()),r.callbackNode===o?hy.bind(null,r):null}function Bc(r,n){var o=va;return r.current.memoizedState.isDehydrated&&(Co(r,n).flags|=256),r=ml(r,n),r!==2&&(n=_r,_r=o,n!==null&&zc(n)),r}function zc(r){_r===null?_r=r:_r.push.apply(_r,r)}function Xb(r){for(var n=r;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var t=0;t<o.length;t++){var m=o[t],c=m.getSnapshot;m=m.value;try{if(!sn(c(),m))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Kn(r,n){for(n&=~Qd,n&=~Bl,r.suspendedLanes|=n,r.pingedLanes&=~n,r=r.expirationTimes;0<n;){var o=31-nn(n),t=1<<o;r[o]=-1,n&=~t}}function lp(r){if(xt&6)throw Error(He(327));bs();var n=Qi(r,0);if(!(n&1))return Tr(r,Wt()),null;var o=ml(r,n);if(r.tag!==0&&o===2){var t=fc(r);t!==0&&(n=t,o=Bc(r,t))}if(o===1)throw o=Ba,Co(r,0),Kn(r,n),Tr(r,Wt()),o;if(o===6)throw Error(He(345));return r.finishedWork=r.current.alternate,r.finishedLanes=n,wo(r,_r,Sn),Tr(r,Wt()),null}function Jd(r,n){var o=xt;xt|=1;try{return r(n)}finally{xt=o,xt===0&&(Ms=Wt()+500,Il&&go())}}function Do(r){Zn!==null&&Zn.tag===0&&!(xt&6)&&bs();var n=xt;xt|=1;var o=qr.transition,t=kt;try{if(qr.transition=null,kt=1,r)return r()}finally{kt=t,qr.transition=o,xt=n,!(xt&6)&&go()}}function ef(){Nr=fs.current,Rt(fs)}function Co(r,n){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,kb(o)),Xt!==null)for(o=Xt.return;o!==null;){var t=o;switch(Ad(t),t.tag){case 1:t=t.type.childContextTypes,t!=null&&rl();break;case 3:Es(),Rt(kr),Rt(yr),Vd();break;case 5:Gd(t);break;case 4:Es();break;case 13:Rt(Ft);break;case 19:Rt(Ft);break;case 10:Fd(t.type._context);break;case 22:case 23:ef()}o=o.return}if(sr=r,Xt=r=io(r.current,null),ur=Nr=n,Jt=0,Ba=null,Qd=Bl=Io=0,_r=va=null,ko!==null){for(n=0;n<ko.length;n++)if(o=ko[n],t=o.interleaved,t!==null){o.interleaved=null;var m=t.next,c=o.pending;if(c!==null){var a=c.next;c.next=m,t.next=a}o.pending=t}ko=null}return r}function py(r,n){do{var o=Xt;try{if(Dd(),Bi.current=dl,cl){for(var t=Ut.memoizedState;t!==null;){var m=t.queue;m!==null&&(m.pending=null),t=t.next}cl=!1}if(Ro=0,or=Zt=Ut=null,ga=!1,Da=0,Kd.current=null,o===null||o.return===null){Jt=1,Ba=n,Xt=null;break}e:{var c=r,a=o.return,h=o,s=n;if(n=ur,h.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var p=s,b=h,v=b.tag;if(!(b.mode&1)&&(v===0||v===11||v===15)){var i=b.alternate;i?(b.updateQueue=i.updateQueue,b.memoizedState=i.memoizedState,b.lanes=i.lanes):(b.updateQueue=null,b.memoizedState=null)}var f=Xh(a);if(f!==null){f.flags&=-257,Kh(f,a,h,c,n),f.mode&1&&Yh(c,p,n),n=f,s=p;var u=n.updateQueue;if(u===null){var g=new Set;g.add(s),n.updateQueue=g}else u.add(s);break e}else{if(!(n&1)){Yh(c,p,n),tf();break e}s=Error(He(426))}}else if(It&&h.mode&1){var y=Xh(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Kh(y,a,h,c,n),Rd(Ts(s,h));break e}}c=s=Ts(s,h),Jt!==4&&(Jt=2),va===null?va=[c]:va.push(c),c=a;do{switch(c.tag){case 3:c.flags|=65536,n&=-n,c.lanes|=n;var d=Qg(c,s,n);Gh(c,d);break e;case 1:h=s;var l=c.type,w=c.stateNode;if(!(c.flags&128)&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(so===null||!so.has(w)))){c.flags|=65536,n&=-n,c.lanes|=n;var x=Zg(c,h,n);Gh(c,x);break e}}c=c.return}while(c!==null)}yy(o)}catch(_){n=_,Xt===o&&o!==null&&(Xt=o=o.return);continue}break}while(!0)}function my(){var r=fl.current;return fl.current=dl,r===null?dl:r}function tf(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),sr===null||!(Io&268435455)&&!(Bl&268435455)||Kn(sr,ur)}function ml(r,n){var o=xt;xt|=2;var t=my();(sr!==r||ur!==n)&&(Sn=null,Co(r,n));do try{Kb();break}catch(m){py(r,m)}while(!0);if(Dd(),xt=o,fl.current=t,Xt!==null)throw Error(He(261));return sr=null,ur=0,Jt}function Kb(){for(;Xt!==null;)gy(Xt)}function Qb(){for(;Xt!==null&&!j0();)gy(Xt)}function gy(r){var n=by(r.alternate,r,Nr);r.memoizedProps=r.pendingProps,n===null?yy(r):Xt=n,Kd.current=null}function yy(r){var n=r;do{var o=n.alternate;if(r=n.return,n.flags&32768){if(o=Hb(o,n),o!==null){o.flags&=32767,Xt=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Jt=6,Xt=null;return}}else if(o=Vb(o,n,Nr),o!==null){Xt=o;return}if(n=n.sibling,n!==null){Xt=n;return}Xt=n=r}while(n!==null);Jt===0&&(Jt=5)}function wo(r,n,o){var t=kt,m=qr.transition;try{qr.transition=null,kt=1,Zb(r,n,o,t)}finally{qr.transition=m,kt=t}return null}function Zb(r,n,o,t){do bs();while(Zn!==null);if(xt&6)throw Error(He(327));o=r.finishedWork;var m=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(He(177));r.callbackNode=null,r.callbackPriority=0;var c=o.lanes|o.childLanes;if(L0(r,c),r===sr&&(Xt=sr=null,ur=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Si||(Si=!0,xy(Ki,function(){return bs(),null})),c=(o.flags&15990)!==0,o.subtreeFlags&15990||c){c=qr.transition,qr.transition=null;var a=kt;kt=1;var h=xt;xt|=4,Kd.current=null,qb(r,o),dy(o,r),vb(vc),Zi=!!yc,vc=yc=null,r.current=o,$b(o),_0(),xt=h,kt=a,qr.transition=c}else r.current=o;if(Si&&(Si=!1,Zn=r,pl=m),c=r.pendingLanes,c===0&&(so=null),E0(o.stateNode),Tr(r,Wt()),n!==null)for(t=r.onRecoverableError,o=0;o<n.length;o++)m=n[o],t(m.value,{componentStack:m.stack,digest:m.digest});if(hl)throw hl=!1,r=Fc,Fc=null,r;return pl&1&&r.tag!==0&&bs(),c=r.pendingLanes,c&1?r===Uc?ba++:(ba=0,Uc=r):ba=0,go(),null}function bs(){if(Zn!==null){var r=Qm(pl),n=qr.transition,o=kt;try{if(qr.transition=null,kt=16>r?16:r,Zn===null)var t=!1;else{if(r=Zn,Zn=null,pl=0,xt&6)throw Error(He(331));var m=xt;for(xt|=4,nt=r.current;nt!==null;){var c=nt,a=c.child;if(nt.flags&16){var h=c.deletions;if(h!==null){for(var s=0;s<h.length;s++){var p=h[s];for(nt=p;nt!==null;){var b=nt;switch(b.tag){case 0:case 11:case 15:ya(8,b,c)}var v=b.child;if(v!==null)v.return=b,nt=v;else for(;nt!==null;){b=nt;var i=b.sibling,f=b.return;if(ly(b),b===p){nt=null;break}if(i!==null){i.return=f,nt=i;break}nt=f}}}var u=c.alternate;if(u!==null){var g=u.child;if(g!==null){u.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}nt=c}}if(c.subtreeFlags&2064&&a!==null)a.return=c,nt=a;else e:for(;nt!==null;){if(c=nt,c.flags&2048)switch(c.tag){case 0:case 11:case 15:ya(9,c,c.return)}var d=c.sibling;if(d!==null){d.return=c.return,nt=d;break e}nt=c.return}}var l=r.current;for(nt=l;nt!==null;){a=nt;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,nt=w;else e:for(a=l;nt!==null;){if(h=nt,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Ul(9,h)}}catch(_){Vt(h,h.return,_)}if(h===a){nt=null;break e}var x=h.sibling;if(x!==null){x.return=h.return,nt=x;break e}nt=h.return}}if(xt=m,go(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Pl,r)}catch{}t=!0}return t}finally{kt=o,qr.transition=n}}return!1}function up(r,n,o){n=Ts(o,n),n=Qg(r,n,1),r=oo(r,n,1),n=xr(),r!==null&&(Xa(r,1,n),Tr(r,n))}function Vt(r,n,o){if(r.tag===3)up(r,r,o);else for(;n!==null;){if(n.tag===3){up(n,r,o);break}else if(n.tag===1){var t=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof t.componentDidCatch=="function"&&(so===null||!so.has(t))){r=Ts(o,r),r=Zg(n,r,1),n=oo(n,r,1),r=xr(),n!==null&&(Xa(n,1,r),Tr(n,r));break}}n=n.return}}function Jb(r,n,o){var t=r.pingCache;t!==null&&t.delete(n),n=xr(),r.pingedLanes|=r.suspendedLanes&o,sr===r&&(ur&o)===o&&(Jt===4||Jt===3&&(ur&130023424)===ur&&500>Wt()-Zd?Co(r,0):Qd|=o),Tr(r,n)}function vy(r,n){n===0&&(r.mode&1?(n=pi,pi<<=1,!(pi&130023424)&&(pi=4194304)):n=1);var o=xr();r=Nn(r,n),r!==null&&(Xa(r,n,o),Tr(r,o))}function e1(r){var n=r.memoizedState,o=0;n!==null&&(o=n.retryLane),vy(r,o)}function t1(r,n){var o=0;switch(r.tag){case 13:var t=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:t=r.stateNode;break;default:throw Error(He(314))}t!==null&&t.delete(n),vy(r,o)}var by;by=function(r,n,o){if(r!==null)if(r.memoizedProps!==n.pendingProps||kr.current)Sr=!0;else{if(!(r.lanes&o)&&!(n.flags&128))return Sr=!1,Gb(r,n,o);Sr=!!(r.flags&131072)}else Sr=!1,It&&n.flags&1048576&&_g(n,sl,n.index);switch(n.lanes=0,n.tag){case 2:var t=n.type;Gi(r,n),r=n.pendingProps;var m=_s(n,yr.current);vs(n,o),m=Wd(null,n,t,r,m,o);var c=qd();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Er(t)?(c=!0,nl(n)):c=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Bd(n),m.updater=Fl,n.stateNode=m,m._reactInternals=n,Tc(n,t,r,o),n=Oc(null,n,t,!0,c,o)):(n.tag=0,It&&c&&Nd(n),br(null,n,m,o),n=n.child),n;case 16:t=n.elementType;e:{switch(Gi(r,n),r=n.pendingProps,m=t._init,t=m(t._payload),n.type=t,m=n.tag=n1(t),r=Jr(t,r),m){case 0:n=Cc(null,n,t,r,o);break e;case 1:n=Jh(null,n,t,r,o);break e;case 11:n=Qh(null,n,t,r,o);break e;case 14:n=Zh(null,n,t,Jr(t.type,r),o);break e}throw Error(He(306,t,""))}return n;case 0:return t=n.type,m=n.pendingProps,m=n.elementType===t?m:Jr(t,m),Cc(r,n,t,m,o);case 1:return t=n.type,m=n.pendingProps,m=n.elementType===t?m:Jr(t,m),Jh(r,n,t,m,o);case 3:e:{if(ry(n),r===null)throw Error(He(387));t=n.pendingProps,c=n.memoizedState,m=c.element,Cg(r,n),ll(n,t,null,o);var a=n.memoizedState;if(t=a.element,c.isDehydrated)if(c={element:t,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){m=Ts(Error(He(423)),n),n=ep(r,n,t,o,m);break e}else if(t!==m){m=Ts(Error(He(424)),n),n=ep(r,n,t,o,m);break e}else for(Rr=no(n.stateNode.containerInfo.firstChild),Ir=n,It=!0,tn=null,o=Tg(n,null,t,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ss(),t===m){n=An(r,n,o);break e}br(r,n,t,o)}n=n.child}return n;case 5:return Og(n),r===null&&Sc(n),t=n.type,m=n.pendingProps,c=r!==null?r.memoizedProps:null,a=m.children,bc(t,m)?a=null:c!==null&&bc(t,c)&&(n.flags|=32),ty(r,n),br(r,n,a,o),n.child;case 6:return r===null&&Sc(n),null;case 13:return ny(r,n,o);case 4:return zd(n,n.stateNode.containerInfo),t=n.pendingProps,r===null?n.child=ks(n,null,t,o):br(r,n,t,o),n.child;case 11:return t=n.type,m=n.pendingProps,m=n.elementType===t?m:Jr(t,m),Qh(r,n,t,m,o);case 7:return br(r,n,n.pendingProps,o),n.child;case 8:return br(r,n,n.pendingProps.children,o),n.child;case 12:return br(r,n,n.pendingProps.children,o),n.child;case 10:e:{if(t=n.type._context,m=n.pendingProps,c=n.memoizedProps,a=m.value,Pt(al,t._currentValue),t._currentValue=a,c!==null)if(sn(c.value,a)){if(c.children===m.children&&!kr.current){n=An(r,n,o);break e}}else for(c=n.child,c!==null&&(c.return=n);c!==null;){var h=c.dependencies;if(h!==null){a=c.child;for(var s=h.firstContext;s!==null;){if(s.context===t){if(c.tag===1){s=On(-1,o&-o),s.tag=2;var p=c.updateQueue;if(p!==null){p=p.shared;var b=p.pending;b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s}}c.lanes|=o,s=c.alternate,s!==null&&(s.lanes|=o),kc(c.return,o,n),h.lanes|=o;break}s=s.next}}else if(c.tag===10)a=c.type===n.type?null:c.child;else if(c.tag===18){if(a=c.return,a===null)throw Error(He(341));a.lanes|=o,h=a.alternate,h!==null&&(h.lanes|=o),kc(a,o,n),a=c.sibling}else a=c.child;if(a!==null)a.return=c;else for(a=c;a!==null;){if(a===n){a=null;break}if(c=a.sibling,c!==null){c.return=a.return,a=c;break}a=a.return}c=a}br(r,n,m.children,o),n=n.child}return n;case 9:return m=n.type,t=n.pendingProps.children,vs(n,o),m=$r(m),t=t(m),n.flags|=1,br(r,n,t,o),n.child;case 14:return t=n.type,m=Jr(t,n.pendingProps),m=Jr(t.type,m),Zh(r,n,t,m,o);case 15:return Jg(r,n,n.type,n.pendingProps,o);case 17:return t=n.type,m=n.pendingProps,m=n.elementType===t?m:Jr(t,m),Gi(r,n),n.tag=1,Er(t)?(r=!0,nl(n)):r=!1,vs(n,o),Kg(n,t,m),Tc(n,t,m,o),Oc(null,n,t,!0,r,o);case 19:return oy(r,n,o);case 22:return ey(r,n,o)}throw Error(He(156,n.tag))};function xy(r,n){return $m(r,n)}function r1(r,n,o,t){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(r,n,o,t){return new r1(r,n,o,t)}function rf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function n1(r){if(typeof r=="function")return rf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===wd)return 11;if(r===jd)return 14}return 2}function io(r,n){var o=r.alternate;return o===null?(o=Hr(r.tag,n,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=n,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,n=r.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function Wi(r,n,o,t,m,c){var a=2;if(t=r,typeof r=="function")rf(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case rs:return Oo(o.children,m,c,n);case xd:a=8,m|=8;break;case Qu:return r=Hr(12,o,n,m|2),r.elementType=Qu,r.lanes=c,r;case Zu:return r=Hr(13,o,n,m),r.elementType=Zu,r.lanes=c,r;case Ju:return r=Hr(19,o,n,m),r.elementType=Ju,r.lanes=c,r;case Om:return zl(o,m,c,n);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Mm:a=10;break e;case Cm:a=9;break e;case wd:a=11;break e;case jd:a=14;break e;case Hn:a=16,t=null;break e}throw Error(He(130,r==null?r:typeof r,""))}return n=Hr(a,o,n,m),n.elementType=r,n.type=t,n.lanes=c,n}function Oo(r,n,o,t){return r=Hr(7,r,t,n),r.lanes=o,r}function zl(r,n,o,t){return r=Hr(22,r,t,n),r.elementType=Om,r.lanes=o,r.stateNode={isHidden:!1},r}function Nu(r,n,o){return r=Hr(6,r,null,n),r.lanes=o,r}function Au(r,n,o){return n=Hr(4,r.children!==null?r.children:[],r.key,n),n.lanes=o,n.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},n}function o1(r,n,o,t,m){this.tag=n,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pu(0),this.expirationTimes=pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pu(0),this.identifierPrefix=t,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function nf(r,n,o,t,m,c,a,h,s){return r=new o1(r,n,o,h,s),n===1?(n=1,c===!0&&(n|=8)):n=0,c=Hr(3,null,null,n),r.current=c,c.stateNode=r,c.memoizedState={element:t,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(c),r}function s1(r,n,o){var t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:t==null?null:""+t,children:r,containerInfo:n,implementation:o}}function wy(r){if(!r)return co;r=r._reactInternals;e:{if(Vo(r)!==r||r.tag!==1)throw Error(He(170));var n=r;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Er(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(He(171))}if(r.tag===1){var o=r.type;if(Er(o))return wg(r,o,n)}return n}function jy(r,n,o,t,m,c,a,h,s){return r=nf(o,t,!0,r,m,c,a,h,s),r.context=wy(null),o=r.current,t=xr(),m=ao(o),c=On(t,m),c.callback=n??null,oo(o,c,m),r.current.lanes=m,Xa(r,m,t),Tr(r,t),r}function Gl(r,n,o,t){var m=n.current,c=xr(),a=ao(m);return o=wy(o),n.context===null?n.context=o:n.pendingContext=o,n=On(c,a),n.payload={element:r},t=t===void 0?null:t,t!==null&&(n.callback=t),r=oo(m,n,a),r!==null&&(on(r,m,a,c),Ui(r,m,a)),a}function gl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function cp(r,n){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<n?o:n}}function of(r,n){cp(r,n),(r=r.alternate)&&cp(r,n)}function a1(){return null}var _y=typeof reportError=="function"?reportError:function(r){console.error(r)};function sf(r){this._internalRoot=r}Vl.prototype.render=sf.prototype.render=function(r){var n=this._internalRoot;if(n===null)throw Error(He(409));Gl(r,n,null,null)};Vl.prototype.unmount=sf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var n=r.containerInfo;Do(function(){Gl(null,r,null,null)}),n[Ln]=null}};function Vl(r){this._internalRoot=r}Vl.prototype.unstable_scheduleHydration=function(r){if(r){var n=eg();r={blockedOn:null,target:r,priority:n};for(var o=0;o<Xn.length&&n!==0&&n<Xn[o].priority;o++);Xn.splice(o,0,r),o===0&&rg(r)}};function af(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Hl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function dp(){}function i1(r,n,o,t,m){if(m){if(typeof t=="function"){var c=t;t=function(){var p=gl(a);c.call(p)}}var a=jy(n,t,r,0,null,!1,!1,"",dp);return r._reactRootContainer=a,r[Ln]=a.current,La(r.nodeType===8?r.parentNode:r),Do(),a}for(;m=r.lastChild;)r.removeChild(m);if(typeof t=="function"){var h=t;t=function(){var p=gl(s);h.call(p)}}var s=nf(r,0,!1,null,null,!1,!1,"",dp);return r._reactRootContainer=s,r[Ln]=s.current,La(r.nodeType===8?r.parentNode:r),Do(function(){Gl(n,s,o,t)}),s}function Wl(r,n,o,t,m){var c=o._reactRootContainer;if(c){var a=c;if(typeof m=="function"){var h=m;m=function(){var s=gl(a);h.call(s)}}Gl(n,a,r,m)}else a=i1(o,n,r,m,t);return gl(a)}Zm=function(r){switch(r.tag){case 3:var n=r.stateNode;if(n.current.memoizedState.isDehydrated){var o=ia(n.pendingLanes);o!==0&&(kd(n,o|1),Tr(n,Wt()),!(xt&6)&&(Ms=Wt()+500,go()))}break;case 13:Do(function(){var t=Nn(r,1);if(t!==null){var m=xr();on(t,r,1,m)}}),of(r,1)}};Ed=function(r){if(r.tag===13){var n=Nn(r,134217728);if(n!==null){var o=xr();on(n,r,134217728,o)}of(r,134217728)}};Jm=function(r){if(r.tag===13){var n=ao(r),o=Nn(r,n);if(o!==null){var t=xr();on(o,r,n,t)}of(r,n)}};eg=function(){return kt};tg=function(r,n){var o=kt;try{return kt=r,n()}finally{kt=o}};uc=function(r,n,o){switch(n){case"input":if(rc(r,o),n=o.name,o.type==="radio"&&n!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var t=o[n];if(t!==r&&t.form===r.form){var m=Rl(t);if(!m)throw Error(He(90));Lm(t),rc(t,m)}}}break;case"textarea":Am(r,o);break;case"select":n=o.value,n!=null&&ps(r,!!o.multiple,n,!1)}};zm=Jd;Gm=Do;var l1={usingClientEntryPoint:!1,Events:[Qa,as,Rl,Um,Bm,Jd]},ta={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u1={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Wm(r),r===null?null:r.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||a1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{Pl=ki.inject(u1),bn=ki}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l1;Ur.createPortal=function(r,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!af(n))throw Error(He(200));return s1(r,n,null,o)};Ur.createRoot=function(r,n){if(!af(r))throw Error(He(299));var o=!1,t="",m=_y;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(t=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=nf(r,1,!1,null,null,o,!1,t,m),r[Ln]=n.current,La(r.nodeType===8?r.parentNode:r),new sf(n)};Ur.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var n=r._reactInternals;if(n===void 0)throw typeof r.render=="function"?Error(He(188)):(r=Object.keys(r).join(","),Error(He(268,r)));return r=Wm(n),r=r===null?null:r.stateNode,r};Ur.flushSync=function(r){return Do(r)};Ur.hydrate=function(r,n,o){if(!Hl(n))throw Error(He(200));return Wl(null,r,n,!0,o)};Ur.hydrateRoot=function(r,n,o){if(!af(r))throw Error(He(405));var t=o!=null&&o.hydratedSources||null,m=!1,c="",a=_y;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(a=o.onRecoverableError)),n=jy(n,null,r,1,o??null,m,!1,c,a),r[Ln]=n.current,La(r),t)for(r=0;r<t.length;r++)o=t[r],m=o._getVersion,m=m(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,m]:n.mutableSourceEagerHydrationData.push(o,m);return new Vl(n)};Ur.render=function(r,n,o){if(!Hl(n))throw Error(He(200));return Wl(null,r,n,!1,o)};Ur.unmountComponentAtNode=function(r){if(!Hl(r))throw Error(He(40));return r._reactRootContainer?(Do(function(){Wl(null,null,r,!1,function(){r._reactRootContainer=null,r[Ln]=null})}),!0):!1};Ur.unstable_batchedUpdates=Jd;Ur.unstable_renderSubtreeIntoContainer=function(r,n,o,t){if(!Hl(o))throw Error(He(200));if(r==null||r._reactInternals===void 0)throw Error(He(38));return Wl(r,n,o,!1,t)};Ur.version="18.3.1-next-f1338f8080-20240426";function Sy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sy)}catch(r){console.error(r)}}Sy(),Sm.exports=Ur;var c1=Sm.exports,fp=c1;Xu.createRoot=fp.createRoot,Xu.hydrateRoot=fp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},za.apply(this,arguments)}var Jn;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Jn||(Jn={}));const hp="popstate";function d1(r){r===void 0&&(r={});function n(t,m){let{pathname:c,search:a,hash:h}=t.location;return Gc("",{pathname:c,search:a,hash:h},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function o(t,m){return typeof m=="string"?m:yl(m)}return h1(n,o,null,r)}function qt(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function ky(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function f1(){return Math.random().toString(36).substr(2,8)}function pp(r,n){return{usr:r.state,key:r.key,idx:n}}function Gc(r,n,o,t){return o===void 0&&(o=null),za({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof n=="string"?Is(n):n,{state:o,key:n&&n.key||t||f1()})}function yl(r){let{pathname:n="/",search:o="",hash:t=""}=r;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Is(r){let n={};if(r){let o=r.indexOf("#");o>=0&&(n.hash=r.substr(o),r=r.substr(0,o));let t=r.indexOf("?");t>=0&&(n.search=r.substr(t),r=r.substr(0,t)),r&&(n.pathname=r)}return n}function h1(r,n,o,t){t===void 0&&(t={});let{window:m=document.defaultView,v5Compat:c=!1}=t,a=m.history,h=Jn.Pop,s=null,p=b();p==null&&(p=0,a.replaceState(za({},a.state,{idx:p}),""));function b(){return(a.state||{idx:null}).idx}function v(){h=Jn.Pop;let y=b(),d=y==null?null:y-p;p=y,s&&s({action:h,location:g.location,delta:d})}function i(y,d){h=Jn.Push;let l=Gc(g.location,y,d);p=b()+1;let w=pp(l,p),x=g.createHref(l);try{a.pushState(w,"",x)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;m.location.assign(x)}c&&s&&s({action:h,location:g.location,delta:1})}function f(y,d){h=Jn.Replace;let l=Gc(g.location,y,d);p=b();let w=pp(l,p),x=g.createHref(l);a.replaceState(w,"",x),c&&s&&s({action:h,location:g.location,delta:0})}function u(y){let d=m.location.origin!=="null"?m.location.origin:m.location.href,l=typeof y=="string"?y:yl(y);return l=l.replace(/ $/,"%20"),qt(d,"No window.location.(origin|href) available to create URL for href: "+l),new URL(l,d)}let g={get action(){return h},get location(){return r(m,a)},listen(y){if(s)throw new Error("A history only accepts one active listener");return m.addEventListener(hp,v),s=y,()=>{m.removeEventListener(hp,v),s=null}},createHref(y){return n(m,y)},createURL:u,encodeLocation(y){let d=u(y);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:i,replace:f,go(y){return a.go(y)}};return g}var mp;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(mp||(mp={}));function p1(r,n,o){return o===void 0&&(o="/"),m1(r,n,o)}function m1(r,n,o,t){let m=typeof n=="string"?Is(n):n,c=lf(m.pathname||"/",o);if(c==null)return null;let a=Ey(r);g1(a);let h=null;for(let s=0;h==null&&s<a.length;++s){let p=M1(c);h=k1(a[s],p)}return h}function Ey(r,n,o,t){n===void 0&&(n=[]),o===void 0&&(o=[]),t===void 0&&(t="");let m=(c,a,h)=>{let s={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:a,route:c};s.relativePath.startsWith("/")&&(qt(s.relativePath.startsWith(t),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+t+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(t.length));let p=lo([t,s.relativePath]),b=o.concat(s);c.children&&c.children.length>0&&(qt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Ey(c.children,n,b,p)),!(c.path==null&&!c.index)&&n.push({path:p,score:_1(p,c.index),routesMeta:b})};return r.forEach((c,a)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))m(c,a);else for(let s of Ty(c.path))m(c,a,s)}),n}function Ty(r){let n=r.split("/");if(n.length===0)return[];let[o,...t]=n,m=o.endsWith("?"),c=o.replace(/\?$/,"");if(t.length===0)return m?[c,""]:[c];let a=Ty(t.join("/")),h=[];return h.push(...a.map(s=>s===""?c:[c,s].join("/"))),m&&h.push(...a),h.map(s=>r.startsWith("/")&&s===""?"/":s)}function g1(r){r.sort((n,o)=>n.score!==o.score?o.score-n.score:S1(n.routesMeta.map(t=>t.childrenIndex),o.routesMeta.map(t=>t.childrenIndex)))}const y1=/^:[\w-]+$/,v1=3,b1=2,x1=1,w1=10,j1=-2,gp=r=>r==="*";function _1(r,n){let o=r.split("/"),t=o.length;return o.some(gp)&&(t+=j1),n&&(t+=b1),o.filter(m=>!gp(m)).reduce((m,c)=>m+(y1.test(c)?v1:c===""?x1:w1),t)}function S1(r,n){return r.length===n.length&&r.slice(0,-1).every((t,m)=>t===n[m])?r[r.length-1]-n[n.length-1]:0}function k1(r,n,o){let{routesMeta:t}=r,m={},c="/",a=[];for(let h=0;h<t.length;++h){let s=t[h],p=h===t.length-1,b=c==="/"?n:n.slice(c.length)||"/",v=E1({path:s.relativePath,caseSensitive:s.caseSensitive,end:p},b),i=s.route;if(!v)return null;Object.assign(m,v.params),a.push({params:m,pathname:lo([c,v.pathname]),pathnameBase:L1(lo([c,v.pathnameBase])),route:i}),v.pathnameBase!=="/"&&(c=lo([c,v.pathnameBase]))}return a}function E1(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[o,t]=T1(r.path,r.caseSensitive,r.end),m=n.match(o);if(!m)return null;let c=m[0],a=c.replace(/(.)\/+$/,"$1"),h=m.slice(1);return{params:t.reduce((p,b,v)=>{let{paramName:i,isOptional:f}=b;if(i==="*"){let g=h[v]||"";a=c.slice(0,c.length-g.length).replace(/(.)\/+$/,"$1")}const u=h[v];return f&&!u?p[i]=void 0:p[i]=(u||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:a,pattern:r}}function T1(r,n,o){n===void 0&&(n=!1),o===void 0&&(o=!0),ky(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let t=[],m="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,h,s)=>(t.push({paramName:h,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(t.push({paramName:"*"}),m+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?m+="\\/*$":r!==""&&r!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,n?void 0:"i"),t]}function M1(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ky(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),r}}function lf(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,t=r.charAt(o);return t&&t!=="/"?null:r.slice(o)||"/"}function C1(r,n){n===void 0&&(n="/");let{pathname:o,search:t="",hash:m=""}=typeof r=="string"?Is(r):r;return{pathname:o?o.startsWith("/")?o:O1(o,n):n,search:N1(t),hash:A1(m)}}function O1(r,n){let o=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(m=>{m===".."?o.length>1&&o.pop():m!=="."&&o.push(m)}),o.length>1?o.join("/"):"/"}function Ru(r,n,o,t){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(t)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P1(r){return r.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function uf(r,n){let o=P1(r);return n?o.map((t,m)=>m===o.length-1?t.pathname:t.pathnameBase):o.map(t=>t.pathnameBase)}function cf(r,n,o,t){t===void 0&&(t=!1);let m;typeof r=="string"?m=Is(r):(m=za({},r),qt(!m.pathname||!m.pathname.includes("?"),Ru("?","pathname","search",m)),qt(!m.pathname||!m.pathname.includes("#"),Ru("#","pathname","hash",m)),qt(!m.search||!m.search.includes("#"),Ru("#","search","hash",m)));let c=r===""||m.pathname==="",a=c?"/":m.pathname,h;if(a==null)h=o;else{let v=n.length-1;if(!t&&a.startsWith("..")){let i=a.split("/");for(;i[0]==="..";)i.shift(),v-=1;m.pathname=i.join("/")}h=v>=0?n[v]:"/"}let s=C1(m,h),p=a&&a!=="/"&&a.endsWith("/"),b=(c||a===".")&&o.endsWith("/");return!s.pathname.endsWith("/")&&(p||b)&&(s.pathname+="/"),s}const lo=r=>r.join("/").replace(/\/\/+/g,"/"),L1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),N1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,A1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function R1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const My=["post","put","patch","delete"];new Set(My);const I1=["get",...My];new Set(I1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},Ga.apply(this,arguments)}const df=Ne.createContext(null),D1=Ne.createContext(null),yo=Ne.createContext(null),ql=Ne.createContext(null),vo=Ne.createContext({outlet:null,matches:[],isDataRoute:!1}),Cy=Ne.createContext(null);function F1(r,n){let{relative:o}=n===void 0?{}:n;Ds()||qt(!1);let{basename:t,navigator:m}=Ne.useContext(yo),{hash:c,pathname:a,search:h}=Py(r,{relative:o}),s=a;return t!=="/"&&(s=a==="/"?t:lo([t,a])),m.createHref({pathname:s,search:h,hash:c})}function Ds(){return Ne.useContext(ql)!=null}function Ja(){return Ds()||qt(!1),Ne.useContext(ql).location}function Oy(r){Ne.useContext(yo).static||Ne.useLayoutEffect(r)}function Fs(){let{isDataRoute:r}=Ne.useContext(vo);return r?Q1():U1()}function U1(){Ds()||qt(!1);let r=Ne.useContext(df),{basename:n,future:o,navigator:t}=Ne.useContext(yo),{matches:m}=Ne.useContext(vo),{pathname:c}=Ja(),a=JSON.stringify(uf(m,o.v7_relativeSplatPath)),h=Ne.useRef(!1);return Oy(()=>{h.current=!0}),Ne.useCallback(function(p,b){if(b===void 0&&(b={}),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=cf(p,JSON.parse(a),c,b.relative==="path");r==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:lo([n,v.pathname])),(b.replace?t.replace:t.push)(v,b.state,b)},[n,t,a,c,r])}function Py(r,n){let{relative:o}=n===void 0?{}:n,{future:t}=Ne.useContext(yo),{matches:m}=Ne.useContext(vo),{pathname:c}=Ja(),a=JSON.stringify(uf(m,t.v7_relativeSplatPath));return Ne.useMemo(()=>cf(r,JSON.parse(a),c,o==="path"),[r,a,c,o])}function B1(r,n){return z1(r,n)}function z1(r,n,o,t){Ds()||qt(!1);let{navigator:m}=Ne.useContext(yo),{matches:c}=Ne.useContext(vo),a=c[c.length-1],h=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let p=Ja(),b;if(n){var v;let y=typeof n=="string"?Is(n):n;s==="/"||(v=y.pathname)!=null&&v.startsWith(s)||qt(!1),b=y}else b=p;let i=b.pathname||"/",f=i;if(s!=="/"){let y=s.replace(/^\//,"").split("/");f="/"+i.replace(/^\//,"").split("/").slice(y.length).join("/")}let u=p1(r,{pathname:f}),g=q1(u&&u.map(y=>Object.assign({},y,{params:Object.assign({},h,y.params),pathname:lo([s,m.encodeLocation?m.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?s:lo([s,m.encodeLocation?m.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),c,o,t);return n&&g?Ne.createElement(ql.Provider,{value:{location:Ga({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Jn.Pop}},g):g}function G1(){let r=K1(),n=R1(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),o=r instanceof Error?r.stack:null,m={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ne.createElement(Ne.Fragment,null,Ne.createElement("h2",null,"Unexpected Application Error!"),Ne.createElement("h3",{style:{fontStyle:"italic"}},n),o?Ne.createElement("pre",{style:m},o):null,null)}const V1=Ne.createElement(G1,null);class H1 extends Ne.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,o){return o.location!==n.location||o.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:o.error,location:o.location,revalidation:n.revalidation||o.revalidation}}componentDidCatch(n,o){console.error("React Router caught the following error during render",n,o)}render(){return this.state.error!==void 0?Ne.createElement(vo.Provider,{value:this.props.routeContext},Ne.createElement(Cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W1(r){let{routeContext:n,match:o,children:t}=r,m=Ne.useContext(df);return m&&m.static&&m.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(m.staticContext._deepestRenderedBoundaryId=o.route.id),Ne.createElement(vo.Provider,{value:n},t)}function q1(r,n,o,t){var m;if(n===void 0&&(n=[]),o===void 0&&(o=null),t===void 0&&(t=null),r==null){var c;if(!o)return null;if(o.errors)r=o.matches;else if((c=t)!=null&&c.v7_partialHydration&&n.length===0&&!o.initialized&&o.matches.length>0)r=o.matches;else return null}let a=r,h=(m=o)==null?void 0:m.errors;if(h!=null){let b=a.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);b>=0||qt(!1),a=a.slice(0,Math.min(a.length,b+1))}let s=!1,p=-1;if(o&&t&&t.v7_partialHydration)for(let b=0;b<a.length;b++){let v=a[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=b),v.route.id){let{loaderData:i,errors:f}=o,u=v.route.loader&&i[v.route.id]===void 0&&(!f||f[v.route.id]===void 0);if(v.route.lazy||u){s=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}return a.reduceRight((b,v,i)=>{let f,u=!1,g=null,y=null;o&&(f=h&&v.route.id?h[v.route.id]:void 0,g=v.route.errorElement||V1,s&&(p<0&&i===0?(Z1("route-fallback"),u=!0,y=null):p===i&&(u=!0,y=v.route.hydrateFallbackElement||null)));let d=n.concat(a.slice(0,i+1)),l=()=>{let w;return f?w=g:u?w=y:v.route.Component?w=Ne.createElement(v.route.Component,null):v.route.element?w=v.route.element:w=b,Ne.createElement(W1,{match:v,routeContext:{outlet:b,matches:d,isDataRoute:o!=null},children:w})};return o&&(v.route.ErrorBoundary||v.route.errorElement||i===0)?Ne.createElement(H1,{location:o.location,revalidation:o.revalidation,component:g,error:f,children:l(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):l()},null)}var Ly=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Ly||{}),Ny=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Ny||{});function $1(r){let n=Ne.useContext(df);return n||qt(!1),n}function Y1(r){let n=Ne.useContext(D1);return n||qt(!1),n}function X1(r){let n=Ne.useContext(vo);return n||qt(!1),n}function Ay(r){let n=X1(),o=n.matches[n.matches.length-1];return o.route.id||qt(!1),o.route.id}function K1(){var r;let n=Ne.useContext(Cy),o=Y1(),t=Ay();return n!==void 0?n:(r=o.errors)==null?void 0:r[t]}function Q1(){let{router:r}=$1(Ly.UseNavigateStable),n=Ay(Ny.UseNavigateStable),o=Ne.useRef(!1);return Oy(()=>{o.current=!0}),Ne.useCallback(function(m,c){c===void 0&&(c={}),o.current&&(typeof m=="number"?r.navigate(m):r.navigate(m,Ga({fromRouteId:n},c)))},[r,n])}const yp={};function Z1(r,n,o){yp[r]||(yp[r]=!0)}function J1(r,n){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function ex(r){let{to:n,replace:o,state:t,relative:m}=r;Ds()||qt(!1);let{future:c,static:a}=Ne.useContext(yo),{matches:h}=Ne.useContext(vo),{pathname:s}=Ja(),p=Fs(),b=cf(n,uf(h,c.v7_relativeSplatPath),s,m==="path"),v=JSON.stringify(b);return Ne.useEffect(()=>p(JSON.parse(v),{replace:o,state:t,relative:m}),[p,v,m,o,t]),null}function Pr(r){qt(!1)}function tx(r){let{basename:n="/",children:o=null,location:t,navigationType:m=Jn.Pop,navigator:c,static:a=!1,future:h}=r;Ds()&&qt(!1);let s=n.replace(/^\/*/,"/"),p=Ne.useMemo(()=>({basename:s,navigator:c,static:a,future:Ga({v7_relativeSplatPath:!1},h)}),[s,h,c,a]);typeof t=="string"&&(t=Is(t));let{pathname:b="/",search:v="",hash:i="",state:f=null,key:u="default"}=t,g=Ne.useMemo(()=>{let y=lf(b,s);return y==null?null:{location:{pathname:y,search:v,hash:i,state:f,key:u},navigationType:m}},[s,b,v,i,f,u,m]);return g==null?null:Ne.createElement(yo.Provider,{value:p},Ne.createElement(ql.Provider,{children:o,value:g}))}function rx(r){let{children:n,location:o}=r;return B1(Vc(n),o)}new Promise(()=>{});function Vc(r,n){n===void 0&&(n=[]);let o=[];return Ne.Children.forEach(r,(t,m)=>{if(!Ne.isValidElement(t))return;let c=[...n,m];if(t.type===Ne.Fragment){o.push.apply(o,Vc(t.props.children,c));return}t.type!==Pr&&qt(!1),!t.props.index||!t.props.children||qt(!1);let a={id:t.props.id||c.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:t.props.ErrorBoundary!=null||t.props.errorElement!=null,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=Vc(t.props.children,c)),o.push(a)}),o}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t])}return r},Hc.apply(this,arguments)}function nx(r,n){if(r==null)return{};var o={},t=Object.keys(r),m,c;for(c=0;c<t.length;c++)m=t[c],!(n.indexOf(m)>=0)&&(o[m]=r[m]);return o}function ox(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function sx(r,n){return r.button===0&&(!n||n==="_self")&&!ox(r)}const ax=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ix="6";try{window.__reactRouterVersion=ix}catch{}const lx="startTransition",vp=Jv[lx];function ux(r){let{basename:n,children:o,future:t,window:m}=r,c=Ne.useRef();c.current==null&&(c.current=d1({window:m,v5Compat:!0}));let a=c.current,[h,s]=Ne.useState({action:a.action,location:a.location}),{v7_startTransition:p}=t||{},b=Ne.useCallback(v=>{p&&vp?vp(()=>s(v)):s(v)},[s,p]);return Ne.useLayoutEffect(()=>a.listen(b),[a,b]),Ne.useEffect(()=>J1(t),[t]),Ne.createElement(tx,{basename:n,children:o,location:h.location,navigationType:h.action,navigator:a,future:t})}const cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=Ne.forwardRef(function(n,o){let{onClick:t,relative:m,reloadDocument:c,replace:a,state:h,target:s,to:p,preventScrollReset:b,viewTransition:v}=n,i=nx(n,ax),{basename:f}=Ne.useContext(yo),u,g=!1;if(typeof p=="string"&&dx.test(p)&&(u=p,cx))try{let w=new URL(window.location.href),x=p.startsWith("//")?new URL(w.protocol+p):new URL(p),_=lf(x.pathname,f);x.origin===w.origin&&_!=null?p=_+x.search+x.hash:g=!0}catch{}let y=F1(p,{relative:m}),d=fx(p,{replace:a,state:h,target:s,preventScrollReset:b,relative:m,viewTransition:v});function l(w){t&&t(w),w.defaultPrevented||d(w)}return Ne.createElement("a",Hc({},i,{href:u||y,onClick:g||c?t:l,ref:o,target:s}))});var bp;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(bp||(bp={}));var xp;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(xp||(xp={}));function fx(r,n){let{target:o,replace:t,state:m,preventScrollReset:c,relative:a,viewTransition:h}=n===void 0?{}:n,s=Fs(),p=Ja(),b=Py(r,{relative:a});return Ne.useCallback(v=>{if(sx(v,o)){v.preventDefault();let i=t!==void 0?t:yl(p)===yl(b);s(r,{replace:i,state:m,preventScrollReset:c,relative:a,viewTransition:h})}},[p,s,b,t,m,o,r,c,a,h])}const hx={},wp=r=>{let n;const o=new Set,t=(b,v)=>{const i=typeof b=="function"?b(n):b;if(!Object.is(i,n)){const f=n;n=v??(typeof i!="object"||i===null)?i:Object.assign({},n,i),o.forEach(u=>u(n,f))}},m=()=>n,s={setState:t,getState:m,getInitialState:()=>p,subscribe:b=>(o.add(b),()=>o.delete(b)),destroy:()=>{(hx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},p=n=r(t,m,s);return s},px=r=>r?wp(r):wp;var Ry={exports:{}},Iy={},Dy={exports:{}},Fy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=Ne;function mx(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var gx=typeof Object.is=="function"?Object.is:mx,yx=Cs.useState,vx=Cs.useEffect,bx=Cs.useLayoutEffect,xx=Cs.useDebugValue;function wx(r,n){var o=n(),t=yx({inst:{value:o,getSnapshot:n}}),m=t[0].inst,c=t[1];return bx(function(){m.value=o,m.getSnapshot=n,Iu(m)&&c({inst:m})},[r,o,n]),vx(function(){return Iu(m)&&c({inst:m}),r(function(){Iu(m)&&c({inst:m})})},[r]),xx(o),o}function Iu(r){var n=r.getSnapshot;r=r.value;try{var o=n();return!gx(r,o)}catch{return!0}}function jx(r,n){return n()}var _x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jx:wx;Fy.useSyncExternalStore=Cs.useSyncExternalStore!==void 0?Cs.useSyncExternalStore:_x;Dy.exports=Fy;var Sx=Dy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $l=Ne,kx=Sx;function Ex(r,n){return r===n&&(r!==0||1/r===1/n)||r!==r&&n!==n}var Tx=typeof Object.is=="function"?Object.is:Ex,Mx=kx.useSyncExternalStore,Cx=$l.useRef,Ox=$l.useEffect,Px=$l.useMemo,Lx=$l.useDebugValue;Iy.useSyncExternalStoreWithSelector=function(r,n,o,t,m){var c=Cx(null);if(c.current===null){var a={hasValue:!1,value:null};c.current=a}else a=c.current;c=Px(function(){function s(f){if(!p){if(p=!0,b=f,f=t(f),m!==void 0&&a.hasValue){var u=a.value;if(m(u,f))return v=u}return v=f}if(u=v,Tx(b,f))return u;var g=t(f);return m!==void 0&&m(u,g)?(b=f,u):(b=f,v=g)}var p=!1,b,v,i=o===void 0?null:o;return[function(){return s(n())},i===null?void 0:function(){return s(i())}]},[n,o,t,m]);var h=Mx(r,c[0],c[1]);return Ox(function(){a.hasValue=!0,a.value=h},[h]),Lx(h),h};Ry.exports=Iy;var Nx=Ry.exports;const Ax=dd(Nx),Uy={},{useDebugValue:Rx}=gd,{useSyncExternalStoreWithSelector:Ix}=Ax;let jp=!1;const Dx=r=>r;function Fx(r,n=Dx,o){(Uy?"production":void 0)!=="production"&&o&&!jp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),jp=!0);const t=Ix(r.subscribe,r.getState,r.getServerState||r.getInitialState,n,o);return Rx(t),t}const Ux=r=>{(Uy?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof r=="function"?px(r):r,o=(t,m)=>Fx(n,t,m);return Object.assign(o,n),o},By=r=>Ux;var zy=Symbol.for("immer-nothing"),_p=Symbol.for("immer-draftable"),Fr=Symbol.for("immer-state");function rn(r,...n){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Os=Object.getPrototypeOf;function Ps(r){return!!r&&!!r[Fr]}function Fo(r){var n;return r?Gy(r)||Array.isArray(r)||!!r[_p]||!!((n=r.constructor)!=null&&n[_p])||ei(r)||Xl(r):!1}var Bx=Object.prototype.constructor.toString();function Gy(r){if(!r||typeof r!="object")return!1;const n=Os(r);if(n===null)return!0;const o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object?!0:typeof o=="function"&&Function.toString.call(o)===Bx}function vl(r,n){Yl(r)===0?Reflect.ownKeys(r).forEach(o=>{n(o,r[o],r)}):r.forEach((o,t)=>n(t,o,r))}function Yl(r){const n=r[Fr];return n?n.type_:Array.isArray(r)?1:ei(r)?2:Xl(r)?3:0}function Wc(r,n){return Yl(r)===2?r.has(n):Object.prototype.hasOwnProperty.call(r,n)}function Vy(r,n,o){const t=Yl(r);t===2?r.set(n,o):t===3?r.add(o):r[n]=o}function zx(r,n){return r===n?r!==0||1/r===1/n:r!==r&&n!==n}function ei(r){return r instanceof Map}function Xl(r){return r instanceof Set}function jo(r){return r.copy_||r.base_}function qc(r,n){if(ei(r))return new Map(r);if(Xl(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const o=Gy(r);if(n===!0||n==="class_only"&&!o){const t=Object.getOwnPropertyDescriptors(r);delete t[Fr];let m=Reflect.ownKeys(t);for(let c=0;c<m.length;c++){const a=m[c],h=t[a];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(t[a]={configurable:!0,writable:!0,enumerable:h.enumerable,value:r[a]})}return Object.create(Os(r),t)}else{const t=Os(r);if(t!==null&&o)return{...r};const m=Object.create(t);return Object.assign(m,r)}}function ff(r,n=!1){return Kl(r)||Ps(r)||!Fo(r)||(Yl(r)>1&&Object.defineProperties(r,{set:{value:Ei},add:{value:Ei},clear:{value:Ei},delete:{value:Ei}}),Object.freeze(r),n&&Object.values(r).forEach(o=>ff(o,!0))),r}function Ei(){rn(2)}function Kl(r){return Object.isFrozen(r)}var Gx={};function Uo(r){const n=Gx[r];return n||rn(0,r),n}var Va;function Hy(){return Va}function Vx(r,n){return{drafts_:[],parent_:r,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sp(r,n){n&&(Uo("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=n)}function $c(r){Yc(r),r.drafts_.forEach(Hx),r.drafts_=null}function Yc(r){r===Va&&(Va=r.parent_)}function kp(r){return Va=Vx(Va,r)}function Hx(r){const n=r[Fr];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function Ep(r,n){n.unfinalizedDrafts_=n.drafts_.length;const o=n.drafts_[0];return r!==void 0&&r!==o?(o[Fr].modified_&&($c(n),rn(4)),Fo(r)&&(r=bl(n,r),n.parent_||xl(n,r)),n.patches_&&Uo("Patches").generateReplacementPatches_(o[Fr].base_,r,n.patches_,n.inversePatches_)):r=bl(n,o,[]),$c(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),r!==zy?r:void 0}function bl(r,n,o){if(Kl(n))return n;const t=n[Fr];if(!t)return vl(n,(m,c)=>Tp(r,t,n,m,c,o)),n;if(t.scope_!==r)return n;if(!t.modified_)return xl(r,t.base_,!0),t.base_;if(!t.finalized_){t.finalized_=!0,t.scope_.unfinalizedDrafts_--;const m=t.copy_;let c=m,a=!1;t.type_===3&&(c=new Set(m),m.clear(),a=!0),vl(c,(h,s)=>Tp(r,t,m,h,s,o,a)),xl(r,m,!1),o&&r.patches_&&Uo("Patches").generatePatches_(t,o,r.patches_,r.inversePatches_)}return t.copy_}function Tp(r,n,o,t,m,c,a){if(Ps(m)){const h=c&&n&&n.type_!==3&&!Wc(n.assigned_,t)?c.concat(t):void 0,s=bl(r,m,h);if(Vy(o,t,s),Ps(s))r.canAutoFreeze_=!1;else return}else a&&o.add(m);if(Fo(m)&&!Kl(m)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;bl(r,m),(!n||!n.scope_.parent_)&&typeof t!="symbol"&&(ei(o)?o.has(t):Object.prototype.propertyIsEnumerable.call(o,t))&&xl(r,m)}}function xl(r,n,o=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&ff(n,o)}function Wx(r,n){const o=Array.isArray(r),t={type_:o?1:0,scope_:n?n.scope_:Hy(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let m=t,c=hf;o&&(m=[t],c=Ha);const{revoke:a,proxy:h}=Proxy.revocable(m,c);return t.draft_=h,t.revoke_=a,h}var hf={get(r,n){if(n===Fr)return r;const o=jo(r);if(!Wc(o,n))return qx(r,o,n);const t=o[n];return r.finalized_||!Fo(t)?t:t===Du(r.base_,n)?(Fu(r),r.copy_[n]=Kc(t,r)):t},has(r,n){return n in jo(r)},ownKeys(r){return Reflect.ownKeys(jo(r))},set(r,n,o){const t=Wy(jo(r),n);if(t!=null&&t.set)return t.set.call(r.draft_,o),!0;if(!r.modified_){const m=Du(jo(r),n),c=m==null?void 0:m[Fr];if(c&&c.base_===o)return r.copy_[n]=o,r.assigned_[n]=!1,!0;if(zx(o,m)&&(o!==void 0||Wc(r.base_,n)))return!0;Fu(r),Xc(r)}return r.copy_[n]===o&&(o!==void 0||n in r.copy_)||Number.isNaN(o)&&Number.isNaN(r.copy_[n])||(r.copy_[n]=o,r.assigned_[n]=!0),!0},deleteProperty(r,n){return Du(r.base_,n)!==void 0||n in r.base_?(r.assigned_[n]=!1,Fu(r),Xc(r)):delete r.assigned_[n],r.copy_&&delete r.copy_[n],!0},getOwnPropertyDescriptor(r,n){const o=jo(r),t=Reflect.getOwnPropertyDescriptor(o,n);return t&&{writable:!0,configurable:r.type_!==1||n!=="length",enumerable:t.enumerable,value:o[n]}},defineProperty(){rn(11)},getPrototypeOf(r){return Os(r.base_)},setPrototypeOf(){rn(12)}},Ha={};vl(hf,(r,n)=>{Ha[r]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});Ha.deleteProperty=function(r,n){return Ha.set.call(this,r,n,void 0)};Ha.set=function(r,n,o){return hf.set.call(this,r[0],n,o,r[0])};function Du(r,n){const o=r[Fr];return(o?jo(o):r)[n]}function qx(r,n,o){var m;const t=Wy(n,o);return t?"value"in t?t.value:(m=t.get)==null?void 0:m.call(r.draft_):void 0}function Wy(r,n){if(!(n in r))return;let o=Os(r);for(;o;){const t=Object.getOwnPropertyDescriptor(o,n);if(t)return t;o=Os(o)}}function Xc(r){r.modified_||(r.modified_=!0,r.parent_&&Xc(r.parent_))}function Fu(r){r.copy_||(r.copy_=qc(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var $x=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,o,t)=>{if(typeof n=="function"&&typeof o!="function"){const c=o;o=n;const a=this;return function(s=c,...p){return a.produce(s,b=>o.call(this,b,...p))}}typeof o!="function"&&rn(6),t!==void 0&&typeof t!="function"&&rn(7);let m;if(Fo(n)){const c=kp(this),a=Kc(n,void 0);let h=!0;try{m=o(a),h=!1}finally{h?$c(c):Yc(c)}return Sp(c,t),Ep(m,c)}else if(!n||typeof n!="object"){if(m=o(n),m===void 0&&(m=n),m===zy&&(m=void 0),this.autoFreeze_&&ff(m,!0),t){const c=[],a=[];Uo("Patches").generateReplacementPatches_(n,m,c,a),t(c,a)}return m}else rn(1,n)},this.produceWithPatches=(n,o)=>{if(typeof n=="function")return(a,...h)=>this.produceWithPatches(a,s=>n(s,...h));let t,m;return[this.produce(n,o,(a,h)=>{t=a,m=h}),t,m]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Fo(r)||rn(8),Ps(r)&&(r=Yx(r));const n=kp(this),o=Kc(r,void 0);return o[Fr].isManual_=!0,Yc(n),o}finishDraft(r,n){const o=r&&r[Fr];(!o||!o.isManual_)&&rn(9);const{scope_:t}=o;return Sp(t,n),Ep(void 0,t)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,n){let o;for(o=n.length-1;o>=0;o--){const m=n[o];if(m.path.length===0&&m.op==="replace"){r=m.value;break}}o>-1&&(n=n.slice(o+1));const t=Uo("Patches").applyPatches_;return Ps(r)?t(r,n):this.produce(r,m=>t(m,n))}};function Kc(r,n){const o=ei(r)?Uo("MapSet").proxyMap_(r,n):Xl(r)?Uo("MapSet").proxySet_(r,n):Wx(r,n);return(n?n.scope_:Hy()).drafts_.push(o),o}function Yx(r){return Ps(r)||rn(10,r),qy(r)}function qy(r){if(!Fo(r)||Kl(r))return r;const n=r[Fr];let o;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,o=qc(r,n.scope_.immer_.useStrictShallowCopy_)}else o=qc(r,!0);return vl(o,(t,m)=>{Vy(o,t,qy(m))}),n&&(n.finalized_=!1),o}var Xx=new $x,Kx=Xx.produce;const Qx=r=>(n,o,t)=>(t.setState=(m,c,...a)=>{const h=typeof m=="function"?Kx(m):m;return n(h,c,...a)},r(t.setState,o,t)),Zx=Qx,wn=r=>r.toLowerCase().trim().replace(/\s+/g," "),Qc=r=>r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Jx=[{id:1,names:["poltrona","poltrone"]},{id:2,names:["mensola","mensole"]},{id:3,names:["tavolino","tavolini"]},{id:4,names:["sedia","sedie"]}],Mp=(()=>{const r=new Map;for(const{id:n,names:o}of Jx)for(const t of o){const m=Qc(t);m.length>0&&!r.has(m)&&r.set(m,n)}return r})(),ew=["pezzi arredamento","pezzi di arredamento","pezzo arredamento","pezzo di arredamento","pezzi arredamento della casa","pezzo arredamento della casa","arredamento"],tw=r=>r.replace(/^(di|del|della|dell'|dei|degli|delle|la|il|lo|le|gli|i)\s+/u,""),rw=r=>{const n=wn(r),o=m=>{const c=m.trim().replace(/^[-:]+/,"").trim();if(!c)return"";const a=tw(c);return Qc(a)};for(const m of ew)if(n.startsWith(m)){const c=o(n.slice(m.length));if(!c)return"housePiece:any";const a=Mp.get(c);return typeof a=="number"?`housePiece:${a}`:"housePiece:any"}const t=Mp.get(Qc(r));return typeof t=="number"?`housePiece:${t}`:null},nw=[["⚪ bianca","white"],["bianca","white"],["white","white"],["⚫ nera","black"],["nera","black"],["black","black"],["🔴 rossa","red"],["rossa","red"],["red","red"],["🟠 arancione","orange"],["arancione","orange"],["orange","orange"],["🟡 gialla","yellow"],["gialla","yellow"],["yellow","yellow"],["💜 rosa","purple"],["viola","purple"],["rosa","purple"],["purple","purple"],["🔵 blu","blue"],["blu","blue"],["blue","blue"],["🟦 azzurra","lightBlue"],["azzurra","lightBlue"],["lightblue","lightBlue"],["🟤 marrone","brown"],["marrone","brown"],["brown","brown"],["🝉 lime","lime"],["lime","lime"],["🟩 verde scuro","green"],["verde","green"],["verde scuro","green"],["green","green"],["⚙️ neutra","neutral"],["neutra","neutral"],["neutral","neutral"]],ow=new Map(nw.map(([r,n])=>[wn(r),n])),sw=[["monete","coins"],["💰 monete","coins"],["coins","coins"],["cibo","food"],["🍗 cibo","food"],["food","food"],["armatura","armor"],["armature","armor"],["armor","armor"],["proiettili","bullets"],["pallottole","bullets"],["bullets","bullets"],["cartucce","shells"],["shells","shells"],["frecce","arrows"],["arrows","arrows"],["dardi","darts"],["darts","darts"],["granata","grenades"],["granate","grenades"],["grenades","grenades"],["oggetto speciale","specialItem"],["speciale","specialItem"],["special item","specialItem"],["pezzi arredamento","housePiece:any"],["pezzi di arredamento","housePiece:any"],["pezzo arredamento","housePiece:any"],["pezzo di arredamento","housePiece:any"],["arredamento","housePiece:any"],["nessuno","none"],["null","none"],["nessuna ricompensa","none"],["medaglietta bianca","medal_white"],["medaglia bianca","medal_white"],["badge bianca","medal_white"],["medaglietta nera","medal_black"],["medaglietta rossa","medal_red"],["medaglietta arancione","medal_orange"],["medaglietta gialla","medal_yellow"],["medaglietta viola","medal_purple"],["medaglietta blu","medal_blue"],["medaglietta azzurra","medal_lightBlue"],["medaglietta marrone","medal_brown"],["medaglietta lime","medal_lime"],["medaglietta verde","medal_green"],["medaglietta verde scuro","medal_green"],["medaglietta neutra","medal_neutral"]],aw=new Map(sw.map(([r,n])=>[wn(r),n])),iw=[["fucile a pompa","shotgun"],["shotgun","shotgun"],["cerbottana","blowgun"],["blowgun","blowgun"],["lanciagranate","grenadeLauncher"],["grenade launcher","grenadeLauncher"],["arco","Bow"],["arco","Bow"],["bow","Bow"],["pistola","pistol"],["pistol","pistol"]],lw=new Map(iw.map(([r,n])=>[wn(r),n])),uw=new Map([["shotgun","shells"],["blowgun","darts"],["grenadeLauncher","grenades"],["Bow","arrows"],["pistol","bullets"]]),cw=new Set(["true","si","sì","yes","1"]),dw=r=>typeof r=="boolean"?r:typeof r=="number"?r!==0:typeof r=="string"?cw.has(wn(r)):!1,Xo=r=>{if(typeof r=="number")return r;if(typeof r=="string"&&r.trim().length>0){const n=Number(r.replace(",","."));if(Number.isFinite(n))return n}throw new Error(`Unable to convert value "${r}" to number`)},fw=r=>{const n=wn(String(r??""));if(n.includes("piccol")||n.includes("small"))return"Small";if(n.includes("grand")||n.includes("large"))return"Adult";throw new Error(`Unknown size: ${r}`)},hw=r=>{const n=ow.get(wn(r));if(!n)throw new Error(`Unknown door type alias: ${r}`);return n},pf=r=>{const n=rw(r);if(n)return n;const o=aw.get(wn(r));if(!o)throw new Error(`Unknown loot alias: ${r}`);return o},pw=r=>{const n=lw.get(wn(r));if(!n)throw new Error(`Unknown weapon alias: ${r}`);return n},hs=r=>{const n=uw.get(r);if(!n)throw new Error(`Ammo type missing for weapon ${r}`);return n},mw=r=>{const n=pf(r);if(n==="bullets"||n==="shells"||n==="arrows"||n==="darts"||n==="grenades")return n;throw new Error(`Value "${r}" is not a valid ammo kind`)},gw=new Map([["coins","Coins"],["monete","Coins"],["credits","Coins"],["food","Food"],["cibo","Food"],["ammo","Ammo"],["munizioni","Ammo"],["mixed","Mixed"],["misto","Mixed"]]),yw=r=>{const n=gw.get(wn(r));if(!n)throw new Error(`Unknown bonus type alias: ${r}`);return n},vw=r=>{const n=r;return{id:Xo(n.id??n.ID??0),kind:String(n.animale??n.name??"Sconosciuto"),life:Xo(n.vita??n.life??0),damage:Xo(n.danno??n.damage??0),attackSpeed:Xo(n.velocita_di_attacco??n.attackSpeed??1),size:fw(n.eta??"Small"),staminaMax:Xo(n.stamina_max??n.staminaMax??0),upgradableArmor:dw(n.upgradable_armature??n.upgradableArmor??!1),growthFoodCost:Xo(n.costo_crescita_cibo??n.growthFoodCost??0)}},bw=r=>r.map(({porta:n,ricompense:o})=>({type:hw(n),rewards:o})),xw={cache:"no-store",headers:{"Cache-Control":"no-store"}},ti=async r=>{const n=await fetch(r,xw);if(!n.ok)throw new Error(`Failed to fetch ${r}: ${n.status}`);return await n.json()},ww=async()=>(await ti("/assets/config_animali.json")).animali.map(n=>vw(n)),jw=async()=>(await ti("/assets/config_armi.json")).armi.map(n=>({name:pw(n.nome),displayName:n.nome,ammoType:mw(n.munizioni),damagePerShot:n.danno_per_colpo,maxAmmo:n.capacita_massima})),_w=()=>ti("/assets/config_bauli.json"),Sw=()=>ti("/assets/config_arredamento.json"),kw=async()=>{const r=await ti("/assets/door_loot_tables.json");return bw(r.loottables)},Ew=(r,n)=>{if(!r)return 1;const o=r.trim();if(o.includes("-")){const[m,c]=o.split("-").map(s=>Number(s));if(!Number.isFinite(m)||!Number.isFinite(c))return 1;const a=Math.min(m,c),h=Math.max(m,c);return n.nextInt(a,h)}const t=Number(o);return Number.isFinite(t)?t:1},Tw=(r,n)=>{if(!r.loot)return null;const o=pf(r.loot);return o==="none"?null:{type:o,qty:Ew(r.quantita,n)}},Mw=r=>r.reduce((n,o)=>(n[o.type]=o.rewards,n),{}),Cw=r=>r.reduce((n,o)=>n+(o.peso??0),0),Ow=(r,n)=>{const o=Cw(r);if(o<=0)return null;const t=n.nextFloat()*o;let m=0;for(const c of r)if(m+=c.peso??0,t<=m)return c;return r.at(-1)??null},Uu=(r,n,o)=>{const t=n[r];if(!t||t.length===0)return null;const m=Ow(t,o);return m?Tw(m,o):null},Pw={white:[{type:"yellow",durationRange:[1,2]}],black:[{type:"orange",durationRange:[3,5]},{type:"*",count:2,durationRange:[3,5]}],red:[{type:"blue",durationRange:[2,4]},{type:"lime",durationRange:[2,4]}],orange:[{type:"lime",durationRange:[3,5]},{type:"green",durationRange:[3,5]}],yellow:[{type:"white",durationRange:[1,3]},{type:"yellow",durationRange:[1,1]}],purple:[{type:"green",durationRange:[2,3]},{type:"brown",durationRange:[2,3]}],blue:[{type:"red",durationRange:[3,4]},{type:"orange",durationRange:[3,4]}],lightBlue:[{type:"green",durationRange:[2,3]}],brown:[{type:"orange",durationRange:[3,4]},{type:"lime",durationRange:[3,4]}],lime:[{type:"red",durationRange:[2,4]},{type:"blue",durationRange:[2,4]},{type:"lightBlue",durationRange:[2,4]}],green:[{type:"lightBlue",durationRange:[2,3]},{type:"red",durationRange:[2,3]}],neutral:[{type:"black",durationRange:[1,1]}]},Cn=["white","black","red","orange","yellow","purple","blue","lightBlue","brown","lime","green","neutral"],Lw=r=>{const[n,o]=r;return o<n?[o,n]:[n,o]},Cp=(r,n,o,t)=>{if(r==="neutral")return;const[m,c]=Lw(n),a=o.nextInt(m,c),h=t.get(r);(h===void 0||a>h)&&t.set(r,a)},Bu=(r,n,o)=>{const t=new Map(n.map(({type:a,turnsLeft:h})=>[a,Math.max(h,0)])),m=Pw[r]??[],c=new Set;for(const a of m)if(a.type==="*"){const h=Cn.filter(p=>p!==r&&p!=="neutral"&&!c.has(p)),s=Math.min(a.count??0,h.length);for(let p=0;p<s;p+=1){const b=o.pickOne(h);c.add(b),h.splice(h.indexOf(b),1),Cp(b,a.durationRange,o,t)}}else c.add(a.type),Cp(a.type,a.durationRange,o,t);return t.delete("neutral"),Array.from(t.entries()).map(([a,h])=>({type:a,turnsLeft:h}))},Ti=r=>r.map(({type:n,turnsLeft:o})=>({type:n,turnsLeft:o-1})).filter(n=>n.turnsLeft>0),ua=(r,n)=>{const o=new Set(n.map(t=>t.type));return r.filter(t=>t==="neutral"||!o.has(t))};class Zc{constructor(n){nh(this,"seed");if(!Number.isInteger(n))throw new Error("Seed must be an integer");this.seed=n>>>0}next(){let n=this.seed;return n^=n<<13,n^=n>>>17,n^=n<<5,this.seed=n>>>0,this.seed}nextFloat(){return(this.next()&268435455)/268435456}nextInt(n,o){if(o<n)throw new Error("max must be >= min");const t=o-n+1;return n+Math.floor(this.nextFloat()*t)}pickOne(n){if(n.length===0)throw new Error("Cannot pick from empty array");const o=this.nextInt(0,n.length-1);return n[o]}}const Jc=(r,n)=>r+n*9973>>>0,zu=r=>{const n=[],o=[];for(const t of r){const m={...t};if(m.turnsToNextBonus===null){n.push(m);continue}const c=m.turnsToNextBonus-1;c<=0?(o.push({objectId:m.id,bonus:m.bonus}),m.turnsToNextBonus=m.bonus.turnsCooldown>0?m.bonus.turnsCooldown:null):m.turnsToNextBonus=c,n.push(m)}return{objects:n,triggers:o}},Nw=.002,Op={white:"Porta Bianca",black:"Porta Nera",red:"Porta Rossa",orange:"Porta Arancione",yellow:"Porta Gialla",purple:"Porta Viola",blue:"Porta Blu",lightBlue:"Porta Azzurra",brown:"Porta Marrone",lime:"Porta Lime",green:"Porta Verde",neutral:"Porta Neutra"},Aw={white:"Ricompense bilanciate, ottima per iniziare a collezionare risorse.",black:"Ricompense rare con alta probabilità di armature.",red:"Elevato rischio ma ottime ricompense offensive.",orange:"Garantisce loot legati ai potenziamenti tattici.",yellow:"Concentrata su risorse economiche e pacchetti cibo.",purple:"Medaglione collegato a drop magici e speciali.",blue:"Ricompense dedicate alle risorse energetiche.",lightBlue:"Favorisce loot supporto e acceleratori di progressione.",brown:"Specializzata in risorse difensive e costruzione.",lime:"Ricompense ibride tra supporto e potenziamenti rari.",green:"Focus su equipaggiamento animale e potenziamenti.",neutral:"Loot generico utile per completare collezioni mancanti."},Rw={white:"#e5e5e5",black:"#1f2937",red:"#ef4444",orange:"#f97316",yellow:"#facc15",purple:"#a855f7",blue:"#3b82f6",lightBlue:"#22d3ee",brown:"#92400e",lime:"#84cc16",green:"#059669",neutral:"#9ca3af"},xa=Object.keys(Op).map(r=>({type:r,name:`Medaglietta ${Op[r]}`,color:Rw[r]??"#9ca3af",description:Aw[r],dropRate:Nw})),wl=r=>typeof r=="string"&&r.startsWith("medal_"),jl=r=>r.replace("medal_",""),ed=[{id:"common",name:"Baule Comune",image:"/assets/bauli/legno.png",accent:"#f59e0b",description:"Contiene risorse di base utili a rinforzare l'equipaggiamento."},{id:"uncommon",name:"Baule Non Comune",image:"/assets/bauli/bronzo.png",accent:"#ec4899",description:"Ricompense migliorate con possibilità di trovare potenziamenti rari."},{id:"rare",name:"Baule Raro",image:"/assets/bauli/argento.png",accent:"#38bdf8",description:"Loot prezioso concentrato su risorse avanzate e armature."},{id:"epic",name:"Baule Epico",image:"/assets/bauli/oro.png",accent:"#f97316",description:"Ricompense di alto livello con possibilità di oggetti speciali."},{id:"legendary",name:"Baule Leggendario",image:"/assets/bauli/diamante.png",accent:"#c084fc",description:"Contiene le ricompense più rare, inclusi oggetti unici."}],Iw=r=>ed.find(o=>o.id===r)??{id:r,name:`Baule ${r}`,image:"/assets/bauli/legno.png",accent:"#a67c52",description:"Contiene una selezione casuale di ricompense."},Dw=.7,Fw=.75,Uw=.6,Bw=2,Ql=(r,n)=>n==="Small"?Math.max(1,Math.round(r.life*Fw)):r.life,fo=(r,n)=>n==="Small"?Math.max(5,Math.round(r.staminaMax*Uw)):r.staminaMax,zw=(r,n)=>n==="Small"?Math.max(1,Math.round(r.damage*Dw)):r.damage,Gw=(r,n)=>n==="Small"?Math.max(1,r.attackSpeed+Bw):r.attackSpeed,Zl=(r,n)=>{const o=Ql(r,n.size),t=fo(r,n.size);return{life:Math.min(n.life,o),damage:zw(r,n.size),attackSpeed:Gw(r,n.size),staminaCap:t,lifeCap:o}},Vw=(r,n)=>{const o=Ql(n,"Adult"),t=fo(n,"Adult");return{...r,size:"Adult",life:o,stamina:t}},mf=(r,n)=>{if(!n.alive)return"fallen";if(!r)return n.stamina>0?"ready":"recovering";const{staminaCap:o}=Zl(r,n);return n.stamina>=o?"ready":"recovering"},gf=(r,n)=>{if(!n.alive||!r)return 0;const{staminaCap:o}=Zl(r,n);return Math.max(0,o-n.stamina)},Wa=(r,n)=>{if(r)return Zl(r,n);const o=Math.max(0,Math.round(n.life)),t=Math.max(0,Math.round(n.stamina));return{life:o,damage:0,attackSpeed:0,staminaCap:Math.max(1,t),lifeCap:Math.max(1,o)}},an={version:"gc:version",activeSlot:"gc:activeSlot",slots:"gc:slots",savePrefix:"gc:save:",migratorLastRun:"gc:migrator:lastRun"},ho="1.0.0",xs=r=>`${an.savePrefix}${r}`,Hw=(r,n)=>{const o=localStorage.getItem(r);if(!o)return n;try{return JSON.parse(o)}catch{return n}},Ww=(r,n)=>{localStorage.setItem(r,JSON.stringify(n))},zr=()=>Hw(an.slots,{slots:[]}).slots,Po=r=>{Ww(an.slots,{slots:r})},wa=()=>localStorage.getItem(an.activeSlot),ca=r=>{localStorage.setItem(an.activeSlot,r)},qw=()=>({bullets:0,shells:0,arrows:0,darts:8,grenades:0}),$w=["common","uncommon","rare","epic","legendary"],Yw=()=>$w.reduce((r,n)=>(r[n]=0,r),{}),Xw=()=>Cn.reduce((r,n)=>(r[n]={unlocked:!1,unlockedAt:null,highlightUntil:null},r),{}),Jl=()=>new Date().toISOString(),Pp=(r,n,o)=>{const t=Jl();return{meta:{slotId:r,createdAt:t,updatedAt:t,gameVersion:ho,rngSeed:Math.floor(Math.random()*4294967295)},progress:{doorsOpened:0,blockedDoors:[],availablePool:Cn,lastLobbyDraw:[],turn:0},inventory:{coins:0,food:0,ammo:qw(),armors:[],specialItems:[]},weapons:n,animals:{owned:[],bestiarySeen:[]},house:{objects:o},chests:{unlockedHistory:[],inventory:Yw()},doorHistory:[],battleState:{active:!1,door:null,usedWeapons:[],fallenAnimals:[],weaponsLocked:!1},medals:{entries:Xw(),dropRate:.002,highlighted:null}}},es=r=>{const n=localStorage.getItem(xs(r));if(!n)return null;try{return JSON.parse(n)}catch(o){return console.error("Invalid save data",o),null}},Or=r=>{const n=Jl(),o={...r,meta:{...r.meta,updatedAt:n,gameVersion:ho}};localStorage.setItem(xs(r.meta.slotId),JSON.stringify(o));const m=zr().map(c=>c.id===r.meta.slotId?{...c,updatedAt:n}:c);Po(m)},Kw=r=>{localStorage.removeItem(xs(r));const n=zr().filter(t=>t.id!==r);Po(n),wa()===r&&localStorage.removeItem(an.activeSlot)},Qw=(r,n)=>{const o=zr().map(t=>t.id===r?{...t,name:n}:t);Po(o)},Zw=()=>{localStorage.getItem(an.version)!==ho&&localStorage.setItem(an.version,ho)},ja=r=>typeof r=="object"&&r!==null,Jw=r=>ja(r)?typeof r.id=="string"&&typeof r.name=="string"&&typeof r.createdAt=="string"&&typeof r.updatedAt=="string":!1,e2=(r,n)=>{if(!ja(n))throw new Error("Invalid saves map");const o={};for(const t of r){const m=n[t.id];if(m==null){o[t.id]=null;continue}if(!ja(m))throw new Error(`Invalid save payload for slot ${t.id}`);if(!ja(m.meta)||m.meta.slotId!==t.id)throw new Error(`Mismatched slot id for save ${t.id}`);o[t.id]=m}return o},t2=()=>{const r=zr(),n=wa(),o=r.reduce((t,m)=>(t[m.id]=es(m.id),t),{});return{version:ho,generatedAt:Jl(),activeSlotId:n,slots:r,saves:o}},r2=r=>{let n;try{n=JSON.parse(r)}catch{throw new Error("Invalid JSON")}if(!ja(n))throw new Error("Invalid export payload");const o=n.slots;if(!Array.isArray(o))throw new Error("Slots list missing");const t=o.map(p=>{if(!Jw(p))throw new Error("Invalid slot metadata");return p}),m=new Set;for(const p of t){if(m.has(p.id))throw new Error(`Duplicate slot id "${p.id}" in export`);m.add(p.id)}const c=e2(t,n.saves),a=typeof n.activeSlotId=="string"&&t.some(p=>p.id===n.activeSlotId)?n.activeSlotId:null,h=typeof n.version=="string"&&n.version.trim()?n.version:ho,s=typeof n.generatedAt=="string"&&n.generatedAt.trim()?n.generatedAt:Jl();return{version:h,generatedAt:s,activeSlotId:a,slots:t,saves:c}},n2=r=>{const n=zr();for(const t of n)localStorage.removeItem(xs(t.id));Po(r.slots);for(const t of r.slots){const m=r.saves[t.id];m?localStorage.setItem(xs(t.id),JSON.stringify(m)):localStorage.removeItem(xs(t.id))}r.activeSlotId&&r.slots.some(t=>t.id===r.activeSlotId)?ca(r.activeSlotId):localStorage.removeItem(an.activeSlot);const o=r.version.trim()?r.version:ho;localStorage.setItem(an.version,o)},o2=r=>({...r,meta:{...r.meta,gameVersion:"1.0.0"}}),s2=[{version:"1.0.0",migrate:o2}],a2=(r,n)=>{const o=r.split(".").map(Number),t=n.split(".").map(Number);for(let m=0;m<Math.max(o.length,t.length);m+=1){const c=(o[m]??0)-(t[m]??0);if(c!==0)return c}return 0},ra=r=>{const n=s2.filter(o=>a2(o.version,r.meta.gameVersion)>0).reduce((o,t)=>t.migrate(o),r);return localStorage.setItem(an.migratorLastRun,ho),n},i2=(r,n,o)=>{const t=Math.max(0,Math.floor(o)),m=n.damagePerShot*t,c=Math.max(0,r.life-m);return{enemyLifeLeft:c,ammoSpent:t,defeated:c===0}},Mi=(r,n,o)=>{const t=Math.max(1,n-o);return Math.max(0,r-t)},l2=(r,n)=>{let o=r.life,t=n.life;const m=Math.max(0,r.armor??0),c=0;let a=0;const h=r.attackSpeed>=n.attackSpeed,s=[],p=100;for(let v=0;v<p;v+=1){a+=1;const i=v+1;if(h){const f=t;if(t=Mi(t,r.damage,c),s.push({attacker:"player",damage:f-t,playerLifeAfter:o,enemyLifeAfter:t,round:i,defenderLifeBefore:f}),t<=0)break;const u=o;if(o=Mi(o,n.damage,m),s.push({attacker:"enemy",damage:u-o,playerLifeAfter:o,enemyLifeAfter:t,round:i,defenderLifeBefore:u}),o<=0)break}else{const f=o;if(o=Mi(o,n.damage,m),s.push({attacker:"enemy",damage:f-o,playerLifeAfter:o,enemyLifeAfter:t,round:i,defenderLifeBefore:f}),o<=0)break;const u=t;if(t=Mi(t,r.damage,c),s.push({attacker:"player",damage:u-t,playerLifeAfter:o,enemyLifeAfter:t,round:i,defenderLifeBefore:u}),t<=0)break}}let b;return t<=0&&o<=0||t<=0?b="player":b="enemy",{winner:b,turns:a,playerLifeLeft:Math.max(0,o),enemyLifeLeft:Math.max(0,t),log:s}},u2=r=>new Promise(n=>{setTimeout(n,r)}),Ci=(...r)=>{},c2=async(r,n=120,o=100)=>{let t=r().configs;if(t)return t;for(let m=0;m<n;m+=1){if(await u2(o),t=r().configs,t)return t;if(r().status==="error")break}return null},Vn={active:!1,door:null,usedWeapons:[],fallenAnimals:[],weaponsLocked:!1},qi=["bullets","shells","arrows","darts","grenades"],d2=["common","uncommon","rare","epic","legendary"],f2=r=>d2.reduce((n,o)=>{const t=r==null?void 0:r[o];return n[o]=typeof t=="number"&&Number.isFinite(t)?Math.max(0,t):0,n},{}),h2=r=>Cn.reduce((n,o)=>{const t=r==null?void 0:r[o];return n[o]={unlocked:(t==null?void 0:t.unlocked)??!1,unlockedAt:(t==null?void 0:t.unlockedAt)??null,highlightUntil:(t==null?void 0:t.highlightUntil)??null},n},{}),p2={common:"common",uncommon:"common",rare:"rare",epic:"epic",legendary:"epic"},m2=(r,n)=>{if(!r)return 1;const o=r.trim();if(o.includes("-")){const[m,c]=o.split("-").map(s=>Number(s));if(!Number.isFinite(m)||!Number.isFinite(c))return 1;const a=Math.min(m,c),h=Math.max(m,c);return n.nextInt(a,h)}const t=Number(o);return Number.isFinite(t)?t:1},g2=(r,n)=>{const o=r.reduce((c,a)=>c+(a.peso??0),0);if(o<=0)return null;const t=n.nextFloat()*o;let m=0;for(const c of r)if(m+=c.peso??0,t<=m)return c;return r.at(-1)??null},y2=(r,n,o)=>{const t=p2[n]??n,m=r.bauli.find(s=>s.id===t);if(!m)return null;const c=g2(m.loot,o);if(!c||!c.loot)return null;const a=pf(c.loot);if(a==="none")return null;const h=m2(c.quantita,o);return{type:a,qty:h}},v2=r=>{const n={bullets:0,shells:0,arrows:0,darts:0,grenades:0};for(const o of qi)typeof r[o]=="number"&&Number.isFinite(r[o])&&(n[o]=Math.max(0,Math.floor(r[o])));return n},Lp=new Set(["blowgun"]),td=(r,n)=>r.map(o=>{const t=n==null?void 0:n.find(m=>m.name===o.name);return t?{name:o.name,unlocked:t.unlocked??Lp.has(o.name)}:{name:o.name,unlocked:Lp.has(o.name)}}),b2=r=>r.arredamento.map(n=>({id:n.id,name:n.nome,piecesNeeded:n.pezzi,bonus:{type:yw(n.bonus.tipo),amount:n.bonus.quantita,turnsCooldown:n.bonus.cooldown}})),rd=(r,n)=>r.map(o=>{const t=n==null?void 0:n.find(m=>m.id===o.id);return{id:o.id,name:o.name,piecesNeeded:o.piecesNeeded,piecesOwned:(t==null?void 0:t.piecesOwned)??0,unlocked:(t==null?void 0:t.unlocked)??!1,bonus:{type:o.bonus.type,amount:o.bonus.amount,turnsCooldown:o.bonus.turnsCooldown},turnsToNextBonus:(t==null?void 0:t.turnsToNextBonus)??null}}),Np=(r,n=2)=>{const o=r.slice(0,n);return{owned:o.map(m=>({configId:m.id,life:Ql(m,"Adult"),stamina:fo(m,"Adult"),size:"Adult",armor:0,alive:!0})),bestiarySeen:o.map(m=>m.id)}},bo=(r,n)=>{var m,c,a,h,s,p;const t={...v2(r.inventory.ammo)};for(const b of r.weapons??[]){const v=typeof b.ammo=="number"?Math.max(0,Math.floor(b.ammo??0)):0;if(v>0){const i=hs(b.name);t[i]+=v}}return{...r,weapons:td(n.weapons,r.weapons),house:{objects:rd(n.house,r.house.objects)},inventory:{...r.inventory,ammo:t},animals:{owned:x2(r.animals.owned,n.animals),bestiarySeen:r.animals.bestiarySeen},chests:{unlockedHistory:((m=r.chests)==null?void 0:m.unlockedHistory)??[],inventory:f2((c=r.chests)==null?void 0:c.inventory)},progress:{...r.progress,availablePool:ua(r.progress.availablePool.length?r.progress.availablePool:Cn,r.progress.blockedDoors)},battleState:r.battleState??Vn,medals:{entries:h2((a=r.medals)==null?void 0:a.entries),dropRate:((h=r.medals)==null?void 0:h.dropRate)??((s=xa[0])==null?void 0:s.dropRate)??.002,highlighted:((p=r.medals)==null?void 0:p.highlighted)??null}}},Gu=(r,n,o)=>r.map(t=>{const m=n.find(h=>h.id===t.configId);if(!m||!t.alive)return t;const c=fo(m,t.size),a=Math.min(c,t.stamina+o);return{...t,stamina:a}}),x2=(r,n)=>r.map(o=>{const t=n.find(s=>s.id===o.configId);if(!t)return o;const m=Ql(t,o.size),c=fo(t,o.size),a=Math.min(Math.max(0,o.life),m),h=Math.min(Math.max(0,o.stamina),c);return{...o,life:a,stamina:h}}),Vu=(r,n)=>{if(!n.length)return r;const o={...r.inventory,ammo:{...r.inventory.ammo}};for(const t of n){const m=t.bonus.amount;switch(t.bonus.type){case"Coins":case"Monete":{const c=Array.isArray(m)?m.reduce((a,h)=>a+(typeof h=="number"?h:0),0):m;o.coins+=c;break}case"Food":case"Cibo":{const c=Array.isArray(m)?m.reduce((a,h)=>a+(typeof h=="number"?h:0),0):m;o.food+=c;break}case"Ammo":case"Munizioni":{Array.isArray(m)?m.forEach((c,a)=>{const h=qi[a];h&&typeof c=="number"&&(o.ammo[h]+=c)}):qi.forEach(c=>{o.ammo[c]+=m});break}case"Mixed":{if(Array.isArray(m)){const[c=0,a=0,h=0]=m;o.coins+=typeof c=="number"?c:0,o.food+=typeof a=="number"?a:0,qi.forEach(s=>{typeof h=="number"&&(o.ammo[s]+=h)})}else o.coins+=m,o.food+=m;break}}}return{...r,inventory:o}},qn=(r,n,o=0)=>{const t=Array.from(n).reduce((c,a)=>c+a.charCodeAt(0),0),m=Jc(r.meta.rngSeed,r.progress.turn+1+o*13+t);return new Zc(m)},w2=(r,n,o)=>{if(!o.length)return[];const t=qn(r,n);if(t.nextFloat()<.35)return[];const c=t.nextInt(1,Math.min(3,o.length)),a=[],h=[...o];for(let s=0;s<c;s+=1){const p=t.nextInt(0,h.length-1),b=h.splice(p,1)[0];a.push({configId:b.id,life:b.life,damage:b.damage,attackSpeed:b.attackSpeed,size:b.size})}return a},na=(r,n=50)=>r.length<=n?r:r.slice(r.length-n),j2=(r,n)=>{const o=r.animals.owned.some(m=>{if(!m.alive)return!1;const c=n.find(h=>h.id===m.configId);if(!c)return!1;const a=fo(c,m.size);return m.stamina>=a}),t=Object.values(r.inventory.ammo).some(m=>m>0);return o||t},Hu=(r,n,o,t=13)=>{var p;const m=o.chests.bauli;if(!Array.isArray(m)||m.length===0)return null;const c=m.reduce((b,v)=>b+(typeof v.peso_baule=="number"?v.peso_baule:0),0);if(c<=0)return null;const h=qn(r,n,t).nextFloat()*c;let s=0;for(const b of m)if(s+=b.peso_baule??0,h<=s)return b.id??null;return((p=m.at(-1))==null?void 0:p.id)??null},Mr=By()(Zx((r,n)=>({status:"idle",onlineStatus:"unknown",error:null,configs:null,slots:[],activeSlotId:null,save:null,pendingReward:null,battleResult:null,weaponsPhaseLocked:!1,currentDuel:null,setOnlineStatus:o=>{r({onlineStatus:o})},resetBattleResult:()=>{r({battleResult:null})},clearCurrentDuel:()=>{r({currentDuel:null})},bootstrap:async()=>{if(n().status!=="loading"){r(o=>{o.status="loading",o.error=null});try{Zw();const[o,t,m,c,a]=await Promise.all([ww(),jw(),kw(),_w(),Sw()]),h={animals:o,weapons:t,lootTables:Mw(m),chests:c,house:b2(a),medals:xa};let s=zr(),p=wa(),b=p?es(p):null;if(!b||!p){const v=`slot-${Date.now()}`,i=td(h.weapons),f=rd(h.house);b=Pp(v,i,f),b.animals=Np(h.animals),b=bo(b,h);const u={id:v,name:"Nuovo salvataggio",createdAt:b.meta.createdAt,updatedAt:b.meta.updatedAt};s=[...s,u],Po(s),ca(v),Or(b),p=v}else{const v=ra(b);b=bo(v,h)}r({status:"ready",configs:h,slots:s,activeSlotId:p,save:b,pendingReward:null,battleResult:null,weaponsPhaseLocked:!1,currentDuel:null})}catch(o){r({status:"error",error:o instanceof Error?o.message:String(o)})}}},refreshSlots:()=>{r({slots:zr()})},createSlot:async o=>{const t=n().configs,m=t??await c2(n);if(!m){console.warn("Cannot create save slot: configs not ready");return}try{t||Ci("createSlot waited for configs");const c=`slot-${Date.now()}`,a=o!=null&&o.trim()?o.trim():"Salvataggio";Ci("createSlot generating template",{slotId:c,slotName:a});const h=td(m.weapons),s=rd(m.house);let p=Pp(c,h,s);p.animals=Np(m.animals),p=bo(p,m),Or(p);const b=[...zr(),{id:c,name:a,createdAt:p.meta.createdAt,updatedAt:p.meta.updatedAt}];Po(b),ca(c),r({slots:b,activeSlotId:c,save:p,error:null,currentDuel:null}),Ci("createSlot completed",{slotId:c,slotName:a})}catch(c){console.error("Failed to create save slot",c),r(a=>{a.error=c instanceof Error?c.message:String(c)})}},duplicateSlot:o=>{const{configs:t}=n();if(!t)return;const m=es(o);if(!m)return;const c=ra(m),a=bo(c,t),h=`slot-${Date.now()}`,s=new Date().toISOString(),p=zr(),b=p.find(y=>y.id===o),v=b?`${b.name} (Copia)`:"Salvataggio (Copia)";let i=v,f=2;for(;p.some(y=>y.name.toLowerCase()===i.toLowerCase());)i=`${v} ${f}`,f+=1;const u={...a,meta:{...a.meta,slotId:h,createdAt:s,updatedAt:s,rngSeed:Math.floor(Math.random()*4294967295)}},g=[...p,{id:h,name:i,createdAt:s,updatedAt:s}];Po(g),Or(u),ca(h),r({slots:g,activeSlotId:h,save:u,currentDuel:null})},loadSlot:async o=>{const{configs:t}=n();if(!t)return;const m=es(o);if(!m)return;const c=ra(m),a=bo(c,t);ca(o),r({activeSlotId:o,save:a,pendingReward:null,weaponsPhaseLocked:!1,battleResult:null,currentDuel:null})},renameSlot:(o,t)=>{Qw(o,t),r({slots:zr()})},deleteSlot:o=>{const{configs:t}=n();Kw(o);const m=wa(),c=zr();let a=null;if(m&&t){const h=es(m);if(h){const s=ra(h);a=bo(s,t)}}r({slots:c,activeSlotId:m,save:a,currentDuel:null})},exportSavesSnapshot:()=>t2(),importSavesFromJson:o=>{const t=r2(o);n2(t);const m=zr(),c=wa(),{configs:a}=n();let h=null;if(a&&c){const s=es(c);if(s){const p=ra(s);h=bo(p,a)}}r({slots:m,activeSlotId:c,save:h}),Ci("importSavesFromJson completed",{slotCount:m.length,activeSlotId:c})},drawLobbyDoors:()=>{const{save:o}=n();if(!o)return[];const t=Ti(o.progress.blockedDoors),m=ua(Cn,t),c=new Zc(Jc(o.meta.rngSeed,o.progress.turn+1)),a=[...m],h=[],s=Math.min(3,a.length);for(let b=0;b<s;b+=1){const v=c.nextInt(0,a.length-1);h.push(a.splice(v,1)[0])}const p={...o,progress:{...o.progress,blockedDoors:t,availablePool:m,lastLobbyDraw:h},battleState:Vn};return Or(p),r({save:p,pendingReward:null,weaponsPhaseLocked:!1}),h},openDoor:o=>{const{save:t,configs:m}=n();if(!t||!m)return null;const c=w2(t,o,m.animals);if(c.length>0&&!j2(t,m.animals)){const p=Gu(t.animals.owned,m.animals,5),b={...t,animals:{...t.animals,owned:p},battleState:Vn,doorHistory:na([...t.doorHistory,{type:o,result:"defeat",timestamp:new Date().toISOString()}])};return Or(b),r({save:b,pendingReward:null,weaponsPhaseLocked:!1,battleResult:"defeat"}),null}const a=c.length?{active:!0,door:{type:o,enemies:c,index:0},usedWeapons:[],fallenAnimals:[],weaponsLocked:!1}:Vn;let h={...t,battleState:a},s=null;if(c.length)h={...h,animals:{...h.animals,bestiarySeen:Array.from(new Set([...h.animals.bestiarySeen,...c.map(p=>p.configId)]))}},Or(h);else{const p=qn(t,o,7),b=Uu(o,m.lootTables,p),v={...t.inventory,ammo:{...t.inventory.ammo}};if(b)if(b.type in v.ammo){const w=b.type;v.ammo[w]+=b.qty}else b.type==="coins"?v.coins+=b.qty:b.type==="food"?v.food+=b.qty:b.type==="armor"?v.armors=[...v.armors,{id:`armor-${Date.now()}`,tier:1,durability:Math.max(5,b.qty*5)}]:b.type==="specialItem"&&(v.specialItems=[...v.specialItems,`item-${Date.now()}`]);const i=Ti(t.progress.blockedDoors),f=qn(t,o,11),u=Bu(o,i,f),g=ua(Cn,u),{objects:y,triggers:d}=zu(t.house.objects);h=Vu({...h,progress:{doorsOpened:t.progress.doorsOpened+1,turn:t.progress.turn+1,blockedDoors:u,availablePool:g,lastLobbyDraw:[]},inventory:v,house:{objects:y},doorHistory:na([...t.doorHistory,{type:o,result:"reward",loot:b,timestamp:new Date().toISOString()}])},d);const l=Hu(t,o,m,13);if(l&&l!=="none"){const w=l;h={...h,chests:{...h.chests,inventory:{...h.chests.inventory,[w]:(h.chests.inventory[w]??0)+1}}},s={doorType:o,loot:b,weaponsUsed:[],fallenAnimals:[],chestRarity:w}}else s={doorType:o,loot:b,weaponsUsed:[],fallenAnimals:[]};Or(h)}return r({save:h,pendingReward:s,weaponsPhaseLocked:!1,battleResult:c.length?null:"victory"}),c.length?{enemies:c,type:o}:null},resolveWeaponAttack:(o,t)=>{const{save:m,configs:c}=n();if(!m||!c||!m.battleState.active||!m.battleState.door)return;const a=c.weapons.find(l=>l.name===o);if(!a)return;const h=hs(o),s=m.inventory.ammo[h],p=Math.max(0,Math.min(t,s,a.maxAmmo));if(p<=0)return;const b=m.battleState.door.enemies[m.battleState.door.index],v=i2(b,{damagePerShot:a.damagePerShot},p),i={...b,life:v.enemyLifeLeft},f=[...m.battleState.door.enemies];f[m.battleState.door.index]=i;const u={...m.inventory,ammo:{...m.inventory.ammo,[h]:s-v.ammoSpent}};let g=null,y=m.battleState,d=m;if(v.defeated){const l=m.battleState.door.index+1;if(l>=f.length){const w=m.battleState.door.type,x=qn(m,w,17),_=Uu(w,c.lootTables,x);let T={...u};if(_)if(_.type in T.ammo){const B=_.type;T.ammo[B]+=_.qty}else _.type==="coins"?T.coins+=_.qty:_.type==="food"&&(T.food+=_.qty);const E=Ti(m.progress.blockedDoors),S=qn(m,w,23),P=Bu(w,E,S),N=ua(Cn,P),{objects:C,triggers:I}=zu(m.house.objects);d=Vu({...m,inventory:T,progress:{doorsOpened:m.progress.doorsOpened+1,turn:m.progress.turn+1,blockedDoors:P,availablePool:N,lastLobbyDraw:[]},house:{objects:C},battleState:Vn,doorHistory:na([...m.doorHistory,{type:w,result:"victory",loot:_,timestamp:new Date().toISOString()}])},I),g="victory";const L=Hu(m,w,c,21);let F=null;L&&L!=="none"&&(F=L,d={...d,chests:{...d.chests,inventory:{...d.chests.inventory,[F]:(d.chests.inventory[F]??0)+1}}});const D=[...m.battleState.usedWeapons,{name:o,shots:v.ammoSpent}];r({pendingReward:{doorType:w,loot:_,weaponsUsed:D,fallenAnimals:m.battleState.fallenAnimals,chestRarity:F}})}else y={...m.battleState,door:{...m.battleState.door,enemies:f,index:l},usedWeapons:[...m.battleState.usedWeapons,{name:o,shots:v.ammoSpent}]}}else y={...m.battleState,door:{...m.battleState.door,enemies:f},usedWeapons:[...m.battleState.usedWeapons,{name:o,shots:v.ammoSpent}],weaponsLocked:!1},d={...m,inventory:u};d===m?d={...m,inventory:u,battleState:y}:d={...d,battleState:g?Vn:y},Or(d),r({save:d,weaponsPhaseLocked:!1,battleResult:g})},resolveAnimalDuel:o=>{const{save:t,configs:m}=n();if(!t||!m||!t.battleState.active||!t.battleState.door)return;const c=t.animals.owned[o];if(!c||!c.alive)return;const a=m.animals.find(E=>E.id===c.configId);if(!a)return;const h=fo(a,c.size);if(c.stamina<h)return;const s=t.battleState.door.enemies[t.battleState.door.index],p=Zl(a,c),b=p.life,v=s.life,i=t.battleState.door.index,f=l2({life:p.life,damage:p.damage,attackSpeed:p.attackSpeed,armor:c.armor},s),u=[...t.animals.owned];u[o]={...c,life:Math.min(p.lifeCap,f.playerLifeLeft),alive:f.playerLifeLeft>0,stamina:0};const g=[...t.battleState.door.enemies];g[t.battleState.door.index]={...s,life:f.enemyLifeLeft};const d=f.playerLifeLeft<=0?[...t.battleState.fallenAnimals,{configId:c.configId}]:t.battleState.fallenAnimals,l={playerAnimalIndex:o,playerConfigId:c.configId,enemyIndex:i,enemyConfigId:s.configId,playerSize:c.size,enemySize:s.size,playerLifeStart:b,enemyLifeStart:v,playerLifeEnd:Math.max(0,f.playerLifeLeft),enemyLifeEnd:Math.max(0,f.enemyLifeLeft),winner:f.winner,log:f.log};let w=t,x=null,_=null,T=t.battleState;if(f.enemyLifeLeft<=0){const E=t.battleState.door.index+1;if(E>=g.length){const S=t.battleState.door.type,P=qn(t,S,29),N=Uu(S,m.lootTables,P),C={...t.inventory,ammo:{...t.inventory.ammo}};let I=N,L=null,F={...t.medals,entries:{...t.medals.entries}};if(N&&wl(N.type)){const z=jl(N.type);if(F.entries[z].unlocked)I=null;else{const Z=new Date().toISOString();F={...F,entries:{...F.entries,[z]:{unlocked:!0,unlockedAt:Z,highlightUntil:Z}},highlighted:z},L=z}}else if(N)if(N.type in C.ammo){const z=N.type;C.ammo[z]+=N.qty}else N.type==="coins"?C.coins+=N.qty:N.type==="food"&&(C.food+=N.qty);const D=Ti(t.progress.blockedDoors),B=qn(t,S,31),$=Bu(S,D,B),V=ua(Cn,$),{objects:H,triggers:X}=zu(t.house.objects),Q=Gu(u,m.animals,5),se={...t,inventory:C,animals:{...t.animals,owned:Q},progress:{doorsOpened:t.progress.doorsOpened+1,turn:t.progress.turn+1,blockedDoors:$,availablePool:V,lastLobbyDraw:[]},house:{objects:H},battleState:Vn,doorHistory:na([...t.doorHistory,{type:S,result:"victory",loot:I,timestamp:new Date().toISOString()}]),medals:F};w=Vu(se,X);const M=Hu(t,S,m,33);let R=null;M&&M!=="none"&&(R=M,w={...w,chests:{...w.chests,inventory:{...w.chests.inventory,[R]:(w.chests.inventory[R]??0)+1}}}),_={doorType:S,loot:I,weaponsUsed:t.battleState.usedWeapons,fallenAnimals:d,medalUnlocked:L,chestRarity:R},x="victory"}else T={...t.battleState,door:{...t.battleState.door,enemies:g,index:E},fallenAnimals:d},w={...t,animals:{...t.animals,owned:u},battleState:T}}else{const E=u.filter(P=>P.alive),S=Object.values(t.inventory.ammo).some(P=>P>0);if(!E.length&&!S){const P=Gu(u,m.animals,5);w={...t,animals:{...t.animals,owned:P},battleState:Vn,doorHistory:na([...t.doorHistory,{type:t.battleState.door.type,result:"defeat",timestamp:new Date().toISOString()}])},x="defeat"}else T={...t.battleState,door:{...t.battleState.door,enemies:g},fallenAnimals:d},w={...t,animals:{...t.animals,owned:u},battleState:T}}Or(w),r({save:w,battleResult:x,pendingReward:_??n().pendingReward,currentDuel:l})},feedAnimal:o=>{const{save:t,configs:m}=n();if(!t||!m)return;const c=t.animals.owned[o];if(!c||!c.alive)return;const a=m.animals.find(f=>f.id===c.configId);if(!a)return;const h=fo(a,c.size),s=Math.max(0,h-c.stamina);if(s<=0)return;const p=t.inventory.food;if(p<=0)return;const b=Math.min(s,p);if(b<=0)return;const v=[...t.animals.owned];v[o]={...c,stamina:Math.min(h,c.stamina+b)};const i={...t,inventory:{...t.inventory,food:p-b},animals:{...t.animals,owned:v}};Or(i),r({save:i})},growAnimal:o=>{const{save:t,configs:m}=n();if(!t||!m)return;const c=t.animals.owned[o];if(!c||!c.alive||c.size==="Adult")return;const a=m.animals.find(v=>v.id===c.configId);if(!a)return;const h=Math.max(0,Math.round(a.growthFoodCost));if(t.inventory.food<h)return;const s=Vw(c,a),p=[...t.animals.owned];p[o]=s;const b={...t,inventory:{...t.inventory,food:t.inventory.food-h},animals:{...t.animals,owned:p}};Or(b),r({save:b})},openChest:o=>{const{save:t,configs:m}=n();if(!t||!m)return null;const c=t.chests.inventory[o]??0;if(c<=0)return null;const a=Jc(t.meta.rngSeed,Date.now()),h=new Zc(a);let s=y2(m.chests,o,h),p={...t.medals,entries:{...t.medals.entries}},b=null;const v={...t.inventory,ammo:{...t.inventory.ammo},armors:[...t.inventory.armors],specialItems:[...t.inventory.specialItems]};if(s&&wl(s.type)){const u=jl(s.type);if(p.entries[u].unlocked)s=null;else{const y=new Date().toISOString();p={...p,entries:{...p.entries,[u]:{unlocked:!0,unlockedAt:y,highlightUntil:y}},highlighted:u},b=u}}if(s)if(s.type in v.ammo){const u=s.type;v.ammo[u]+=s.qty}else s.type==="coins"?v.coins+=s.qty:s.type==="food"?v.food+=s.qty:s.type==="armor"?v.armors=[...v.armors,{id:`armor-${Date.now()}`,tier:1,durability:100}]:s.type==="specialItem"&&(v.specialItems=[...v.specialItems,"Ricompensa Baule"]);const i={rarity:Iw(o).name,time:new Date().toISOString(),loot:s},f={...t,inventory:v,chests:{unlockedHistory:[...t.chests.unlockedHistory,i],inventory:{...t.chests.inventory,[o]:Math.max(c-1,0)}},medals:p};return Or(f),r({save:f}),{loot:s,medalUnlocked:b}},acknowledgeMedalHighlight:()=>{const{save:o}=n();if(!o||!o.medals.highlighted)return;const t={...o,medals:{...o.medals,highlighted:null}};Or(t),r({save:t})},collectReward:()=>{const{pendingReward:o}=n();o&&r({pendingReward:null,battleResult:null,currentDuel:null})}}))),_2=(r,n,o,t)=>{var c,a,h,s;const m=[o,{code:n,...t||{}}];if((a=(c=r==null?void 0:r.services)==null?void 0:c.logger)!=null&&a.forward)return r.services.logger.forward(m,"warn","react-i18next::",!0);Lo(m[0])&&(m[0]=`react-i18next:: ${m[0]}`),(s=(h=r==null?void 0:r.services)==null?void 0:h.logger)!=null&&s.warn?r.services.logger.warn(...m):console!=null&&console.warn&&console.warn(...m)},Ap={},nd=(r,n,o,t)=>{Lo(o)&&Ap[o]||(Lo(o)&&(Ap[o]=new Date),_2(r,n,o,t))},$y=(r,n)=>()=>{if(r.isInitialized)n();else{const o=()=>{setTimeout(()=>{r.off("initialized",o)},0),n()};r.on("initialized",o)}},od=(r,n,o)=>{r.loadNamespaces(n,$y(r,o))},Rp=(r,n,o,t)=>{if(Lo(o)&&(o=[o]),r.options.preload&&r.options.preload.indexOf(n)>-1)return od(r,o,t);o.forEach(m=>{r.options.ns.indexOf(m)<0&&r.options.ns.push(m)}),r.loadLanguages(n,$y(r,t))},S2=(r,n,o={})=>!n.languages||!n.languages.length?(nd(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(r,{lng:o.lng,precheck:(t,m)=>{if(o.bindI18n&&o.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!m(t.isLanguageChangingTo,r))return!1}}),Lo=r=>typeof r=="string",k2=r=>typeof r=="object"&&r!==null,E2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,T2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},M2=r=>T2[r],C2=r=>r.replace(E2,M2);let sd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:C2};const O2=(r={})=>{sd={...sd,...r}},P2=()=>sd;let Yy;const L2=r=>{Yy=r},N2=()=>Yy,A2={type:"3rdParty",init(r){O2(r.options.react),L2(r)}},R2=Ne.createContext();class I2{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(o=>{this.usedNamespaces[o]||(this.usedNamespaces[o]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const D2=(r,n)=>{const o=Ne.useRef();return Ne.useEffect(()=>{o.current=r},[r,n]),o.current},Xy=(r,n,o,t)=>r.getFixedT(n,o,t),F2=(r,n,o,t)=>Ne.useCallback(Xy(r,n,o,t),[r,n,o,t]),yf=(r,n={})=>{var x,_,T,E;const{i18n:o}=n,{i18n:t,defaultNS:m}=Ne.useContext(R2)||{},c=o||t||N2();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new I2),!c){nd(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const S=(N,C)=>Lo(C)?C:k2(C)&&Lo(C.defaultValue)?C.defaultValue:Array.isArray(N)?N[N.length-1]:N,P=[S,{},!1];return P.t=S,P.i18n={},P.ready=!1,P}(x=c.options.react)!=null&&x.wait&&nd(c,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...P2(),...c.options.react,...n},{useSuspense:h,keyPrefix:s}=a;let p=m||((_=c.options)==null?void 0:_.defaultNS);p=Lo(p)?[p]:p||["translation"],(E=(T=c.reportNamespaces).addUsedNamespaces)==null||E.call(T,p);const b=(c.isInitialized||c.initializedStoreOnce)&&p.every(S=>S2(S,c,a)),v=F2(c,n.lng||null,a.nsMode==="fallback"?p:p[0],s),i=()=>v,f=()=>Xy(c,n.lng||null,a.nsMode==="fallback"?p:p[0],s),[u,g]=Ne.useState(i);let y=p.join();n.lng&&(y=`${n.lng}${y}`);const d=D2(y),l=Ne.useRef(!0);Ne.useEffect(()=>{const{bindI18n:S,bindI18nStore:P}=a;l.current=!0,!b&&!h&&(n.lng?Rp(c,n.lng,p,()=>{l.current&&g(f)}):od(c,p,()=>{l.current&&g(f)})),b&&d&&d!==y&&l.current&&g(f);const N=()=>{l.current&&g(f)};return S&&(c==null||c.on(S,N)),P&&(c==null||c.store.on(P,N)),()=>{l.current=!1,c&&S&&(S==null||S.split(" ").forEach(C=>c.off(C,N))),P&&c&&P.split(" ").forEach(C=>c.store.off(C,N))}},[c,y]),Ne.useEffect(()=>{l.current&&b&&g(i)},[c,s,b]);const w=[u,c,b];if(w.t=u,w.i18n=c,w.ready=b,b||!b&&!h)return w;throw new Promise(S=>{n.lng?Rp(c,n.lng,p,()=>S()):od(c,p,()=>S())})},U2=()=>{const{t:r}=yf(),n=Fs(),[o,t]=Ne.useState(!1),{status:m,slots:c,createSlot:a}=Mr(s=>({status:s.status,slots:s.slots,createSlot:s.createSlot})),h=Ne.useCallback(async s=>{if(s.preventDefault(),!o){t(!0);try{c.length||await a(),n("/lobby")}catch(p){console.error("Unable to start demo",p)}finally{t(!1)}}},[a,o,n,c.length]);return G.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[G.jsxs("div",{className:"absolute inset-0 -z-10",children:[G.jsx("div",{className:"absolute inset-0 bg-[url('/assets/lobby/sfondo_lobby.png')] bg-cover bg-center blur"}),G.jsx("div",{className:"absolute inset-0 bg-black/70"})]}),G.jsxs("div",{className:"relative z-10 mx-auto flex min-h-screen w-full max-w-[960px] flex-col items-center justify-center gap-12 px-6 py-12 text-center",children:[G.jsxs("div",{children:[G.jsx("p",{className:"text-sm uppercase tracking-[0.4em] text-white/60",children:m==="loading"?"Caricamento dati...":"Benvenuto"}),G.jsx("img",{src:"/assets/logo/logo.png",alt:"Titolo del gioco",className:"mt-2 w-60 h-auto drop-shadow-lg"})]}),G.jsxs("nav",{className:"flex w-full max-w-xs flex-col gap-4",children:[G.jsx(Wr,{to:"/lobby",onClick:h,className:"rounded-full border border-[#a67c52] bg-[#a67c52] px-6 py-3 text-lg font-semibold uppercase tracking-widest text-white transition hover:-translate-y-1 hover:bg-[#8b5e34] hover:border-[#8b5e34]",children:r("menu.play")}),G.jsx(Wr,{to:"/saves",className:"rounded-full border border-white/30 px-6 py-3 text-lg font-semibold uppercase tracking-widest transition hover:-translate-y-1 hover:border-[#a67c52] hover:text-[#a67c52]",children:r("menu.saves")}),G.jsx("br",{}),G.jsx(Wr,{to:"/settings",className:"rounded-full border border-white/30 px-6 py-3 text-lg font-semibold uppercase tracking-widest transition hover:-translate-y-1 hover:border-[#a67c52] hover:text-[#a67c52]",children:r("menu.settings")}),G.jsx(Wr,{to:"/credits",className:"rounded-full border border-white/30 px-6 py-3 text-lg font-semibold uppercase tracking-widest transition hover:-translate-y-1 hover:border-[#a67c52] hover:text-[#a67c52]",children:r("menu.credits")})]})]})]})},B2={};function z2(r,n){let o;try{o=r()}catch{return}return{getItem:m=>{var c;const a=s=>s===null?null:JSON.parse(s,void 0),h=(c=o.getItem(m))!=null?c:null;return h instanceof Promise?h.then(a):a(h)},setItem:(m,c)=>o.setItem(m,JSON.stringify(c,void 0)),removeItem:m=>o.removeItem(m)}}const qa=r=>n=>{try{const o=r(n);return o instanceof Promise?o:{then(t){return qa(t)(o)},catch(t){return this}}}catch(o){return{then(t){return this},catch(t){return qa(t)(o)}}}},G2=(r,n)=>(o,t,m)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,d)=>({...d,...y}),...n},a=!1;const h=new Set,s=new Set;let p;try{p=c.getStorage()}catch{}if(!p)return r((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),o(...y)},t,m);const b=qa(c.serialize),v=()=>{const y=c.partialize({...t()});let d;const l=b({state:y,version:c.version}).then(w=>p.setItem(c.name,w)).catch(w=>{d=w});if(d)throw d;return l},i=m.setState;m.setState=(y,d)=>{i(y,d),v()};const f=r((...y)=>{o(...y),v()},t,m);let u;const g=()=>{var y;if(!p)return;a=!1,h.forEach(l=>l(t()));const d=((y=c.onRehydrateStorage)==null?void 0:y.call(c,t()))||void 0;return qa(p.getItem.bind(p))(c.name).then(l=>{if(l)return c.deserialize(l)}).then(l=>{if(l)if(typeof l.version=="number"&&l.version!==c.version){if(c.migrate)return c.migrate(l.state,l.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return l.state}).then(l=>{var w;return u=c.merge(l,(w=t())!=null?w:f),o(u,!0),v()}).then(()=>{d==null||d(u,void 0),a=!0,s.forEach(l=>l(u))}).catch(l=>{d==null||d(void 0,l)})};return m.persist={setOptions:y=>{c={...c,...y},y.getStorage&&(p=y.getStorage())},clearStorage:()=>{p==null||p.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>g(),hasHydrated:()=>a,onHydrate:y=>(h.add(y),()=>{h.delete(y)}),onFinishHydration:y=>(s.add(y),()=>{s.delete(y)})},g(),u||f},V2=(r,n)=>(o,t,m)=>{let c={storage:z2(()=>localStorage),partialize:g=>g,version:0,merge:(g,y)=>({...y,...g}),...n},a=!1;const h=new Set,s=new Set;let p=c.storage;if(!p)return r((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),o(...g)},t,m);const b=()=>{const g=c.partialize({...t()});return p.setItem(c.name,{state:g,version:c.version})},v=m.setState;m.setState=(g,y)=>{v(g,y),b()};const i=r((...g)=>{o(...g),b()},t,m);m.getInitialState=()=>i;let f;const u=()=>{var g,y;if(!p)return;a=!1,h.forEach(l=>{var w;return l((w=t())!=null?w:i)});const d=((y=c.onRehydrateStorage)==null?void 0:y.call(c,(g=t())!=null?g:i))||void 0;return qa(p.getItem.bind(p))(c.name).then(l=>{if(l)if(typeof l.version=="number"&&l.version!==c.version){if(c.migrate)return[!0,c.migrate(l.state,l.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,l.state];return[!1,void 0]}).then(l=>{var w;const[x,_]=l;if(f=c.merge(_,(w=t())!=null?w:i),o(f,!0),x)return b()}).then(()=>{d==null||d(f,void 0),f=t(),a=!0,s.forEach(l=>l(f))}).catch(l=>{d==null||d(void 0,l)})};return m.persist={setOptions:g=>{c={...c,...g},g.storage&&(p=g.storage)},clearStorage:()=>{p==null||p.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>u(),hasHydrated:()=>a,onHydrate:g=>(h.add(g),()=>{h.delete(g)}),onFinishHydration:g=>(s.add(g),()=>{s.delete(g)})},c.skipHydration||u(),f||i},H2=(r,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((B2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),G2(r,n)):V2(r,n),W2=H2,q2={language:"it",audio:{sfx:70,music:60},ui:{reducedMotion:!0},setLanguage:()=>{},setAudio:()=>{},toggleReducedMotion:()=>{}},Ky=By()(W2(r=>({...q2,setLanguage:n=>r(o=>({language:n,audio:o.audio,ui:o.ui})),setAudio:n=>r(o=>({audio:{...o.audio,...n}})),toggleReducedMotion:()=>r(n=>({ui:{...n.ui,reducedMotion:!n.ui.reducedMotion}}))}),{name:"gc:settings"})),$2=[{value:"it",label:"Italiano"},{value:"en",label:"English"}],Y2=()=>{const{t:r,i18n:n}=yf(),{language:o,audio:t,ui:m,setLanguage:c,setAudio:a,toggleReducedMotion:h}=Ky(),s=p=>{const b=p.target.value;c(b),n.changeLanguage(b)};return G.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[G.jsxs("div",{className:"absolute inset-0 -z-10",children:[G.jsx("div",{className:"absolute inset-0 bg-[url('/assets/lobby/sfondo_lobby.png')] bg-cover bg-center blur"}),G.jsx("div",{className:"absolute inset-0 bg-black/70"})]}),G.jsxs("div",{className:"relative z-10 mx-auto flex min-h-screen w-full max-w-3xl flex-col gap-8 px-6 py-12",children:[G.jsxs("header",{className:"flex items-center justify-between gap-4",children:[G.jsx("h2",{className:"text-3xl font-display uppercase tracking-[0.4em]",children:r("settings.title")}),G.jsx(Wr,{to:"/",className:"rounded-full border border-white/30 px-4 py-2 text-sm uppercase tracking-widest transition hover:border-[#a67c52] hover:text-[#a67c52]",children:r("settings.back")})]}),G.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/10 p-5 backdrop-blur-sm transition hover:bg-white/20",children:[G.jsx("h3",{className:"text-sm uppercase tracking-[0.4em] text-white/60",children:"Audio"}),G.jsxs("div",{className:"mt-4 space-y-3",children:[G.jsxs("label",{className:"flex items-center justify-between gap-4 text-sm text-white/80",children:[G.jsx("span",{children:"SFX"}),G.jsx("input",{type:"range",min:0,max:100,value:t.sfx,onChange:p=>a({sfx:Number(p.target.value)}),className:"w-64 accent-[#a67c52]"})]}),G.jsxs("label",{className:"flex items-center justify-between gap-4 text-sm text-white/80",children:[G.jsx("span",{children:"Musica"}),G.jsx("input",{type:"range",min:0,max:100,value:t.music,onChange:p=>a({music:Number(p.target.value)}),className:"w-64 accent-[#a67c52]"})]})]})]}),G.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/10 p-5 backdrop-blur-sm transition hover:bg-white/20",children:[G.jsx("h3",{className:"text-sm uppercase tracking-[0.4em] text-white/60",children:"Lingua"}),G.jsx("select",{value:o,onChange:s,className:"mt-4 w-full rounded-lg border border-white/20 bg-black/60 px-4 py-2 text-white focus:border-[#a67c52] focus:outline-none",children:$2.map(p=>G.jsx("option",{value:p.value,className:"bg-background text-white",children:p.label},p.value))})]}),G.jsxs("section",{className:"rounded-2xl border border-white/10 bg-white/10 p-5 backdrop-blur-sm transition hover:bg-white/20",children:[G.jsx("h3",{className:"text-sm uppercase tracking-[0.4em] text-white/60",children:"Accessibilità"}),G.jsxs("label",{className:"mt-3 flex items-center justify-between text-sm text-white/80",children:[G.jsx("span",{children:"Riduci animazioni"}),G.jsx("input",{type:"checkbox",checked:m.reducedMotion,onChange:h,disabled:!0,className:"h-5 w-5 accent-[#a67c52]"})]})]})]})]})};function ln(r){const n=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&n==="[object Date]"?new r.constructor(+r):typeof r=="number"||n==="[object Number]"||typeof r=="string"||n==="[object String]"?new Date(r):new Date(NaN)}function Bo(r,n){return r instanceof Date?new r.constructor(n):new Date(n)}const Qy=6048e5,X2=864e5;let K2={};function eu(){return K2}function zo(r,n){var h,s,p,b;const o=eu(),t=(n==null?void 0:n.weekStartsOn)??((s=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:s.weekStartsOn)??o.weekStartsOn??((b=(p=o.locale)==null?void 0:p.options)==null?void 0:b.weekStartsOn)??0,m=ln(r),c=m.getDay(),a=(c<t?7:0)+c-t;return m.setDate(m.getDate()-a),m.setHours(0,0,0,0),m}function _l(r){return zo(r,{weekStartsOn:1})}function Zy(r){const n=ln(r),o=n.getFullYear(),t=Bo(r,0);t.setFullYear(o+1,0,4),t.setHours(0,0,0,0);const m=_l(t),c=Bo(r,0);c.setFullYear(o,0,4),c.setHours(0,0,0,0);const a=_l(c);return n.getTime()>=m.getTime()?o+1:n.getTime()>=a.getTime()?o:o-1}function Ip(r){const n=ln(r);return n.setHours(0,0,0,0),n}function Dp(r){const n=ln(r),o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),+r-+o}function Q2(r,n){const o=Ip(r),t=Ip(n),m=+o-Dp(o),c=+t-Dp(t);return Math.round((m-c)/X2)}function Z2(r){const n=Zy(r),o=Bo(r,0);return o.setFullYear(n,0,4),o.setHours(0,0,0,0),_l(o)}function J2(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function ej(r){if(!J2(r)&&typeof r!="number")return!1;const n=ln(r);return!isNaN(Number(n))}function tj(r){const n=ln(r),o=Bo(r,0);return o.setFullYear(n.getFullYear(),0,1),o.setHours(0,0,0,0),o}const rj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nj=(r,n,o)=>{let t;const m=rj[r];return typeof m=="string"?t=m:n===1?t=m.one:t=m.other.replace("{{count}}",n.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+t:t+" ago":t};function ws(r){return(n={})=>{const o=n.width?String(n.width):r.defaultWidth;return r.formats[o]||r.formats[r.defaultWidth]}}const oj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ij={date:ws({formats:oj,defaultWidth:"full"}),time:ws({formats:sj,defaultWidth:"full"}),dateTime:ws({formats:aj,defaultWidth:"full"})},lj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uj=(r,n,o,t)=>lj[r];function gn(r){return(n,o)=>{const t=o!=null&&o.context?String(o.context):"standalone";let m;if(t==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,h=o!=null&&o.width?String(o.width):a;m=r.formattingValues[h]||r.formattingValues[a]}else{const a=r.defaultWidth,h=o!=null&&o.width?String(o.width):r.defaultWidth;m=r.values[h]||r.values[a]}const c=r.argumentCallback?r.argumentCallback(n):n;return m[c]}}const cj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gj=(r,n)=>{const o=Number(r),t=o%100;if(t>20||t<10)switch(t%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},yj={ordinalNumber:gj,era:gn({values:cj,defaultWidth:"wide"}),quarter:gn({values:dj,defaultWidth:"wide",argumentCallback:r=>r-1}),month:gn({values:fj,defaultWidth:"wide"}),day:gn({values:hj,defaultWidth:"wide"}),dayPeriod:gn({values:pj,defaultWidth:"wide",formattingValues:mj,defaultFormattingWidth:"wide"})};function yn(r){return(n,o={})=>{const t=o.width,m=t&&r.matchPatterns[t]||r.matchPatterns[r.defaultMatchWidth],c=n.match(m);if(!c)return null;const a=c[0],h=t&&r.parsePatterns[t]||r.parsePatterns[r.defaultParseWidth],s=Array.isArray(h)?bj(h,v=>v.test(a)):vj(h,v=>v.test(a));let p;p=r.valueCallback?r.valueCallback(s):s,p=o.valueCallback?o.valueCallback(p):p;const b=n.slice(a.length);return{value:p,rest:b}}}function vj(r,n){for(const o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&n(r[o]))return o}function bj(r,n){for(let o=0;o<r.length;o++)if(n(r[o]))return o}function Jy(r){return(n,o={})=>{const t=n.match(r.matchPattern);if(!t)return null;const m=t[0],c=n.match(r.parsePattern);if(!c)return null;let a=r.valueCallback?r.valueCallback(c[0]):c[0];a=o.valueCallback?o.valueCallback(a):a;const h=n.slice(m.length);return{value:a,rest:h}}}const xj=/^(\d+)(th|st|nd|rd)?/i,wj=/\d+/i,jj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_j={any:[/^b/i,/^(a|c)/i]},Sj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kj={any:[/1/i,/2/i,/3/i,/4/i]},Ej={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Oj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lj={ordinalNumber:Jy({matchPattern:xj,parsePattern:wj,valueCallback:r=>parseInt(r,10)}),era:yn({matchPatterns:jj,defaultMatchWidth:"wide",parsePatterns:_j,defaultParseWidth:"any"}),quarter:yn({matchPatterns:Sj,defaultMatchWidth:"wide",parsePatterns:kj,defaultParseWidth:"any",valueCallback:r=>r+1}),month:yn({matchPatterns:Ej,defaultMatchWidth:"wide",parsePatterns:Tj,defaultParseWidth:"any"}),day:yn({matchPatterns:Mj,defaultMatchWidth:"wide",parsePatterns:Cj,defaultParseWidth:"any"}),dayPeriod:yn({matchPatterns:Oj,defaultMatchWidth:"any",parsePatterns:Pj,defaultParseWidth:"any"})},ev={code:"en-US",formatDistance:nj,formatLong:ij,formatRelative:uj,localize:yj,match:Lj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nj(r){const n=ln(r);return Q2(n,tj(n))+1}function Aj(r){const n=ln(r),o=+_l(n)-+Z2(n);return Math.round(o/Qy)+1}function tv(r,n){var b,v,i,f;const o=ln(r),t=o.getFullYear(),m=eu(),c=(n==null?void 0:n.firstWeekContainsDate)??((v=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??m.firstWeekContainsDate??((f=(i=m.locale)==null?void 0:i.options)==null?void 0:f.firstWeekContainsDate)??1,a=Bo(r,0);a.setFullYear(t+1,0,c),a.setHours(0,0,0,0);const h=zo(a,n),s=Bo(r,0);s.setFullYear(t,0,c),s.setHours(0,0,0,0);const p=zo(s,n);return o.getTime()>=h.getTime()?t+1:o.getTime()>=p.getTime()?t:t-1}function Rj(r,n){var h,s,p,b;const o=eu(),t=(n==null?void 0:n.firstWeekContainsDate)??((s=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:s.firstWeekContainsDate)??o.firstWeekContainsDate??((b=(p=o.locale)==null?void 0:p.options)==null?void 0:b.firstWeekContainsDate)??1,m=tv(r,n),c=Bo(r,0);return c.setFullYear(m,0,t),c.setHours(0,0,0,0),zo(c,n)}function Ij(r,n){const o=ln(r),t=+zo(o,n)-+Rj(o,n);return Math.round(t/Qy)+1}function St(r,n){const o=r<0?"-":"",t=Math.abs(r).toString().padStart(n,"0");return o+t}const Bn={y(r,n){const o=r.getFullYear(),t=o>0?o:1-o;return St(n==="yy"?t%100:t,n.length)},M(r,n){const o=r.getMonth();return n==="M"?String(o+1):St(o+1,2)},d(r,n){return St(r.getDate(),n.length)},a(r,n){const o=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(r,n){return St(r.getHours()%12||12,n.length)},H(r,n){return St(r.getHours(),n.length)},m(r,n){return St(r.getMinutes(),n.length)},s(r,n){return St(r.getSeconds(),n.length)},S(r,n){const o=n.length,t=r.getMilliseconds(),m=Math.trunc(t*Math.pow(10,o-3));return St(m,n.length)}},Ko={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fp={G:function(r,n,o){const t=r.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return o.era(t,{width:"abbreviated"});case"GGGGG":return o.era(t,{width:"narrow"});case"GGGG":default:return o.era(t,{width:"wide"})}},y:function(r,n,o){if(n==="yo"){const t=r.getFullYear(),m=t>0?t:1-t;return o.ordinalNumber(m,{unit:"year"})}return Bn.y(r,n)},Y:function(r,n,o,t){const m=tv(r,t),c=m>0?m:1-m;if(n==="YY"){const a=c%100;return St(a,2)}return n==="Yo"?o.ordinalNumber(c,{unit:"year"}):St(c,n.length)},R:function(r,n){const o=Zy(r);return St(o,n.length)},u:function(r,n){const o=r.getFullYear();return St(o,n.length)},Q:function(r,n,o){const t=Math.ceil((r.getMonth()+1)/3);switch(n){case"Q":return String(t);case"QQ":return St(t,2);case"Qo":return o.ordinalNumber(t,{unit:"quarter"});case"QQQ":return o.quarter(t,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(t,{width:"wide",context:"formatting"})}},q:function(r,n,o){const t=Math.ceil((r.getMonth()+1)/3);switch(n){case"q":return String(t);case"qq":return St(t,2);case"qo":return o.ordinalNumber(t,{unit:"quarter"});case"qqq":return o.quarter(t,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(t,{width:"wide",context:"standalone"})}},M:function(r,n,o){const t=r.getMonth();switch(n){case"M":case"MM":return Bn.M(r,n);case"Mo":return o.ordinalNumber(t+1,{unit:"month"});case"MMM":return o.month(t,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(t,{width:"wide",context:"formatting"})}},L:function(r,n,o){const t=r.getMonth();switch(n){case"L":return String(t+1);case"LL":return St(t+1,2);case"Lo":return o.ordinalNumber(t+1,{unit:"month"});case"LLL":return o.month(t,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(t,{width:"wide",context:"standalone"})}},w:function(r,n,o,t){const m=Ij(r,t);return n==="wo"?o.ordinalNumber(m,{unit:"week"}):St(m,n.length)},I:function(r,n,o){const t=Aj(r);return n==="Io"?o.ordinalNumber(t,{unit:"week"}):St(t,n.length)},d:function(r,n,o){return n==="do"?o.ordinalNumber(r.getDate(),{unit:"date"}):Bn.d(r,n)},D:function(r,n,o){const t=Nj(r);return n==="Do"?o.ordinalNumber(t,{unit:"dayOfYear"}):St(t,n.length)},E:function(r,n,o){const t=r.getDay();switch(n){case"E":case"EE":case"EEE":return o.day(t,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(t,{width:"short",context:"formatting"});case"EEEE":default:return o.day(t,{width:"wide",context:"formatting"})}},e:function(r,n,o,t){const m=r.getDay(),c=(m-t.weekStartsOn+8)%7||7;switch(n){case"e":return String(c);case"ee":return St(c,2);case"eo":return o.ordinalNumber(c,{unit:"day"});case"eee":return o.day(m,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(m,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(m,{width:"short",context:"formatting"});case"eeee":default:return o.day(m,{width:"wide",context:"formatting"})}},c:function(r,n,o,t){const m=r.getDay(),c=(m-t.weekStartsOn+8)%7||7;switch(n){case"c":return String(c);case"cc":return St(c,n.length);case"co":return o.ordinalNumber(c,{unit:"day"});case"ccc":return o.day(m,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(m,{width:"narrow",context:"standalone"});case"cccccc":return o.day(m,{width:"short",context:"standalone"});case"cccc":default:return o.day(m,{width:"wide",context:"standalone"})}},i:function(r,n,o){const t=r.getDay(),m=t===0?7:t;switch(n){case"i":return String(m);case"ii":return St(m,n.length);case"io":return o.ordinalNumber(m,{unit:"day"});case"iii":return o.day(t,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(t,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(t,{width:"short",context:"formatting"});case"iiii":default:return o.day(t,{width:"wide",context:"formatting"})}},a:function(r,n,o){const m=r.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return o.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(m,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(m,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(m,{width:"wide",context:"formatting"})}},b:function(r,n,o){const t=r.getHours();let m;switch(t===12?m=Ko.noon:t===0?m=Ko.midnight:m=t/12>=1?"pm":"am",n){case"b":case"bb":return o.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(m,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(m,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(m,{width:"wide",context:"formatting"})}},B:function(r,n,o){const t=r.getHours();let m;switch(t>=17?m=Ko.evening:t>=12?m=Ko.afternoon:t>=4?m=Ko.morning:m=Ko.night,n){case"B":case"BB":case"BBB":return o.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(m,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(m,{width:"wide",context:"formatting"})}},h:function(r,n,o){if(n==="ho"){let t=r.getHours()%12;return t===0&&(t=12),o.ordinalNumber(t,{unit:"hour"})}return Bn.h(r,n)},H:function(r,n,o){return n==="Ho"?o.ordinalNumber(r.getHours(),{unit:"hour"}):Bn.H(r,n)},K:function(r,n,o){const t=r.getHours()%12;return n==="Ko"?o.ordinalNumber(t,{unit:"hour"}):St(t,n.length)},k:function(r,n,o){let t=r.getHours();return t===0&&(t=24),n==="ko"?o.ordinalNumber(t,{unit:"hour"}):St(t,n.length)},m:function(r,n,o){return n==="mo"?o.ordinalNumber(r.getMinutes(),{unit:"minute"}):Bn.m(r,n)},s:function(r,n,o){return n==="so"?o.ordinalNumber(r.getSeconds(),{unit:"second"}):Bn.s(r,n)},S:function(r,n){return Bn.S(r,n)},X:function(r,n,o){const t=r.getTimezoneOffset();if(t===0)return"Z";switch(n){case"X":return Bp(t);case"XXXX":case"XX":return _o(t);case"XXXXX":case"XXX":default:return _o(t,":")}},x:function(r,n,o){const t=r.getTimezoneOffset();switch(n){case"x":return Bp(t);case"xxxx":case"xx":return _o(t);case"xxxxx":case"xxx":default:return _o(t,":")}},O:function(r,n,o){const t=r.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Up(t,":");case"OOOO":default:return"GMT"+_o(t,":")}},z:function(r,n,o){const t=r.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Up(t,":");case"zzzz":default:return"GMT"+_o(t,":")}},t:function(r,n,o){const t=Math.trunc(r.getTime()/1e3);return St(t,n.length)},T:function(r,n,o){const t=r.getTime();return St(t,n.length)}};function Up(r,n=""){const o=r>0?"-":"+",t=Math.abs(r),m=Math.trunc(t/60),c=t%60;return c===0?o+String(m):o+String(m)+n+St(c,2)}function Bp(r,n){return r%60===0?(r>0?"-":"+")+St(Math.abs(r)/60,2):_o(r,n)}function _o(r,n=""){const o=r>0?"-":"+",t=Math.abs(r),m=St(Math.trunc(t/60),2),c=St(t%60,2);return o+m+n+c}const zp=(r,n)=>{switch(r){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},rv=(r,n)=>{switch(r){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Dj=(r,n)=>{const o=r.match(/(P+)(p+)?/)||[],t=o[1],m=o[2];if(!m)return zp(r,n);let c;switch(t){case"P":c=n.dateTime({width:"short"});break;case"PP":c=n.dateTime({width:"medium"});break;case"PPP":c=n.dateTime({width:"long"});break;case"PPPP":default:c=n.dateTime({width:"full"});break}return c.replace("{{date}}",zp(t,n)).replace("{{time}}",rv(m,n))},Fj={p:rv,P:Dj},Uj=/^D+$/,Bj=/^Y+$/,zj=["D","DD","YY","YYYY"];function Gj(r){return Uj.test(r)}function Vj(r){return Bj.test(r)}function Hj(r,n,o){const t=Wj(r,n,o);if(console.warn(t),zj.includes(r))throw new RangeError(t)}function Wj(r,n,o){const t=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${n}\`) for formatting ${t} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$j=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yj=/^'([^]*?)'?$/,Xj=/''/g,Kj=/[a-zA-Z]/;function Qj(r,n,o){var b,v,i,f,u,g,y,d;const t=eu(),m=(o==null?void 0:o.locale)??t.locale??ev,c=(o==null?void 0:o.firstWeekContainsDate)??((v=(b=o==null?void 0:o.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(i=t.locale)==null?void 0:i.options)==null?void 0:f.firstWeekContainsDate)??1,a=(o==null?void 0:o.weekStartsOn)??((g=(u=o==null?void 0:o.locale)==null?void 0:u.options)==null?void 0:g.weekStartsOn)??t.weekStartsOn??((d=(y=t.locale)==null?void 0:y.options)==null?void 0:d.weekStartsOn)??0,h=ln(r);if(!ej(h))throw new RangeError("Invalid time value");let s=n.match($j).map(l=>{const w=l[0];if(w==="p"||w==="P"){const x=Fj[w];return x(l,m.formatLong)}return l}).join("").match(qj).map(l=>{if(l==="''")return{isToken:!1,value:"'"};const w=l[0];if(w==="'")return{isToken:!1,value:Zj(l)};if(Fp[w])return{isToken:!0,value:l};if(w.match(Kj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:l}});m.localize.preprocessor&&(s=m.localize.preprocessor(h,s));const p={firstWeekContainsDate:c,weekStartsOn:a,locale:m};return s.map(l=>{if(!l.isToken)return l.value;const w=l.value;(!(o!=null&&o.useAdditionalWeekYearTokens)&&Vj(w)||!(o!=null&&o.useAdditionalDayOfYearTokens)&&Gj(w))&&Hj(w,n,String(r));const x=Fp[w[0]];return x(h,w,m.localize,p)}).join("")}function Zj(r){const n=r.match(Yj);return n?n[1].replace(Xj,"'"):r}function Gp(r,n,o){const t=zo(r,o),m=zo(n,o);return+t==+m}const Jj={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"più di un anno",other:"più di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},e_=(r,n,o)=>{let t;const m=Jj[r];return typeof m=="string"?t=m:n===1?t=m.one:t=m.other.replace("{{count}}",n.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"tra "+t:t+" fa":t},t_={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},r_={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},n_={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},o_={date:ws({formats:t_,defaultWidth:"full"}),time:ws({formats:r_,defaultWidth:"full"}),dateTime:ws({formats:n_,defaultWidth:"full"})},vf=["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"];function s_(r){switch(r){case 0:return"'domenica scorsa alle' p";default:return"'"+vf[r]+" scorso alle' p"}}function Vp(r){return"'"+vf[r]+" alle' p"}function a_(r){switch(r){case 0:return"'domenica prossima alle' p";default:return"'"+vf[r]+" prossimo alle' p"}}const i_={lastWeek:(r,n,o)=>{const t=r.getDay();return Gp(r,n,o)?Vp(t):s_(t)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(r,n,o)=>{const t=r.getDay();return Gp(r,n,o)?Vp(t):a_(t)},other:"P"},l_=(r,n,o,t)=>{const m=i_[r];return typeof m=="function"?m(n,o,t):m},u_={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},c_={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},d_={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},f_={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"]},h_={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},p_={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},m_=(r,n)=>{const o=Number(r);return String(o)},g_={ordinalNumber:m_,era:gn({values:u_,defaultWidth:"wide"}),quarter:gn({values:c_,defaultWidth:"wide",argumentCallback:r=>r-1}),month:gn({values:d_,defaultWidth:"wide"}),day:gn({values:f_,defaultWidth:"wide"}),dayPeriod:gn({values:h_,defaultWidth:"wide",formattingValues:p_,defaultFormattingWidth:"wide"})},y_=/^(\d+)(º)?/i,v_=/\d+/i,b_={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},x_={any:[/^a/i,/^(d|e)/i]},w_={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](º)? trimestre/i},j_={any:[/1/i,/2/i,/3/i,/4/i]},__={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},S_={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},k_={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|ì]|marted[i|ì]|mercoled[i|ì]|gioved[i|ì]|venerd[i|ì]|sabato)/i},E_={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},T_={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},M_={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},C_={ordinalNumber:Jy({matchPattern:y_,parsePattern:v_,valueCallback:r=>parseInt(r,10)}),era:yn({matchPatterns:b_,defaultMatchWidth:"wide",parsePatterns:x_,defaultParseWidth:"any"}),quarter:yn({matchPatterns:w_,defaultMatchWidth:"wide",parsePatterns:j_,defaultParseWidth:"any",valueCallback:r=>r+1}),month:yn({matchPatterns:__,defaultMatchWidth:"wide",parsePatterns:S_,defaultParseWidth:"any"}),day:yn({matchPatterns:k_,defaultMatchWidth:"wide",parsePatterns:E_,defaultParseWidth:"any"}),dayPeriod:yn({matchPatterns:T_,defaultMatchWidth:"any",parsePatterns:M_,defaultParseWidth:"any"})},nv={code:"it",formatDistance:e_,formatLong:o_,formatRelative:l_,localize:g_,match:C_,options:{weekStartsOn:1,firstWeekContainsDate:4}},O_={it:nv,en:ev},P_=(r,n)=>{const o=new Date(r),t=O_[n]??nv;return Qj(o,"dd MMM yyyy HH:mm",{locale:t})},L_=()=>{const{t:r}=yf(),n=Ky(_=>_.language),{slots:o,activeSlotId:t,createSlot:m,duplicateSlot:c,loadSlot:a,renameSlot:h,deleteSlot:s,exportSavesSnapshot:p,importSavesFromJson:b}=Mr(_=>({slots:_.slots,activeSlotId:_.activeSlotId,createSlot:_.createSlot,duplicateSlot:_.duplicateSlot,loadSlot:_.loadSlot,renameSlot:_.renameSlot,deleteSlot:_.deleteSlot,exportSavesSnapshot:_.exportSavesSnapshot,importSavesFromJson:_.importSavesFromJson})),[v,i]=Ne.useState(null),[f,u]=Ne.useState(""),g=Ne.useRef(null),y=(_,T)=>{i(_),u(T)},d=_=>{if(!f.trim()){i(null);return}h(_,f.trim()),i(null)},l=()=>{try{const _=p(),T=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),E=URL.createObjectURL(T),S=document.createElement("a"),P=new Date().toISOString().replace(/[:.]/g,"-");S.href=E,S.download=`door-saves-${P}.json`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(E)}catch(_){console.error("Failed to export saves",_),window.alert(r("saves.exportError","Impossibile esportare i salvataggi."))}},w=()=>{var _;(_=g.current)==null||_.click()},x=async _=>{var E;const T=(E=_.target.files)==null?void 0:E[0];if(T)try{const S=await T.text();b(S),window.alert(r("saves.importSuccess","Salvataggi importati con successo."))}catch(S){console.error("Failed to import saves",S),window.alert(r("saves.importError","File di salvataggio non valido."))}finally{_.target.value=""}};return G.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[G.jsxs("div",{className:"absolute inset-0 -z-10",children:[G.jsx("div",{className:"absolute inset-0 bg-[url('/assets/lobby/sfondo_lobby.png')] bg-cover bg-center blur"}),G.jsx("div",{className:"absolute inset-0 bg-black/70"})]}),G.jsxs("div",{className:"relative z-10 mx-auto flex min-h-screen w-full max-w-4xl flex-col gap-6 px-6 py-12",children:[G.jsxs("header",{className:"flex items-center justify-between gap-4",children:[G.jsxs("div",{children:[G.jsx("h2",{className:"text-3xl font-display uppercase tracking-[0.4em]",children:r("saves.title","Salvataggi")}),G.jsx("p",{className:"text-sm text-white/60",children:r("saves.subtitle","Gestisci gli slot locali")})]}),G.jsx(Wr,{to:"/",className:"rounded-full border border-white/30 px-4 py-2 text-sm uppercase tracking-widest transition hover:border-[#a67c52] hover:text-[#a67c52]",children:r("settings.back")})]}),G.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[G.jsx("input",{ref:g,type:"file",accept:"application/json",className:"hidden",onChange:x}),G.jsx("button",{type:"button",onClick:l,className:"rounded-full border border-white/30 px-4 py-2 text-sm uppercase tracking-widest text-white transition hover:border-[#a67c52] hover:text-[#a67c52]",children:r("saves.export","Esporta")}),G.jsx("button",{type:"button",onClick:w,className:"rounded-full border border-white/30 px-4 py-2 text-sm uppercase tracking-widest text-white transition hover:border-[#a67c52] hover:text-[#a67c52]",children:r("saves.import","Importa")}),G.jsx("button",{type:"button",onClick:()=>{m()},className:"rounded-full border border-[#a67c52] bg-transparent px-4 py-2 text-sm uppercase tracking-widest text-[#a67c52] transition hover:bg-[#a67c52]/10",children:r("saves.new","Nuovo slot")})]}),G.jsx("ul",{className:"space-y-3",children:o.map(_=>{const T=t===_.id;return G.jsxs("li",{className:`flex items-center justify-between rounded-2xl border px-4 py-3 backdrop-blur-sm transition ${T?"border-[#a67c52] bg-[#a67c52]/15 shadow-lg shadow-[#a67c52]/30":"border-white/10 bg-white/10 hover:bg-white/20"}`,onDoubleClick:()=>y(_.id,_.name),children:[G.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[v===_.id?G.jsx("input",{value:f,autoFocus:!0,onChange:E=>u(E.target.value),onBlur:()=>d(_.id),onKeyDown:E=>{E.key==="Enter"?d(_.id):E.key==="Escape"&&i(null)},className:"w-56 rounded border border-white/30 bg-black/70 px-3 py-1 text-white focus:border-[#a67c52] focus:outline-none"}):G.jsx("span",{className:"text-base font-semibold text-white",children:_.name}),G.jsx("span",{className:"text-xs uppercase text-white/60",children:P_(_.updatedAt,n)})]}),G.jsxs("div",{className:"flex items-center gap-3",children:[G.jsx("button",{type:"button",onClick:()=>c(_.id),className:"rounded-full border border-white/25 px-3 py-1 text-xs uppercase tracking-widest text-white/80 transition hover:border-[#a67c52] hover:text-[#a67c52]",children:r("saves.duplicate","Duplica")}),T?G.jsx("span",{className:"rounded-full border border-[#a67c52] bg-[#a67c52]/20 px-4 py-1 text-xs uppercase tracking-widest text-[#a67c52]",children:r("saves.activeBadge","Attivo")}):G.jsx("button",{type:"button",onClick:()=>void a(_.id),className:"rounded-full border border-[#a67c52] px-4 py-1 text-xs uppercase tracking-widest text-[#a67c52] transition hover:bg-[#a67c52]/10",children:r("saves.load","Carica")}),G.jsx("button",{type:"button",onClick:()=>s(_.id),className:"rounded-full border border-red-500 px-3 py-1 text-xs uppercase tracking-widest text-red-400 transition hover:bg-red-500/10","aria-label":r("saves.delete","Elimina"),children:"🗑"})]})]},_.id)})}),o.length===0?G.jsx("p",{className:"text-center text-sm text-white/60",children:r("saves.empty","Nessun salvataggio disponibile. Creane uno nuovo!")}):null]})]})};function Oi(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ov={exports:{}};/*! p5.js v1.11.10 August 23, 2025 */(function(r,n){(function(o){r.exports=o()})(function(){var o;return function t(m,c,a){function h(b,v){if(!c[b]){if(!m[b]){var i=typeof Oi=="function"&&Oi;if(!v&&i)return i(b,!0);if(s)return s(b,!0);throw(v=new Error("Cannot find module '"+b+"'")).code="MODULE_NOT_FOUND",v}i=c[b]={exports:{}},m[b][0].call(i.exports,function(f){return h(m[b][1][f]||f)},i,i.exports,t,m,c,a)}return c[b].exports}for(var s=typeof Oi=="function"&&Oi,p=0;p<a.length;p++)h(a[p]);return h}({1:[function(t,m,c){c.byteLength=function(g){var g=i(g),u=g[0],g=g[1];return 3*(u+g)/4-g},c.toByteArray=function(f){var u,g,d=i(f),y=d[0],d=d[1],l=new s(function(_,T){return 3*(_+T)/4-T}(y,d)),w=0,x=0<d?y-4:y;for(g=0;g<x;g+=4)u=h[f.charCodeAt(g)]<<18|h[f.charCodeAt(g+1)]<<12|h[f.charCodeAt(g+2)]<<6|h[f.charCodeAt(g+3)],l[w++]=u>>16&255,l[w++]=u>>8&255,l[w++]=255&u;return d===2&&(u=h[f.charCodeAt(g)]<<2|h[f.charCodeAt(g+1)]>>4,l[w++]=255&u),d===1&&(u=h[f.charCodeAt(g)]<<10|h[f.charCodeAt(g+1)]<<4|h[f.charCodeAt(g+2)]>>2,l[w++]=u>>8&255,l[w++]=255&u),l},c.fromByteArray=function(f){for(var u,g=f.length,y=g%3,d=[],l=0,w=g-y;l<w;l+=16383)d.push(function(x,_,T){for(var E,S=[],P=_;P<T;P+=3)E=(x[P]<<16&16711680)+(x[P+1]<<8&65280)+(255&x[P+2]),S.push(function(N){return a[N>>18&63]+a[N>>12&63]+a[N>>6&63]+a[63&N]}(E));return S.join("")}(f,l,w<l+16383?w:l+16383));return y==1?(u=f[g-1],d.push(a[u>>2]+a[u<<4&63]+"==")):y==2&&(u=(f[g-2]<<8)+f[g-1],d.push(a[u>>10]+a[u>>4&63]+a[u<<2&63]+"=")),d.join("")};for(var a=[],h=[],s=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,v=p.length;b<v;++b)a[b]=p[b],h[p.charCodeAt(b)]=b;function i(f){var u=f.length;if(0<u%4)throw new Error("Invalid string. Length must be a multiple of 4");return f=f.indexOf("="),u=(f=f===-1?u:f)===u?0:4-f%4,[f,u]}h[45]=62,h[95]=63},{}],2:[function(t,m,c){},{}],3:[function(t,m,c){},{}],4:[function(t,m,c){(function(i){var h=t("base64-js"),s=t("ieee754"),p=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,b=(c.Buffer=i,c.SlowBuffer=function(M){return+M!=M&&(M=0),i.alloc(+M)},c.INSPECT_MAX_BYTES=50,2147483647);function v(M){if(b<M)throw new RangeError('The value "'+M+'" is invalid for option "size"');return M=new Uint8Array(M),Object.setPrototypeOf(M,i.prototype),M}function i(M,R,z){if(typeof M!="number")return f(M,R,z);if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(M)}function f(M,R,z){if(typeof M=="string"){var q=M,Z=R;if(i.isEncoding(Z=typeof Z=="string"&&Z!==""?Z:"utf8"))return te=0|l(q,Z),ie=v(te),ie=(q=ie.write(q,Z))!==te?ie.slice(0,q):ie;throw new TypeError("Unknown encoding: "+Z)}if(ArrayBuffer.isView(M))return y(M);if(M!=null){if(X(M,ArrayBuffer)||M&&X(M.buffer,ArrayBuffer)){var te=M,q=R,ie=z;if(q<0||te.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<q+(ie||0))throw new RangeError('"length" is outside of buffer bounds');return te=q===void 0&&ie===void 0?new Uint8Array(te):ie===void 0?new Uint8Array(te,q):new Uint8Array(te,q,ie),Object.setPrototypeOf(te,i.prototype),te}if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(Z=M.valueOf&&M.valueOf(),Z!=null&&Z!==M)return i.from(Z,R,z);var he=function(oe){{var fe,ce;if(i.isBuffer(oe))return fe=0|d(oe.length),(ce=v(fe)).length!==0&&oe.copy(ce,0,0,fe),ce}if(oe.length!==void 0)return typeof oe.length!="number"||Q(oe.length)?v(0):y(oe);if(oe.type==="Buffer"&&Array.isArray(oe.data))return y(oe.data)}(M);if(he)return he;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return i.from(M[Symbol.toPrimitive]("string"),R,z)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}function u(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function g(M){return u(M),v(M<0?0:0|d(M))}function y(M){for(var R=M.length<0?0:0|d(M.length),z=v(R),q=0;q<R;q+=1)z[q]=255&M[q];return z}function d(M){if(b<=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|M}function l(M,R){if(i.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||X(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);var z=M.length,q=2<arguments.length&&arguments[2]===!0;if(!q&&z===0)return 0;for(var Z=!1;;)switch(R){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return $(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return V(M).length;default:if(Z)return q?-1:$(M).length;R=(""+R).toLowerCase(),Z=!0}}function w(M,R,z){var q,Z=!1;if((R=R===void 0||R<0?0:R)>this.length||(z=z===void 0||z>this.length?this.length:z)<=0||(z>>>=0)<=(R>>>=0))return"";for(M=M||"utf8";;)switch(M){case"hex":var te=this,ge=R,ie=z,ce=te.length;(!ie||ie<0||ce<ie)&&(ie=ce);for(var he="",oe=ge=!ge||ge<0?0:ge;oe<ie;++oe)he+=se[te[oe]];return he;case"utf8":case"utf-8":return P(this,R,z);case"ascii":var fe=this,ce=R,ee=z,de="";ee=Math.min(fe.length,ee);for(var ye=ce;ye<ee;++ye)de+=String.fromCharCode(127&fe[ye]);return de;case"latin1":case"binary":var we=this,ge=R,ve=z,je="";ve=Math.min(we.length,ve);for(var De=ge;De<ve;++De)je+=String.fromCharCode(we[De]);return je;case"base64":return Te=this,q=z,(tt=R)===0&&q===Te.length?h.fromByteArray(Te):h.fromByteArray(Te.slice(tt,q));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Te=R,tt=z,$e=this.slice(Te,tt),We="",Ke=0;Ke<$e.length;Ke+=2)We+=String.fromCharCode($e[Ke]+256*$e[Ke+1]);return We;default:if(Z)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),Z=!0}}function x(M,R,z){var q=M[R];M[R]=M[z],M[z]=q}function _(M,R,z,q,Z){if(M.length===0)return-1;if(typeof z=="string"?(q=z,z=0):2147483647<z?z=2147483647:z<-2147483648&&(z=-2147483648),(z=(z=Q(z=+z)?Z?0:M.length-1:z)<0?M.length+z:z)>=M.length){if(Z)return-1;z=M.length-1}else if(z<0){if(!Z)return-1;z=0}if(typeof R=="string"&&(R=i.from(R,q)),i.isBuffer(R))return R.length===0?-1:T(M,R,z,q,Z);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?(Z?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(M,R,z):T(M,[R],z,q,Z);throw new TypeError("val must be string, number or Buffer")}function T(M,R,z,q,Z){var te=1,ie=M.length,he=R.length;if(q!==void 0&&((q=String(q).toLowerCase())==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(M.length<2||R.length<2)return-1;ie/=te=2,he/=2,z/=2}function oe(ye,we){return te===1?ye[we]:ye.readUInt16BE(we*te)}if(Z)for(var fe=-1,ce=z;ce<ie;ce++)if(oe(M,ce)===oe(R,fe===-1?0:ce-fe)){if(ce-(fe=fe===-1?ce:fe)+1===he)return fe*te}else fe!==-1&&(ce-=ce-fe),fe=-1;else for(ce=z=ie<z+he?ie-he:z;0<=ce;ce--){for(var ee=!0,de=0;de<he;de++)if(oe(M,ce+de)!==oe(R,de)){ee=!1;break}if(ee)return ce}return-1}function E(M,R,z,q){return H(function(Z){for(var te=[],ie=0;ie<Z.length;++ie)te.push(255&Z.charCodeAt(ie));return te}(R),M,z,q)}function S(M,R,z,q){return H(function(Z,te){for(var ie,he,oe=[],fe=0;fe<Z.length&&!((te-=2)<0);++fe)he=Z.charCodeAt(fe),ie=he>>8,he=he%256,oe.push(he),oe.push(ie);return oe}(R,M.length-z),M,z,q)}function P(M,R,z){z=Math.min(M.length,z);for(var q=[],Z=R;Z<z;){var te,ie,he,oe,fe=M[Z],ce=null,ee=239<fe?4:223<fe?3:191<fe?2:1;if(Z+ee<=z)switch(ee){case 1:fe<128&&(ce=fe);break;case 2:(192&(te=M[Z+1]))==128&&127<(oe=(31&fe)<<6|63&te)&&(ce=oe);break;case 3:te=M[Z+1],ie=M[Z+2],(192&te)==128&&(192&ie)==128&&2047<(oe=(15&fe)<<12|(63&te)<<6|63&ie)&&(oe<55296||57343<oe)&&(ce=oe);break;case 4:te=M[Z+1],ie=M[Z+2],he=M[Z+3],(192&te)==128&&(192&ie)==128&&(192&he)==128&&65535<(oe=(15&fe)<<18|(63&te)<<12|(63&ie)<<6|63&he)&&oe<1114112&&(ce=oe)}ce===null?(ce=65533,ee=1):65535<ce&&(ce-=65536,q.push(ce>>>10&1023|55296),ce=56320|1023&ce),q.push(ce),Z+=ee}var de=q,ye=de.length;if(ye<=N)return String.fromCharCode.apply(String,de);for(var we="",ge=0;ge<ye;)we+=String.fromCharCode.apply(String,de.slice(ge,ge+=N));return we}c.kMaxLength=b,(i.TYPED_ARRAY_SUPPORT=function(){try{var M=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(M,R),M.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=f,Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(M,R,z){return R=R,z=z,u(M=M),!(M<=0)&&R!==void 0?typeof z=="string"?v(M).fill(R,z):v(M).fill(R):v(M)},i.allocUnsafe=g,i.allocUnsafeSlow=g,i.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==i.prototype},i.compare=function(M,R){if(X(M,Uint8Array)&&(M=i.from(M,M.offset,M.byteLength)),X(R,Uint8Array)&&(R=i.from(R,R.offset,R.byteLength)),!i.isBuffer(M)||!i.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===R)return 0;for(var z=M.length,q=R.length,Z=0,te=Math.min(z,q);Z<te;++Z)if(M[Z]!==R[Z]){z=M[Z],q=R[Z];break}return z<q?-1:q<z?1:0},i.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(M,R){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return i.alloc(0);if(R===void 0)for(Z=R=0;Z<M.length;++Z)R+=M[Z].length;for(var z=i.allocUnsafe(R),q=0,Z=0;Z<M.length;++Z){var te=M[Z];if(X(te,Uint8Array)&&(te=i.from(te)),!i.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(z,q),q+=te.length}return z},i.byteLength=l,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var M=this.length;if(M%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<M;R+=2)x(this,R,R+1);return this},i.prototype.swap32=function(){var M=this.length;if(M%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<M;R+=4)x(this,R,R+3),x(this,R+1,R+2);return this},i.prototype.swap64=function(){var M=this.length;if(M%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<M;R+=8)x(this,R,R+7),x(this,R+1,R+6),x(this,R+2,R+5),x(this,R+3,R+4);return this},i.prototype.toLocaleString=i.prototype.toString=function(){var M=this.length;return M===0?"":arguments.length===0?P(this,0,M):w.apply(this,arguments)},i.prototype.equals=function(M){if(i.isBuffer(M))return this===M||i.compare(this,M)===0;throw new TypeError("Argument must be a Buffer")},i.prototype.inspect=function(){var R="",M=c.INSPECT_MAX_BYTES,R=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim();return this.length>M&&(R+=" ... "),"<Buffer "+R+">"},p&&(i.prototype[p]=i.prototype.inspect),i.prototype.compare=function(M,R,z,q,Z){if(X(M,Uint8Array)&&(M=i.from(M,M.offset,M.byteLength)),!i.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(z===void 0&&(z=M?M.length:0),q===void 0&&(q=0),Z===void 0&&(Z=this.length),(R=R===void 0?0:R)<0||z>M.length||q<0||Z>this.length)throw new RangeError("out of range index");if(Z<=q&&z<=R)return 0;if(Z<=q)return-1;if(z<=R)return 1;if(this===M)return 0;for(var te=(Z>>>=0)-(q>>>=0),ie=(z>>>=0)-(R>>>=0),he=Math.min(te,ie),oe=this.slice(q,Z),fe=M.slice(R,z),ce=0;ce<he;++ce)if(oe[ce]!==fe[ce]){te=oe[ce],ie=fe[ce];break}return te<ie?-1:ie<te?1:0},i.prototype.includes=function(M,R,z){return this.indexOf(M,R,z)!==-1},i.prototype.indexOf=function(M,R,z){return _(this,M,R,z,!0)},i.prototype.lastIndexOf=function(M,R,z){return _(this,M,R,z,!1)},i.prototype.write=function(M,R,z,q){if(R===void 0)q="utf8",z=this.length,R=0;else if(z===void 0&&typeof R=="string")q=R,z=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(z)?(z>>>=0,q===void 0&&(q="utf8")):(q=z,z=void 0)}var Z=this.length-R;if((z===void 0||Z<z)&&(z=Z),0<M.length&&(z<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");q=q||"utf8";for(var te,ie,he,oe=!1;;)switch(q){case"hex":var fe=this,ce=M,ee=R,de=z,ye=(ee=Number(ee)||0,fe.length-ee);(!de||ye<(de=Number(de)))&&(de=ye),(ye=ce.length)/2<de&&(de=ye/2);for(var we=0;we<de;++we){var ge=parseInt(ce.substr(2*we,2),16);if(Q(ge))return we;fe[ee+we]=ge}return we;case"utf8":case"utf-8":return ye=R,he=z,H($(M,(ie=this).length-ye),ie,ye,he);case"ascii":return E(this,M,R,z);case"latin1":case"binary":return E(this,M,R,z);case"base64":return ie=this,he=R,te=z,H(V(M),ie,he,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,M,R,z);default:if(oe)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),oe=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function C(M,R,z){if(M%1!=0||M<0)throw new RangeError("offset is not uint");if(z<M+R)throw new RangeError("Trying to access beyond buffer length")}function I(M,R,z,q,Z,te){if(!i.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z<R||R<te)throw new RangeError('"value" argument is out of bounds');if(z+q>M.length)throw new RangeError("Index out of range")}function L(M,R,z,q){if(z+q>M.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function F(M,R,z,q,Z){return R=+R,z>>>=0,Z||L(M,0,z,4),s.write(M,R,z,q,23,4),z+4}function D(M,R,z,q,Z){return R=+R,z>>>=0,Z||L(M,0,z,8),s.write(M,R,z,q,52,8),z+8}i.prototype.slice=function(M,R){var z=this.length,z=((M=~~M)<0?(M+=z)<0&&(M=0):z<M&&(M=z),(R=R===void 0?z:~~R)<0?(R+=z)<0&&(R=0):z<R&&(R=z),R<M&&(R=M),this.subarray(M,R));return Object.setPrototypeOf(z,i.prototype),z},i.prototype.readUIntLE=function(M,R,z){M>>>=0,R>>>=0,z||C(M,R,this.length);for(var q=this[M],Z=1,te=0;++te<R&&(Z*=256);)q+=this[M+te]*Z;return q},i.prototype.readUIntBE=function(M,R,z){M>>>=0,R>>>=0,z||C(M,R,this.length);for(var q=this[M+--R],Z=1;0<R&&(Z*=256);)q+=this[M+--R]*Z;return q},i.prototype.readUInt8=function(M,R){return M>>>=0,R||C(M,1,this.length),this[M]},i.prototype.readUInt16LE=function(M,R){return M>>>=0,R||C(M,2,this.length),this[M]|this[M+1]<<8},i.prototype.readUInt16BE=function(M,R){return M>>>=0,R||C(M,2,this.length),this[M]<<8|this[M+1]},i.prototype.readUInt32LE=function(M,R){return M>>>=0,R||C(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+16777216*this[M+3]},i.prototype.readUInt32BE=function(M,R){return M>>>=0,R||C(M,4,this.length),16777216*this[M]+(this[M+1]<<16|this[M+2]<<8|this[M+3])},i.prototype.readIntLE=function(M,R,z){M>>>=0,R>>>=0,z||C(M,R,this.length);for(var q=this[M],Z=1,te=0;++te<R&&(Z*=256);)q+=this[M+te]*Z;return(Z*=128)<=q&&(q-=Math.pow(2,8*R)),q},i.prototype.readIntBE=function(M,R,z){M>>>=0,R>>>=0,z||C(M,R,this.length);for(var q=R,Z=1,te=this[M+--q];0<q&&(Z*=256);)te+=this[M+--q]*Z;return(Z*=128)<=te&&(te-=Math.pow(2,8*R)),te},i.prototype.readInt8=function(M,R){return M>>>=0,R||C(M,1,this.length),128&this[M]?-1*(255-this[M]+1):this[M]},i.prototype.readInt16LE=function(M,R){return M>>>=0,R||C(M,2,this.length),R=this[M]|this[M+1]<<8,32768&R?4294901760|R:R},i.prototype.readInt16BE=function(M,R){return M>>>=0,R||C(M,2,this.length),R=this[M+1]|this[M]<<8,32768&R?4294901760|R:R},i.prototype.readInt32LE=function(M,R){return M>>>=0,R||C(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},i.prototype.readInt32BE=function(M,R){return M>>>=0,R||C(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},i.prototype.readFloatLE=function(M,R){return M>>>=0,R||C(M,4,this.length),s.read(this,M,!0,23,4)},i.prototype.readFloatBE=function(M,R){return M>>>=0,R||C(M,4,this.length),s.read(this,M,!1,23,4)},i.prototype.readDoubleLE=function(M,R){return M>>>=0,R||C(M,8,this.length),s.read(this,M,!0,52,8)},i.prototype.readDoubleBE=function(M,R){return M>>>=0,R||C(M,8,this.length),s.read(this,M,!1,52,8)},i.prototype.writeUIntLE=function(M,R,z,q){M=+M,R>>>=0,z>>>=0,q||I(this,M,R,z,Math.pow(2,8*z)-1,0);var Z=1,te=0;for(this[R]=255&M;++te<z&&(Z*=256);)this[R+te]=M/Z&255;return R+z},i.prototype.writeUIntBE=function(M,R,z,q){M=+M,R>>>=0,z>>>=0,q||I(this,M,R,z,Math.pow(2,8*z)-1,0);var Z=z-1,te=1;for(this[R+Z]=255&M;0<=--Z&&(te*=256);)this[R+Z]=M/te&255;return R+z},i.prototype.writeUInt8=function(M,R,z){return M=+M,R>>>=0,z||I(this,M,R,1,255,0),this[R]=255&M,R+1},i.prototype.writeUInt16LE=function(M,R,z){return M=+M,R>>>=0,z||I(this,M,R,2,65535,0),this[R]=255&M,this[R+1]=M>>>8,R+2},i.prototype.writeUInt16BE=function(M,R,z){return M=+M,R>>>=0,z||I(this,M,R,2,65535,0),this[R]=M>>>8,this[R+1]=255&M,R+2},i.prototype.writeUInt32LE=function(M,R,z){return M=+M,R>>>=0,z||I(this,M,R,4,4294967295,0),this[R+3]=M>>>24,this[R+2]=M>>>16,this[R+1]=M>>>8,this[R]=255&M,R+4},i.prototype.writeUInt32BE=function(M,R,z){return M=+M,R>>>=0,z||I(this,M,R,4,4294967295,0),this[R]=M>>>24,this[R+1]=M>>>16,this[R+2]=M>>>8,this[R+3]=255&M,R+4},i.prototype.writeIntLE=function(M,R,z,q){M=+M,R>>>=0,q||I(this,M,R,z,(q=Math.pow(2,8*z-1))-1,-q);var Z=0,te=1,ie=0;for(this[R]=255&M;++Z<z&&(te*=256);)M<0&&ie===0&&this[R+Z-1]!==0&&(ie=1),this[R+Z]=(M/te>>0)-ie&255;return R+z},i.prototype.writeIntBE=function(M,R,z,q){M=+M,R>>>=0,q||I(this,M,R,z,(q=Math.pow(2,8*z-1))-1,-q);var Z=z-1,te=1,ie=0;for(this[R+Z]=255&M;0<=--Z&&(te*=256);)M<0&&ie===0&&this[R+Z+1]!==0&&(ie=1),this[R+Z]=(M/te>>0)-ie&255;return R+z},i.prototype.writeInt8=function(M,R,z){return M=+M,R>>>=0,z||I(this,M,R,1,127,-128),this[R]=255&(M=M<0?255+M+1:M),R+1},i.prototype.writeInt16LE=function(M,R,z){return M=+M,R>>>=0,z||I(this,M,R,2,32767,-32768),this[R]=255&M,this[R+1]=M>>>8,R+2},i.prototype.writeInt16BE=function(M,R,z){return M=+M,R>>>=0,z||I(this,M,R,2,32767,-32768),this[R]=M>>>8,this[R+1]=255&M,R+2},i.prototype.writeInt32LE=function(M,R,z){return M=+M,R>>>=0,z||I(this,M,R,4,2147483647,-2147483648),this[R]=255&M,this[R+1]=M>>>8,this[R+2]=M>>>16,this[R+3]=M>>>24,R+4},i.prototype.writeInt32BE=function(M,R,z){return M=+M,R>>>=0,z||I(this,M,R,4,2147483647,-2147483648),this[R]=(M=M<0?4294967295+M+1:M)>>>24,this[R+1]=M>>>16,this[R+2]=M>>>8,this[R+3]=255&M,R+4},i.prototype.writeFloatLE=function(M,R,z){return F(this,M,R,!0,z)},i.prototype.writeFloatBE=function(M,R,z){return F(this,M,R,!1,z)},i.prototype.writeDoubleLE=function(M,R,z){return D(this,M,R,!0,z)},i.prototype.writeDoubleBE=function(M,R,z){return D(this,M,R,!1,z)},i.prototype.copy=function(M,R,z,q){if(!i.isBuffer(M))throw new TypeError("argument should be a Buffer");if(z=z||0,q||q===0||(q=this.length),R>=M.length&&(R=M.length),(q=0<q&&q<z?z:q)===z||M.length===0||this.length===0)return 0;if((R=R||0)<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length);var Z=(q=M.length-R<q-z?M.length-R+z:q)-z;if(this===M&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(R,z,q);else if(this===M&&z<R&&R<q)for(var te=Z-1;0<=te;--te)M[te+R]=this[te+z];else Uint8Array.prototype.set.call(M,this.subarray(z,q),R);return Z},i.prototype.fill=function(M,R,z,q){if(typeof M=="string"){if(typeof R=="string"?(q=R,R=0,z=this.length):typeof z=="string"&&(q=z,z=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!i.isEncoding(q))throw new TypeError("Unknown encoding: "+q);var Z;M.length===1&&(Z=M.charCodeAt(0),(q==="utf8"&&Z<128||q==="latin1")&&(M=Z))}else typeof M=="number"?M&=255:typeof M=="boolean"&&(M=Number(M));if(R<0||this.length<R||this.length<z)throw new RangeError("Out of range index");var te;if(!(z<=R))if(R>>>=0,z=z===void 0?this.length:z>>>0,typeof(M=M||0)=="number")for(te=R;te<z;++te)this[te]=M;else{var ie=i.isBuffer(M)?M:i.from(M,q),he=ie.length;if(he===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(te=0;te<z-R;++te)this[te+R]=ie[te%he]}return this};var B=/[^+/0-9A-Za-z-_]/g;function $(M,R){R=R||1/0;for(var z,q=M.length,Z=null,te=[],ie=0;ie<q;++ie){if(55295<(z=M.charCodeAt(ie))&&z<57344){if(!Z){if(56319<z){-1<(R-=3)&&te.push(239,191,189);continue}if(ie+1===q){-1<(R-=3)&&te.push(239,191,189);continue}Z=z;continue}if(z<56320){-1<(R-=3)&&te.push(239,191,189),Z=z;continue}z=65536+(Z-55296<<10|z-56320)}else Z&&-1<(R-=3)&&te.push(239,191,189);if(Z=null,z<128){if(--R<0)break;te.push(z)}else if(z<2048){if((R-=2)<0)break;te.push(z>>6|192,63&z|128)}else if(z<65536){if((R-=3)<0)break;te.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;te.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return te}function V(M){return h.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(M))}function H(M,R,z,q){for(var Z=0;Z<q&&!(Z+z>=R.length||Z>=M.length);++Z)R[Z+z]=M[Z];return Z}function X(M,R){return M instanceof R||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===R.name}function Q(M){return M!=M}var se=function(){for(var M="0123456789abcdef",R=new Array(256),z=0;z<16;++z)for(var q=16*z,Z=0;Z<16;++Z)R[q+Z]=M[z]+M[Z];return R}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,m,c){m.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},{}],6:[function(t,m,c){var a=t("../internals/is-object");m.exports=function(h){if(a(h)||h===null)return h;throw TypeError("Can't set "+String(h)+" as a prototype")}},{"../internals/is-object":75}],7:[function(s,m,c){var a=s("../internals/well-known-symbol"),h=s("../internals/object-create"),s=s("../internals/object-define-property"),p=a("unscopables"),b=Array.prototype;b[p]==null&&s.f(b,p,{configurable:!0,value:h(null)}),m.exports=function(v){b[p][v]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,m,c){var a=t("../internals/string-multibyte").charAt;m.exports=function(h,s,p){return s+(p?a(h,s).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,m,c){m.exports=function(a,h,s){if(a instanceof h)return a;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(t,m,c){var a=t("../internals/is-object");m.exports=function(h){if(a(h))return h;throw TypeError(String(h)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,m,c){m.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(L,m,c){function a(D){return v(D)&&i(F,f(D))}var h,s=L("../internals/array-buffer-native"),p=L("../internals/descriptors"),b=L("../internals/global"),v=L("../internals/is-object"),i=L("../internals/has"),f=L("../internals/classof"),u=L("../internals/create-non-enumerable-property"),g=L("../internals/redefine"),y=L("../internals/object-define-property").f,d=L("../internals/object-get-prototype-of"),l=L("../internals/object-set-prototype-of"),N=L("../internals/well-known-symbol"),L=L("../internals/uid"),w=b.Int8Array,x=w&&w.prototype,_=b.Uint8ClampedArray,_=_&&_.prototype,T=w&&d(w),E=x&&d(x),S=Object.prototype,P=S.isPrototypeOf,N=N("toStringTag"),C=L("TYPED_ARRAY_TAG"),I=s&&!!l&&f(b.opera)!=="Opera",L=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(h in F)b[h]||(I=!1);if((!I||typeof T!="function"||T===Function.prototype)&&(T=function(){throw TypeError("Incorrect invocation")},I))for(h in F)b[h]&&l(b[h],T);if((!I||!E||E===S)&&(E=T.prototype,I))for(h in F)b[h]&&l(b[h].prototype,E);if(I&&d(_)!==E&&l(_,E),p&&!i(E,N))for(h in L=!0,y(E,N,{get:function(){return v(this)?this[C]:void 0}}),F)b[h]&&u(b[h],C,h);m.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:L&&C,aTypedArray:function(D){if(a(D))return D;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(D){if(l){if(P.call(T,D))return D}else for(var B in F)if(i(F,h)&&(B=b[B],B&&(D===B||P.call(B,D))))return D;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(D,B,$){if(p){if($)for(var V in F)V=b[V],V&&i(V.prototype,D)&&delete V.prototype[D];E[D]&&!$||g(E,D,!$&&I&&x[D]||B)}},exportTypedArrayStaticMethod:function(D,B,$){var V,H;if(p){if(l){if($)for(V in F)(H=b[V])&&i(H,D)&&delete H[D];if(T[D]&&!$)return;try{return g(T,D,!$&&I&&w[D]||B)}catch{}}for(V in F)!(H=b[V])||H[D]&&!$||g(H,D,B)}},isView:function(D){return D=f(D),D==="DataView"||i(F,D)},isTypedArray:a,TypedArray:T,TypedArrayPrototype:E}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(z,m,c){function a(ee){return[255&ee]}function h(ee){return[255&ee,ee>>8&255]}function s(ee){return[255&ee,ee>>8&255,ee>>16&255,ee>>24&255]}function p(ee){return ee[3]<<24|ee[2]<<16|ee[1]<<8|ee[0]}function b(ee){return te(ee,23,4)}function v(ee){return te(ee,52,8)}function i(ee,de){L(ee[X],de,{get:function(){return B(this)[de]}})}function f(je,de,ve,we){if(ve=S(ve),je=B(je),ve+de>je.byteLength)throw Z(Q);var ge=B(je.buffer).bytes,ve=ve+je.byteOffset,je=ge.slice(ve,ve+de);return we?je:je.reverse()}function u(ee,de,ye,we,ge,ve){if(ye=S(ye),ee=B(ee),ye+de>ee.byteLength)throw Z(Q);for(var je=B(ee.buffer).bytes,De=ye+ee.byteOffset,Te=we(+ge),tt=0;tt<de;tt++)je[De+tt]=Te[ve?tt:de-tt-1]}var g=z("../internals/global"),y=z("../internals/descriptors"),d=z("../internals/array-buffer-native"),l=z("../internals/create-non-enumerable-property"),w=z("../internals/redefine-all"),x=z("../internals/fails"),_=z("../internals/an-instance"),T=z("../internals/to-integer"),E=z("../internals/to-length"),S=z("../internals/to-index"),P=z("../internals/ieee754"),N=z("../internals/object-get-prototype-of"),C=z("../internals/object-set-prototype-of"),I=z("../internals/object-get-own-property-names").f,L=z("../internals/object-define-property").f,F=z("../internals/array-fill"),D=z("../internals/set-to-string-tag"),z=z("../internals/internal-state"),B=z.get,$=z.set,V="ArrayBuffer",H="DataView",X="prototype",Q="Wrong index",se=g[V],M=se,R=g[H],z=R&&R[X],q=Object.prototype,Z=g.RangeError,te=P.pack,ie=P.unpack;if(d){if(!x(function(){se(1)})||!x(function(){new se(-1)})||x(function(){return new se,new se(1.5),new se(NaN),se.name!=V})){for(var he,g=(M=function(ye){return _(this,M),new se(S(ye))})[X]=se[X],oe=I(se),fe=0;oe.length>fe;)(he=oe[fe++])in M||l(M,he,se[he]);g.constructor=M}C&&N(z)!==q&&C(z,q);var P=new R(new M(2)),ce=z.setInt8;P.setInt8(0,2147483648),P.setInt8(1,2147483649),!P.getInt8(0)&&P.getInt8(1)||w(z,{setInt8:function(de,ye){ce.call(this,de,ye<<24>>24)},setUint8:function(de,ye){ce.call(this,de,ye<<24>>24)}},{unsafe:!0})}else M=function(ee){_(this,M,V),ee=S(ee),$(this,{bytes:F.call(new Array(ee),0),byteLength:ee}),y||(this.byteLength=ee)},R=function(ee,ge,ye){_(this,R,H),_(ee,M,H);var we=B(ee).byteLength,ge=T(ge);if(ge<0||we<ge)throw Z("Wrong offset");if(we<ge+(ye=ye===void 0?we-ge:E(ye)))throw Z("Wrong length");$(this,{buffer:ee,byteLength:ye,byteOffset:ge}),y||(this.buffer=ee,this.byteLength=ye,this.byteOffset=ge)},y&&(i(M,"byteLength"),i(R,"buffer"),i(R,"byteLength"),i(R,"byteOffset")),w(R[X],{getInt8:function(ee){return f(this,1,ee)[0]<<24>>24},getUint8:function(ee){return f(this,1,ee)[0]},getInt16:function(ee){return ee=f(this,2,ee,1<arguments.length?arguments[1]:void 0),(ee[1]<<8|ee[0])<<16>>16},getUint16:function(ee){return ee=f(this,2,ee,1<arguments.length?arguments[1]:void 0),ee[1]<<8|ee[0]},getInt32:function(ee){return p(f(this,4,ee,1<arguments.length?arguments[1]:void 0))},getUint32:function(ee){return p(f(this,4,ee,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ee){return ie(f(this,4,ee,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ee){return ie(f(this,8,ee,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ee,de){u(this,1,ee,a,de)},setUint8:function(ee,de){u(this,1,ee,a,de)},setInt16:function(ee,de){u(this,2,ee,h,de,2<arguments.length?arguments[2]:void 0)},setUint16:function(ee,de){u(this,2,ee,h,de,2<arguments.length?arguments[2]:void 0)},setInt32:function(ee,de){u(this,4,ee,s,de,2<arguments.length?arguments[2]:void 0)},setUint32:function(ee,de){u(this,4,ee,s,de,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ee,de){u(this,4,ee,b,de,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ee,de){u(this,8,ee,v,de,2<arguments.length?arguments[2]:void 0)}});D(M,V),D(R,H),m.exports={ArrayBuffer:M,DataView:R}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,m,c){var a=t("../internals/to-object"),h=t("../internals/to-absolute-index"),s=t("../internals/to-length"),p=Math.min;m.exports=[].copyWithin||function(y,v){var i=a(this),f=s(i.length),u=h(y,f),g=h(v,f),y=2<arguments.length?arguments[2]:void 0,d=p((y===void 0?f:h(y,f))-g,f-u),l=1;for(g<u&&u<g+d&&(l=-1,g+=d-1,u+=d-1);0<d--;)g in i?i[u]=i[g]:delete i[u],u+=l,g+=l;return i}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,m,c){var a=t("../internals/to-object"),h=t("../internals/to-absolute-index"),s=t("../internals/to-length");m.exports=function(p){for(var b=a(this),v=s(b.length),f=arguments.length,i=h(1<f?arguments[1]:void 0,v),f=2<f?arguments[2]:void 0,u=f===void 0?v:h(f,v);i<u;)b[i++]=p;return b}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(s,m,c){var a=s("../internals/array-iteration").forEach,h=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),h=h("forEach"),s=s("forEach");m.exports=h&&s?[].forEach:function(p){return a(this,p,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,m,c){var a=t("../internals/function-bind-context"),h=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),p=t("../internals/is-array-iterator-method"),b=t("../internals/to-length"),v=t("../internals/create-property"),i=t("../internals/get-iterator-method");m.exports=function(_){var u,g,y,d,l,w,x=h(_),_=typeof this=="function"?this:Array,T=arguments.length,E=1<T?arguments[1]:void 0,S=E!==void 0,P=i(x),N=0;if(S&&(E=a(E,2<T?arguments[2]:void 0,2)),P==null||_==Array&&p(P))for(g=new _(u=b(x.length));N<u;N++)w=S?E(x[N],N):x[N],v(g,N,w);else for(l=(d=P.call(x)).next,g=new _;!(y=l.call(d)).done;N++)w=S?s(d,E,[y.value,N],!0):y.value,v(g,N,w);return g.length=N,g}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,m,c){function a(b){return function(v,i,f){var u,g=h(v),y=s(g.length),d=p(f,y);if(b&&i!=i){for(;d<y;)if((u=g[d++])!=u)return!0}else for(;d<y;d++)if((b||d in g)&&g[d]===i)return b||d||0;return!b&&-1}}var h=t("../internals/to-indexed-object"),s=t("../internals/to-length"),p=t("../internals/to-absolute-index");m.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,m,c){function a(f){var u=f==1,g=f==2,y=f==3,d=f==4,l=f==6,w=f==5||l;return function(x,_,T,E){for(var S,P,N=p(x),C=s(N),I=h(_,T,3),L=b(C.length),F=0,_=E||v,D=u?_(x,L):g?_(x,0):void 0;F<L;F++)if((w||F in C)&&(P=I(S=C[F],F,N),f)){if(u)D[F]=P;else if(P)switch(f){case 3:return!0;case 5:return S;case 6:return F;case 2:i.call(D,S)}else if(d)return!1}return l?-1:y||d?d:D}}var h=t("../internals/function-bind-context"),s=t("../internals/indexed-object"),p=t("../internals/to-object"),b=t("../internals/to-length"),v=t("../internals/array-species-create"),i=[].push;m.exports={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(f,m,c){var a=f("../internals/to-indexed-object"),h=f("../internals/to-integer"),s=f("../internals/to-length"),i=f("../internals/array-method-is-strict"),f=f("../internals/array-method-uses-to-length"),p=Math.min,b=[].lastIndexOf,v=!!b&&1/[1].lastIndexOf(1,-0)<0,i=i("lastIndexOf"),f=f("indexOf",{ACCESSORS:!0,1:0});m.exports=v||!i||!f?function(u){if(v)return b.apply(this,arguments)||0;var g=a(this),y=s(g.length),d=y-1;for((d=1<arguments.length?p(d,h(arguments[1])):d)<0&&(d=y+d);0<=d;d--)if(d in g&&g[d]===u)return d||0;return-1}:b},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,m,c){var a=t("../internals/fails"),h=t("../internals/well-known-symbol"),s=t("../internals/engine-v8-version"),p=h("species");m.exports=function(b){return 51<=s||!a(function(){var v=[];return(v.constructor={})[p]=function(){return{foo:1}},v[b](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,m,c){var a=t("../internals/fails");m.exports=function(h,s){var p=[][h];return!!p&&a(function(){p.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,m,c){function a(i){throw i}var h=t("../internals/descriptors"),s=t("../internals/fails"),p=t("../internals/has"),b=Object.defineProperty,v={};m.exports=function(i,f){var u,g,y,d;return p(v,i)?v[i]:(u=[][i],g=!!p(f=f||{},"ACCESSORS")&&f.ACCESSORS,y=p(f,0)?f[0]:a,d=p(f,1)?f[1]:void 0,v[i]=!!u&&!s(function(){if(g&&!h)return!0;var l={length:-1};g?b(l,1,{enumerable:!0,get:a}):l[1]=1,u.call(l,y,d)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,m,c){function a(v){return function(i,f,u,g){h(f);var y=s(i),d=p(y),l=b(y.length),w=v?l-1:0,x=v?-1:1;if(u<2)for(;;){if(w in d){g=d[w],w+=x;break}if(w+=x,v?w<0:l<=w)throw TypeError("Reduce of empty array with no initial value")}for(;v?0<=w:w<l;w+=x)w in d&&(g=f(g,d[w],w,y));return g}}var h=t("../internals/a-function"),s=t("../internals/to-object"),p=t("../internals/indexed-object"),b=t("../internals/to-length");m.exports={left:a(!1),right:a(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,m,c){var a=t("../internals/is-object"),h=t("../internals/is-array"),s=t("../internals/well-known-symbol")("species");m.exports=function(p,b){var v;return new((v=h(p)&&(typeof(v=p.constructor)=="function"&&(v===Array||h(v.prototype))||a(v)&&(v=v[s])===null)?void 0:v)===void 0?Array:v)(b===0?0:b)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,m,c){var a=t("../internals/an-object");m.exports=function(h,s,p,b){try{return b?s(a(p)[0],p[1]):s(p)}catch(v){throw b=h.return,b!==void 0&&a(b.call(h)),v}}},{"../internals/an-object":10}],27:[function(t,m,c){var a=t("../internals/well-known-symbol")("iterator"),h=!1;try{var s=0,p={next:function(){return{done:!!s++}},return:function(){h=!0}};p[a]=function(){return this},Array.from(p,function(){throw 2})}catch{}m.exports=function(b,v){if(!v&&!h)return!1;var i=!1;try{var f={};f[a]=function(){return{next:function(){return{done:i=!0}}}},b(f)}catch{}return i}},{"../internals/well-known-symbol":150}],28:[function(t,m,c){var a={}.toString;m.exports=function(h){return a.call(h).slice(8,-1)}},{}],29:[function(t,m,c){var a=t("../internals/to-string-tag-support"),h=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),p=h(function(){return arguments}())=="Arguments";m.exports=a?h:function(b){var v;return b===void 0?"Undefined":b===null?"Null":typeof(v=function(i,f){try{return i[f]}catch{}}(b=Object(b),s))=="string"?v:p?h(b):(v=h(b))=="Object"&&typeof b.callee=="function"?"Arguments":v}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(y,m,c){var a=y("../internals/object-define-property").f,h=y("../internals/object-create"),s=y("../internals/redefine-all"),p=y("../internals/function-bind-context"),b=y("../internals/an-instance"),v=y("../internals/iterate"),i=y("../internals/define-iterator"),f=y("../internals/set-species"),u=y("../internals/descriptors"),g=y("../internals/internal-metadata").fastKey,y=y("../internals/internal-state"),d=y.set,l=y.getterFor;m.exports={getConstructor:function(w,x,_,T){function E(C,I,L){var F,D=N(C),B=S(C,I);return B?B.value=L:(D.last=B={index:F=g(I,!0),key:I,value:L,previous:I=D.last,next:void 0,removed:!1},D.first||(D.first=B),I&&(I.next=B),u?D.size++:C.size++,F!=="F"&&(D.index[F]=B)),C}function S(F,I){var L,F=N(F),D=g(I);if(D!=="F")return F.index[D];for(L=F.first;L;L=L.next)if(L.key==I)return L}var P=w(function(C,I){b(C,P,x),d(C,{type:x,index:h(null),first:void 0,last:void 0,size:0}),u||(C.size=0),I!=null&&v(I,C[T],C,_)}),N=l(x);return s(P.prototype,{clear:function(){for(var C=N(this),I=C.index,L=C.first;L;)L.removed=!0,L.previous&&(L.previous=L.previous.next=void 0),delete I[L.index],L=L.next;C.first=C.last=void 0,u?C.size=0:this.size=0},delete:function(D){var I,L,F=N(this),D=S(this,D);return D&&(I=D.next,L=D.previous,delete F.index[D.index],D.removed=!0,L&&(L.next=I),I&&(I.previous=L),F.first==D&&(F.first=I),F.last==D&&(F.last=L),u?F.size--:this.size--),!!D},forEach:function(C){for(var I,L=N(this),F=p(C,1<arguments.length?arguments[1]:void 0,3);I=I?I.next:L.first;)for(F(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(C){return!!S(this,C)}}),s(P.prototype,_?{get:function(C){return C=S(this,C),C&&C.value},set:function(C,I){return E(this,C===0?0:C,I)}}:{add:function(C){return E(this,C=C===0?0:C,C)}}),u&&a(P.prototype,"size",{get:function(){return N(this).size}}),P},setStrong:function(w,x,_){var T=x+" Iterator",E=l(x),S=l(T);i(w,x,function(P,N){d(this,{type:T,target:P,state:E(P),kind:N,last:void 0})},function(){for(var P=S(this),N=P.kind,C=P.last;C&&C.removed;)C=C.previous;return P.target&&(P.last=C=C?C.next:P.state.first)?N=="keys"?{value:C.key,done:!1}:N=="values"?{value:C.value,done:!1}:{value:[C.key,C.value],done:!1}:{value:P.target=void 0,done:!0}},_?"entries":"values",!_,!0),f(x)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(d,m,c){function a(E){return E.frozen||(E.frozen=new h)}function h(){this.entries=[]}function s(E,S){return x(E.entries,function(P){return P[0]===S})}var p=d("../internals/redefine-all"),b=d("../internals/internal-metadata").getWeakData,v=d("../internals/an-object"),i=d("../internals/is-object"),f=d("../internals/an-instance"),u=d("../internals/iterate"),g=d("../internals/array-iteration"),y=d("../internals/has"),d=d("../internals/internal-state"),l=d.set,w=d.getterFor,x=g.find,_=g.findIndex,T=0;h.prototype={get:function(E){if(E=s(this,E),E)return E[1]},has:function(E){return!!s(this,E)},set:function(E,S){var P=s(this,E);P?P[1]=S:this.entries.push([E,S])},delete:function(E){var S=_(this.entries,function(P){return P[0]===E});return~S&&this.entries.splice(S,1),!!~S}},m.exports={getConstructor:function(E,S,P,N){function C(F,D,B){var $=L(F),V=b(v(D),!0);return V===!0?a($).set(D,B):V[$.id]=B,F}var I=E(function(F,D){f(F,I,S),l(F,{type:S,id:T++,frozen:void 0}),D!=null&&u(D,F[N],F,P)}),L=w(S);return p(I.prototype,{delete:function(F){var D,B=L(this);return!!i(F)&&((D=b(F))===!0?a(B).delete(F):D&&y(D,B.id)&&delete D[B.id])},has:function(F){var D,B=L(this);return!!i(F)&&((D=b(F))===!0?a(B).has(F):D&&y(D,B.id))}}),p(I.prototype,P?{get:function(F){var D,B=L(this);if(i(F))return(D=b(F))===!0?a(B).get(F):D?D[B.id]:void 0},set:function(F,D){return C(this,F,D)}}:{add:function(F){return C(this,F,!0)}}),I}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/global"),s=t("../internals/is-forced"),p=t("../internals/redefine"),b=t("../internals/internal-metadata"),v=t("../internals/iterate"),i=t("../internals/an-instance"),f=t("../internals/is-object"),u=t("../internals/fails"),g=t("../internals/check-correctness-of-iteration"),y=t("../internals/set-to-string-tag"),d=t("../internals/inherit-if-required");m.exports=function(l,w,x){function _(V){var H=D[V];p(D,V,V=="add"?function(X){return H.call(this,X===0?0:X),this}:V=="delete"?function(X){return!(I&&!f(X))&&H.call(this,X===0?0:X)}:V=="get"?function(X){return I&&!f(X)?void 0:H.call(this,X===0?0:X)}:V=="has"?function(X){return!(I&&!f(X))&&H.call(this,X===0?0:X)}:function(X,Q){return H.call(this,X===0?0:X,Q),this})}var T,E,S,P,N,C=l.indexOf("Map")!==-1,I=l.indexOf("Weak")!==-1,L=C?"set":"add",F=h[l],D=F&&F.prototype,B=F,$={};return s(l,typeof F!="function"||!(I||D.forEach&&!u(function(){new F().entries().next()})))?(B=x.getConstructor(w,l,C,L),b.REQUIRED=!0):s(l,!0)&&(E=(T=new B)[L](I?{}:-0,1)!=T,S=u(function(){T.has(1)}),P=g(function(V){new F(V)}),N=!I&&u(function(){for(var V=new F,H=5;H--;)V[L](H,H);return!V.has(-0)}),P||(((B=w(function(V,H){return i(V,B,l),V=d(new F,V,B),H!=null&&v(H,V[L],V,C),V})).prototype=D).constructor=B),(S||N)&&(_("delete"),_("has"),C&&_("get")),(N||E)&&_(L),I&&D.clear&&delete D.clear),$[l]=B,a({global:!0,forced:B!=F},$),y(B,l),I||x.setStrong(B,l,C),B}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,m,c){var a=t("../internals/has"),h=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),p=t("../internals/object-define-property");m.exports=function(b,v){for(var i=h(v),f=p.f,u=s.f,g=0;g<i.length;g++){var y=i[g];a(b,y)||f(b,y,u(v,y))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,m,c){var a=t("../internals/well-known-symbol")("match");m.exports=function(h){var s=/./;try{"/./"[h](s)}catch{try{return s[a]=!1,"/./"[h](s)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,m,c){t=t("../internals/fails"),m.exports=!t(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":51}],36:[function(t,m,c){var a=t("../internals/require-object-coercible"),h=/"/g;m.exports=function(i,p,b,v){var i=String(a(i)),f="<"+p;return b!==""&&(f+=" "+b+'="'+String(v).replace(h,"&quot;")+'"'),f+">"+i+"</"+p+">"}},{"../internals/require-object-coercible":115}],37:[function(t,m,c){function a(){return this}var h=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),p=t("../internals/create-property-descriptor"),b=t("../internals/set-to-string-tag"),v=t("../internals/iterators");m.exports=function(i,f,u){return f+=" Iterator",i.prototype=s(h,{next:p(1,u)}),b(i,f,!1,!0),v[f]=a,i}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,m,c){var a=t("../internals/descriptors"),h=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");m.exports=a?function(p,b,v){return h.f(p,b,s(1,v))}:function(p,b,v){return p[b]=v,p}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,m,c){m.exports=function(a,h){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:h}}},{}],40:[function(t,m,c){var a=t("../internals/to-primitive"),h=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");m.exports=function(p,b,v){b=a(b),b in p?h.f(p,b,s(0,v)):p[b]=v}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(d,m,c){function a(){return this}var h=d("../internals/export"),s=d("../internals/create-iterator-constructor"),p=d("../internals/object-get-prototype-of"),b=d("../internals/object-set-prototype-of"),v=d("../internals/set-to-string-tag"),i=d("../internals/create-non-enumerable-property"),f=d("../internals/redefine"),u=d("../internals/well-known-symbol"),g=d("../internals/is-pure"),y=d("../internals/iterators"),d=d("../internals/iterators-core"),l=d.IteratorPrototype,w=d.BUGGY_SAFARI_ITERATORS,x=u("iterator"),_="values",T="entries";m.exports=function(E,S,P,$,C,I,L){s(P,S,$);function F(M){if(M===C&&Q)return Q;if(!w&&M in H)return H[M];switch(M){case"keys":case _:case T:return function(){return new P(this,M)}}return function(){return new P(this)}}var D,B,$=S+" Iterator",V=!1,H=E.prototype,X=H[x]||H["@@iterator"]||C&&H[C],Q=!w&&X||F(C),se=S=="Array"&&H.entries||X;if(se&&(se=p(se.call(new E)),l!==Object.prototype&&se.next&&(g||p(se)===l||(b?b(se,l):typeof se[x]!="function"&&i(se,x,a)),v(se,$,!0,!0),g&&(y[$]=a))),C==_&&X&&X.name!==_&&(V=!0,Q=function(){return X.call(this)}),g&&!L||H[x]===Q||i(H,x,Q),y[S]=Q,C)if(D={values:F(_),keys:I?Q:F("keys"),entries:F(T)},L)for(B in D)!w&&!V&&B in H||f(H,B,D[B]);else h({target:S,proto:!0,forced:w||V},D);return D}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,m,c){var a=t("../internals/path"),h=t("../internals/has"),s=t("../internals/well-known-symbol-wrapped"),p=t("../internals/object-define-property").f;m.exports=function(b){var v=a.Symbol||(a.Symbol={});h(v,b)||p(v,b,{value:s.f(b)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,m,c){t=t("../internals/fails"),m.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(h,m,c){var a=h("../internals/global"),h=h("../internals/is-object"),s=a.document,p=h(s)&&h(s.createElement);m.exports=function(b){return p?s.createElement(b):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,m,c){m.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,m,c){t=t("../internals/engine-user-agent"),m.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,m,c){t=t("../internals/get-built-in"),m.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(s,m,c){var a,h,p=s("../internals/global"),s=s("../internals/engine-user-agent"),p=p.process,p=p&&p.versions,p=p&&p.v8;p?h=(a=p.split("."))[0]+a[1]:s&&(!(a=s.match(/Edge\/(\d+)/))||74<=a[1])&&(a=s.match(/Chrome\/(\d+)/))&&(h=a[1]),m.exports=h&&+h},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,m,c){m.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,m,c){var a=t("../internals/global"),h=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),p=t("../internals/redefine"),b=t("../internals/set-global"),v=t("../internals/copy-constructor-properties"),i=t("../internals/is-forced");m.exports=function(f,u){var g,y,d,l=f.target,w=f.global,x=f.stat,_=w?a:x?a[l]||b(l,{}):(a[l]||{}).prototype;if(_)for(g in u){if(y=u[g],d=f.noTargetGet?(d=h(_,g))&&d.value:_[g],!i(w?g:l+(x?".":"#")+g,f.forced)&&d!==void 0){if(typeof y==typeof d)continue;v(y,d)}(f.sham||d&&d.sham)&&s(y,"sham",!0),p(_,g,y,f)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,m,c){m.exports=function(a){try{return!!a()}catch{return!0}}},{}],52:[function(u,m,c){u("../modules/es.regexp.exec");var a=u("../internals/redefine"),h=u("../internals/fails"),s=u("../internals/well-known-symbol"),p=u("../internals/regexp-exec"),b=u("../internals/create-non-enumerable-property"),v=s("species"),i=!h(function(){var d=/./;return d.exec=function(){var l=[];return l.groups={a:"7"},l},"".replace(d,"$<a>")!=="7"}),f="a".replace(/./,"$0")==="$0",u=s("replace"),g=!!/./[u]&&/./[u]("a","$0")==="",y=!h(function(){var l=/(?:)/,d=l.exec,l=(l.exec=function(){return d.apply(this,arguments)},"ab".split(l));return l.length!==2||l[0]!=="a"||l[1]!=="b"});m.exports=function(d,l,w,x){var _,T,E=s(d),S=!h(function(){var N={};return N[E]=function(){return 7},""[d](N)!=7}),P=S&&!h(function(){var N=!1,C=/a/;return d==="split"&&((C={constructor:{}}).constructor[v]=function(){return C},C.flags="",C[E]=/./[E]),C.exec=function(){return N=!0,null},C[E](""),!N});S&&P&&(d!=="replace"||i&&f&&!g)&&(d!=="split"||y)||(_=/./[E],w=(P=w(E,""[d],function(N,C,I,L,F){return C.exec===p?S&&!F?{done:!0,value:_.call(C,I,L)}:{done:!0,value:N.call(I,C,L)}:{done:!1}},{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}))[0],T=P[1],a(String.prototype,d,w),a(RegExp.prototype,E,l==2?function(N,C){return T.call(N,this,C)}:function(N){return T.call(N,this)})),x&&b(RegExp.prototype[E],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,m,c){function a(b,v,i,f,u,g,y,d){for(var l,w=u,x=0,_=!!y&&p(y,d,3);x<f;){if(x in i){if(l=_?_(i[x],x,v):i[x],0<g&&h(l))w=a(b,v,l,s(l.length),w,g-1)-1;else{if(9007199254740991<=w)throw TypeError("Exceed the acceptable array length");b[w]=l}w++}x++}return w}var h=t("../internals/is-array"),s=t("../internals/to-length"),p=t("../internals/function-bind-context");m.exports=a},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,m,c){t=t("../internals/fails"),m.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,m,c){var a=t("../internals/a-function");m.exports=function(h,s,p){if(a(h),s===void 0)return h;switch(p){case 0:return function(){return h.call(s)};case 1:return function(b){return h.call(s,b)};case 2:return function(b,v){return h.call(s,b,v)};case 3:return function(b,v,i){return h.call(s,b,v,i)}}return function(){return h.apply(s,arguments)}}},{"../internals/a-function":5}],56:[function(t,m,c){var a=t("../internals/a-function"),h=t("../internals/is-object"),s=[].slice,p={};m.exports=Function.bind||function(b){var v=a(this),i=s.call(arguments,1),f=function(){var u=i.concat(s.call(arguments));if(this instanceof f){var g=v,y=u.length,d=u;if(!(y in p)){for(var l=[],w=0;w<y;w++)l[w]="a["+w+"]";p[y]=Function("C,a","return new C("+l.join(",")+")")}return p[y](g,d)}return v.apply(b,u)};return h(v.prototype)&&(f.prototype=v.prototype),f}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,m,c){function a(p){return typeof p=="function"?p:void 0}var h=t("../internals/path"),s=t("../internals/global");m.exports=function(p,b){return arguments.length<2?a(h[p])||a(s[p]):h[p]&&h[p][b]||s[p]&&s[p][b]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,m,c){var a=t("../internals/classof"),h=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");m.exports=function(p){if(p!=null)return p[s]||p["@@iterator"]||h[a(p)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,m,c){var a=t("../internals/an-object"),h=t("../internals/get-iterator-method");m.exports=function(s){var p=h(s);if(typeof p!="function")throw TypeError(String(s)+" is not iterable");return a(p.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,m,c){(function(a){function h(s){return s&&s.Math==Math&&s}m.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof a=="object"&&a)||Function("return this")()}).call(this,typeof li<"u"?li:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,m,c){var a={}.hasOwnProperty;m.exports=function(h,s){return a.call(h,s)}},{}],62:[function(t,m,c){m.exports={}},{}],63:[function(t,m,c){var a=t("../internals/global");m.exports=function(h,s){var p=a.console;p&&p.error&&(arguments.length===1?p.error(h):p.error(h,s))}},{"../internals/global":60}],64:[function(t,m,c){t=t("../internals/get-built-in"),m.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,m,c){var a=t("../internals/descriptors"),h=t("../internals/fails"),s=t("../internals/document-create-element");m.exports=!a&&!h(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,m,c){var a=Math.abs,h=Math.pow,s=Math.floor,p=Math.log,b=Math.LN2;m.exports={pack:function(v,i,w){var u,g,y,d=new Array(w),l=8*w-i-1,w=(1<<l)-1,x=w>>1,_=i===23?h(2,-24)-h(2,-77):0,T=v<0||v===0&&1/v<0?1:0,E=0;for((v=a(v))!=v||v===1/0?(g=v!=v?1:0,u=w):(u=s(p(v)/b),v*(y=h(2,-u))<1&&(u--,y*=2),2<=(v+=1<=u+x?_/y:_*h(2,1-x))*y&&(u++,y/=2),w<=u+x?(g=0,u=w):1<=u+x?(g=(v*y-1)*h(2,i),u+=x):(g=v*h(2,x-1)*h(2,i),u=0));8<=i;d[E++]=255&g,g/=256,i-=8);for(u=u<<i|g,l+=i;0<l;d[E++]=255&u,u/=256,l-=8);return d[--E]|=128*T,d},unpack:function(v,i){var f,u=v.length,w=8*u-i-1,g=(1<<w)-1,y=g>>1,d=w-7,l=u-1,w=v[l--],x=127&w;for(w>>=7;0<d;x=256*x+v[l],l--,d-=8);for(f=x&(1<<-d)-1,x>>=-d,d+=i;0<d;f=256*f+v[l],l--,d-=8);if(x===0)x=1-y;else{if(x===g)return f?NaN:w?-1/0:1/0;f+=h(2,i),x-=y}return(w?-1:1)*f*h(2,x-i)}}},{}],67:[function(t,m,c){var a=t("../internals/fails"),h=t("../internals/classof-raw"),s="".split;m.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(p){return h(p)=="String"?s.call(p,""):Object(p)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,m,c){var a=t("../internals/is-object"),h=t("../internals/object-set-prototype-of");m.exports=function(s,p,b){return h&&typeof(p=p.constructor)=="function"&&p!==b&&a(p=p.prototype)&&p!==b.prototype&&h(s,p),s}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(a,m,c){var a=a("../internals/shared-store"),h=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(s){return h.call(s)}),m.exports=a.inspectSource},{"../internals/shared-store":121}],70:[function(t,m,c){function a(d){b(d,f,{value:{objectID:"O"+ ++u,weakData:{}}})}var h=t("../internals/hidden-keys"),s=t("../internals/is-object"),p=t("../internals/has"),b=t("../internals/object-define-property").f,v=t("../internals/uid"),i=t("../internals/freezing"),f=v("meta"),u=0,g=Object.isExtensible||function(){return!0},y=m.exports={REQUIRED:!1,fastKey:function(d,l){if(!s(d))return typeof d=="symbol"?d:(typeof d=="string"?"S":"P")+d;if(!p(d,f)){if(!g(d))return"F";if(!l)return"E";a(d)}return d[f].objectID},getWeakData:function(d,l){if(!p(d,f)){if(!g(d))return!0;if(!l)return!1;a(d)}return d[f].weakData},onFreeze:function(d){return i&&y.REQUIRED&&g(d)&&!p(d,f)&&a(d),d}};h[f]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(w,m,c){var a,h,s,p,b,v,i,f,u=w("../internals/native-weak-map"),x=w("../internals/global"),g=w("../internals/is-object"),y=w("../internals/create-non-enumerable-property"),d=w("../internals/has"),l=w("../internals/shared-key"),w=w("../internals/hidden-keys"),x=x.WeakMap;i=u?(a=new x,h=a.get,s=a.has,p=a.set,b=function(_,T){return p.call(a,_,T),T},v=function(_){return h.call(a,_)||{}},function(_){return s.call(a,_)}):(w[f=l("state")]=!0,b=function(_,T){return y(_,f,T),T},v=function(_){return d(_,f)?_[f]:{}},function(_){return d(_,f)}),m.exports={set:b,get:v,has:i,enforce:function(_){return i(_)?v(_):b(_,{})},getterFor:function(_){return function(T){if(g(T)&&(T=v(T)).type===_)return T;throw TypeError("Incompatible receiver, "+_+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,m,c){var a=t("../internals/well-known-symbol"),h=t("../internals/iterators"),s=a("iterator"),p=Array.prototype;m.exports=function(b){return b!==void 0&&(h.Array===b||p[s]===b)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,m,c){var a=t("../internals/classof-raw");m.exports=Array.isArray||function(h){return a(h)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,m,c){function a(f,u){return(f=b[p(f)])==i||f!=v&&(typeof u=="function"?h(u):!!u)}var h=t("../internals/fails"),s=/#|\.prototype\./,p=a.normalize=function(f){return String(f).replace(s,".").toLowerCase()},b=a.data={},v=a.NATIVE="N",i=a.POLYFILL="P";m.exports=a},{"../internals/fails":51}],75:[function(t,m,c){m.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},{}],76:[function(t,m,c){m.exports=!1},{}],77:[function(t,m,c){var a=t("../internals/is-object"),h=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");m.exports=function(p){var b;return a(p)&&((b=p[s])!==void 0?!!b:h(p)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,m,c){function a(f,u){this.stopped=f,this.result=u}var h=t("../internals/an-object"),s=t("../internals/is-array-iterator-method"),p=t("../internals/to-length"),b=t("../internals/function-bind-context"),v=t("../internals/get-iterator-method"),i=t("../internals/call-with-safe-iteration-closing");(m.exports=function(f,u,g,y,d){var l,w,x,_,T,E,S=b(u,g,y?2:1);if(d)l=f;else{if(typeof(u=v(f))!="function")throw TypeError("Target is not iterable");if(s(u)){for(w=0,x=p(f.length);w<x;w++)if((_=y?S(h(E=f[w])[0],E[1]):S(f[w]))&&_ instanceof a)return _;return new a(!1)}l=u.call(f)}for(T=l.next;!(E=T.call(l)).done;)if(typeof(_=i(l,S,E.value,y))=="object"&&_&&_ instanceof a)return _;return new a(!1)}).stop=function(f){return new a(!0,f)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(v,m,c){var a,h,s=v("../internals/object-get-prototype-of"),p=v("../internals/create-non-enumerable-property"),b=v("../internals/has"),i=v("../internals/well-known-symbol"),v=v("../internals/is-pure"),i=i("iterator"),f=!1;[].keys&&("next"in(h=[].keys())?(s=s(s(h)))!==Object.prototype&&(a=s):f=!0),a==null&&(a={}),v||b(a,i)||p(a,i,function(){return this}),m.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:f}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,m,c){m.exports={}},{}],81:[function(t,m,c){m.exports=Math.sign||function(a){return(a=+a)==0||a!=a?a:a<0?-1:1}},{}],82:[function(y,m,c){var a,h,s,p,b,v,i,f,u=y("../internals/global"),T=y("../internals/object-get-own-property-descriptor").f,_=y("../internals/classof-raw"),g=y("../internals/task").set,y=y("../internals/engine-is-ios"),d=u.MutationObserver||u.WebKitMutationObserver,l=u.process,w=u.Promise,x=_(l)=="process",_=T(u,"queueMicrotask"),T=_&&_.value;T||(a=function(){var E,S;for(x&&(E=l.domain)&&E.exit();h;){S=h.fn,h=h.next;try{S()}catch(P){throw h?p():s=void 0,P}}s=void 0,E&&E.enter()},p=x?function(){l.nextTick(a)}:d&&!y?(b=!0,v=document.createTextNode(""),new d(a).observe(v,{characterData:!0}),function(){v.data=b=!b}):w&&w.resolve?(i=w.resolve(void 0),f=i.then,function(){f.call(i,a)}):function(){g.call(u,a)}),m.exports=T||function(E){E={fn:E,next:void 0},s&&(s.next=E),h||(h=E,p()),s=E}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,m,c){t=t("../internals/global"),m.exports=t.Promise},{"../internals/global":60}],84:[function(t,m,c){t=t("../internals/fails"),m.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,m,c){var a=t("../internals/fails"),h=t("../internals/well-known-symbol"),s=t("../internals/is-pure"),p=h("iterator");m.exports=!a(function(){var b=new URL("b?a=1&b=2&c=3","http://a"),v=b.searchParams,i="";return b.pathname="c%20d",v.forEach(function(f,u){v.delete("b"),i+=u+f}),s&&!b.toJSON||!v.sort||b.href!=="http://a/c%20d?a=1&c=3"||v.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!v[p]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||i!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(a,m,c){var h=a("../internals/global"),a=a("../internals/inspect-source"),h=h.WeakMap;m.exports=typeof h=="function"&&/native code/.test(a(h))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,m,c){function a(s){var p,b;this.promise=new s(function(v,i){if(p!==void 0||b!==void 0)throw TypeError("Bad Promise constructor");p=v,b=i}),this.resolve=h(p),this.reject=h(b)}var h=t("../internals/a-function");m.exports.f=function(s){return new a(s)}},{"../internals/a-function":5}],88:[function(t,m,c){var a=t("../internals/is-regexp");m.exports=function(h){if(a(h))throw TypeError("The method doesn't accept regular expressions");return h}},{"../internals/is-regexp":77}],89:[function(t,m,c){var a=t("../internals/global").isFinite;m.exports=Number.isFinite||function(h){return typeof h=="number"&&a(h)}},{"../internals/global":60}],90:[function(t,m,c){var a=t("../internals/descriptors"),h=t("../internals/fails"),s=t("../internals/object-keys"),p=t("../internals/object-get-own-property-symbols"),b=t("../internals/object-property-is-enumerable"),v=t("../internals/to-object"),i=t("../internals/indexed-object"),f=Object.assign,u=Object.defineProperty;m.exports=!f||h(function(){var g,y,d,l;return!(!a||f({b:1},f(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(y={},l="abcdefghijklmnopqrst",(g={})[d=Symbol()]=7,l.split("").forEach(function(w){y[w]=w}),f({},g)[d]!=7||s(f({},y)).join("")!=l)})?function(g,y){for(var d=v(g),l=arguments.length,w=1,x=p.f,_=b.f;w<l;)for(var T,E=i(arguments[w++]),S=x?s(E).concat(x(E)):s(E),P=S.length,N=0;N<P;)T=S[N++],a&&!_.call(E,T)||(d[T]=E[T]);return d}:f},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(u,m,c){function a(){}var h,s=u("../internals/an-object"),p=u("../internals/object-define-properties"),b=u("../internals/enum-bug-keys"),v=u("../internals/hidden-keys"),i=u("../internals/html"),f=u("../internals/document-create-element"),u=u("../internals/shared-key"),g="prototype",y="script",d=u("IE_PROTO"),l=function(x){return"<"+y+">"+x+"</"+y+">"},w=function(){try{h=document.domain&&new ActiveXObject("htmlfile")}catch{}w=h?((x=h).write(l("")),x.close(),_=x.parentWindow.Object,x=null,_):(x=f("iframe"),_="java"+y+":",x.style.display="none",i.appendChild(x),x.src=String(_),(_=x.contentWindow.document).open(),_.write(l("document.F=Object")),_.close(),_.F);for(var x,_,T=b.length;T--;)delete w[g][b[T]];return w()};v[d]=!0,m.exports=Object.create||function(x,_){var T;return x!==null?(a[g]=s(x),T=new a,a[g]=null,T[d]=x):T=w(),_===void 0?T:p(T,_)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,m,c){var a=t("../internals/descriptors"),h=t("../internals/object-define-property"),s=t("../internals/an-object"),p=t("../internals/object-keys");m.exports=a?Object.defineProperties:function(b,v){s(b);for(var i,f=p(v),u=f.length,g=0;g<u;)h.f(b,i=f[g++],v[i]);return b}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,m,c){var a=t("../internals/descriptors"),h=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),p=t("../internals/to-primitive"),b=Object.defineProperty;c.f=a?b:function(v,i,f){if(s(v),i=p(i,!0),s(f),h)try{return b(v,i,f)}catch{}if("get"in f||"set"in f)throw TypeError("Accessors not supported");return"value"in f&&(v[i]=f.value),v}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,m,c){var a=t("../internals/descriptors"),h=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),p=t("../internals/to-indexed-object"),b=t("../internals/to-primitive"),v=t("../internals/has"),i=t("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;c.f=a?f:function(u,g){if(u=p(u),g=b(g,!0),i)try{return f(u,g)}catch{}if(v(u,g))return s(!h.f.call(u,g),u[g])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,m,c){var a=t("../internals/to-indexed-object"),h=t("../internals/object-get-own-property-names").f,s={}.toString,p=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];m.exports.f=function(b){if(!p||s.call(b)!="[object Window]")return h(a(b));try{return h(b)}catch{return p.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,m,c){var a=t("../internals/object-keys-internal"),h=t("../internals/enum-bug-keys").concat("length","prototype");c.f=Object.getOwnPropertyNames||function(s){return a(s,h)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,m,c){c.f=Object.getOwnPropertySymbols},{}],98:[function(p,m,c){var a=p("../internals/has"),h=p("../internals/to-object"),s=p("../internals/shared-key"),p=p("../internals/correct-prototype-getter"),b=s("IE_PROTO"),v=Object.prototype;m.exports=p?Object.getPrototypeOf:function(i){return i=h(i),a(i,b)?i[b]:typeof i.constructor=="function"&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?v:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,m,c){var a=t("../internals/has"),h=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,p=t("../internals/hidden-keys");m.exports=function(b,v){var i,f=h(b),u=0,g=[];for(i in f)!a(p,i)&&a(f,i)&&g.push(i);for(;v.length>u;)!a(f,i=v[u++])||~s(g,i)||g.push(i);return g}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,m,c){var a=t("../internals/object-keys-internal"),h=t("../internals/enum-bug-keys");m.exports=Object.keys||function(s){return a(s,h)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,m,c){var a={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,s=h&&!a.call({1:2},1);c.f=s?function(p){return p=h(this,p),!!p&&p.enumerable}:a},{}],102:[function(t,m,c){var a=t("../internals/an-object"),h=t("../internals/a-possible-prototype");m.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,p=!1,b={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(b,[]),p=b instanceof Array}catch{}return function(v,i){return a(v),h(i),p?s.call(v,i):v.__proto__=i,v}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,m,c){function a(v){return function(i){for(var f,u=p(i),g=s(u),y=g.length,d=0,l=[];d<y;)f=g[d++],h&&!b.call(u,f)||l.push(v?[f,u[f]]:u[f]);return l}}var h=t("../internals/descriptors"),s=t("../internals/object-keys"),p=t("../internals/to-indexed-object"),b=t("../internals/object-property-is-enumerable").f;m.exports={entries:a(!0),values:a(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,m,c){var a=t("../internals/to-string-tag-support"),h=t("../internals/classof");m.exports=a?{}.toString:function(){return"[object "+h(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,m,c){var a=t("../internals/get-built-in"),h=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),p=t("../internals/an-object");m.exports=a("Reflect","ownKeys")||function(b){var v=h.f(p(b)),i=s.f;return i?v.concat(i(b)):v}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,m,c){t=t("../internals/global"),m.exports=t},{"../internals/global":60}],107:[function(t,m,c){m.exports=function(a){try{return{error:!1,value:a()}}catch(h){return{error:!0,value:h}}}},{}],108:[function(t,m,c){var a=t("../internals/an-object"),h=t("../internals/is-object"),s=t("../internals/new-promise-capability");m.exports=function(p,b){return a(p),h(b)&&b.constructor===p?b:((0,(p=s.f(p)).resolve)(b),p.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,m,c){var a=t("../internals/redefine");m.exports=function(h,s,p){for(var b in s)a(h,b,s[b],p);return h}},{"../internals/redefine":110}],110:[function(v,m,c){var a=v("../internals/global"),h=v("../internals/create-non-enumerable-property"),s=v("../internals/has"),p=v("../internals/set-global"),b=v("../internals/inspect-source"),v=v("../internals/internal-state"),i=v.get,f=v.enforce,u=String(String).split("String");(m.exports=function(g,y,d,_){var w=!!_&&!!_.unsafe,x=!!_&&!!_.enumerable,_=!!_&&!!_.noTargetGet;typeof d=="function"&&(typeof y!="string"||s(d,"name")||h(d,"name",y),f(d).source=u.join(typeof y=="string"?y:"")),g===a?x?g[y]=d:p(y,d):(w?!_&&g[y]&&(x=!0):delete g[y],x?g[y]=d:h(g,y,d))})(Function.prototype,"toString",function(){return typeof this=="function"&&i(this).source||b(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,m,c){var a=t("./classof-raw"),h=t("./regexp-exec");m.exports=function(s,p){var b=s.exec;if(typeof b=="function"){if(b=b.call(s,p),typeof b!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return b}if(a(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return h.call(s,p)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(p,m,c){var a,h,s=p("./regexp-flags"),p=p("./regexp-sticky-helpers"),b=RegExp.prototype.exec,v=String.prototype.replace,i=b,f=(a=/a/,h=/b*/g,b.call(a,"a"),b.call(h,"a"),a.lastIndex!==0||h.lastIndex!==0),u=p.UNSUPPORTED_Y||p.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0;m.exports=i=f||g||u?function(y){var d,l,w,x,_=this,T=u&&_.sticky,E=s.call(_),S=_.source,P=0,N=y;return T&&((E=E.replace("y","")).indexOf("g")===-1&&(E+="g"),N=String(y).slice(_.lastIndex),0<_.lastIndex&&(!_.multiline||_.multiline&&y[_.lastIndex-1]!==`
`)&&(S="(?: "+S+")",N=" "+N,P++),l=new RegExp("^(?:"+S+")",E)),g&&(l=new RegExp("^"+S+"$(?!\\s)",E)),f&&(d=_.lastIndex),w=b.call(T?l:_,N),T?w?(w.input=w.input.slice(P),w[0]=w[0].slice(P),w.index=_.lastIndex,_.lastIndex+=w[0].length):_.lastIndex=0:f&&w&&(_.lastIndex=_.global?w.index+w[0].length:d),g&&w&&1<w.length&&v.call(w[0],l,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(w[x]=void 0)}),w}:i},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,m,c){var a=t("../internals/an-object");m.exports=function(){var h=a(this),s="";return h.global&&(s+="g"),h.ignoreCase&&(s+="i"),h.multiline&&(s+="m"),h.dotAll&&(s+="s"),h.unicode&&(s+="u"),h.sticky&&(s+="y"),s}},{"../internals/an-object":10}],114:[function(t,m,c){t=t("./fails");function a(h,s){return RegExp(h,s)}c.UNSUPPORTED_Y=t(function(){var h=a("a","y");return h.lastIndex=2,h.exec("abcd")!=null}),c.BROKEN_CARET=t(function(){var h=a("^r","gy");return h.lastIndex=2,h.exec("str")!=null})},{"./fails":51}],115:[function(t,m,c){m.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},{}],116:[function(t,m,c){m.exports=Object.is||function(a,h){return a===h?a!==0||1/a==1/h:a!=a&&h!=h}},{}],117:[function(t,m,c){var a=t("../internals/global"),h=t("../internals/create-non-enumerable-property");m.exports=function(s,p){try{h(a,s,p)}catch{a[s]=p}return p}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,m,c){var a=t("../internals/get-built-in"),h=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),p=t("../internals/descriptors"),b=s("species");m.exports=function(i){var i=a(i),f=h.f;p&&i&&!i[b]&&f(i,b,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,m,c){var a=t("../internals/object-define-property").f,h=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");m.exports=function(p,b,v){p&&!h(p=v?p:p.prototype,s)&&a(p,s,{configurable:!0,value:b})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,m,c){var a=t("../internals/shared"),h=t("../internals/uid"),s=a("keys");m.exports=function(p){return s[p]||(s[p]=h(p))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(a,m,c){var s=a("../internals/global"),a=a("../internals/set-global"),h="__core-js_shared__",s=s[h]||a(h,{});m.exports=s},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,m,c){var a=t("../internals/is-pure"),h=t("../internals/shared-store");(m.exports=function(s,p){return h[s]||(h[s]=p!==void 0?p:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,m,c){var a=t("../internals/an-object"),h=t("../internals/a-function"),s=t("../internals/well-known-symbol")("species");m.exports=function(v,b){var v=a(v).constructor;return v===void 0||(v=a(v)[s])==null?b:h(v)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,m,c){var a=t("../internals/fails");m.exports=function(h){return a(function(){var s=""[h]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],125:[function(t,m,c){function a(p){return function(f,u){var i,f=String(s(f)),u=h(u),g=f.length;return u<0||g<=u?p?"":void 0:(i=f.charCodeAt(u))<55296||56319<i||u+1===g||(g=f.charCodeAt(u+1))<56320||57343<g?p?f.charAt(u):i:p?f.slice(u,u+2):g-56320+(i-55296<<10)+65536}}var h=t("../internals/to-integer"),s=t("../internals/require-object-coercible");m.exports={codeAt:a(!1),charAt:a(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,m,c){t=t("../internals/engine-user-agent"),m.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,m,c){function a(v){return function(g,l,d){var g=String(p(g)),y=g.length,d=d===void 0?" ":String(d),l=h(l);return l<=y||d==""?g:((y=s.call(d,b((l=l-y)/d.length))).length>l&&(y=y.slice(0,l)),v?g+y:y+g)}}var h=t("../internals/to-length"),s=t("../internals/string-repeat"),p=t("../internals/require-object-coercible"),b=Math.ceil;m.exports={start:a(!1),end:a(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,m,c){function a(w){return w+22+75*(w<26)}function h(w){var x,_=[],T=(w=function(X){for(var Q=[],se=0,M=X.length;se<M;){var R,z=X.charCodeAt(se++);55296<=z&&z<=56319&&se<M?(64512&(R=X.charCodeAt(se++)))==56320?Q.push(((1023&z)<<10)+(1023&R)+65536):(Q.push(z),se--):Q.push(z)}return Q}(w)).length,E=128,S=0,P=72;for(L=0;L<w.length;L++)(x=w[L])<128&&_.push(l(x));var N=_.length,C=N;for(N&&_.push("-");C<T;){for(var I=s,L=0;L<w.length;L++)E<=(x=w[L])&&x<I&&(I=x);var F=C+1;if(I-E>d((s-S)/F))throw RangeError(g);for(S+=(I-E)*F,E=I,L=0;L<w.length;L++){if((x=w[L])<E&&++S>s)throw RangeError(g);if(x==E){for(var D=S,B=p;;B+=p){var $=B<=P?1:P+b<=B?b:B-P;if(D<$)break;var V=D-$,H=p-$;_.push(l(a($+V%H))),D=d(V/H)}_.push(l(a(D))),P=function(X,Q,se){var M=0;for(X=se?d(X/i):X>>1,X+=d(X/Q);y*b>>1<X;M+=p)X=d(X/y);return d(M+(y+1)*X/(X+v))}(S,F,C==N),S=0,++C}}++S,++E}return _.join("")}var s=2147483647,p=36,b=26,v=38,i=700,f=/[^\0-\u007E]/,u=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",y=p-1,d=Math.floor,l=String.fromCharCode;m.exports=function(w){for(var x,_=[],T=w.toLowerCase().replace(u,".").split("."),E=0;E<T.length;E++)x=T[E],_.push(f.test(x)?"xn--"+h(x):x);return _.join(".")}},{}],129:[function(t,m,c){var a=t("../internals/to-integer"),h=t("../internals/require-object-coercible");m.exports="".repeat||function(s){var p=String(h(this)),b="",v=a(s);if(v<0||v==1/0)throw RangeError("Wrong number of repetitions");for(;0<v;(v>>>=1)&&(p+=p))1&v&&(b+=p);return b}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,m,c){var a=t("../internals/fails"),h=t("../internals/whitespaces");m.exports=function(s){return a(function(){return!!h[s]()||"​᠎"[s]()!="​᠎"||h[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(s,m,c){function a(v){return function(i){return i=String(h(i)),1&v&&(i=i.replace(p,"")),i=2&v?i.replace(b,""):i}}var h=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",p=RegExp("^"+s+s+"*"),b=RegExp(s+s+"*$");m.exports={start:a(1),end:a(2),trim:a(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(y,m,c){function a(C){return function(){N(C)}}function h(C){N(C.data)}function s(C){b.postMessage(C+"",d.protocol+"//"+d.host)}var p,b=y("../internals/global"),v=y("../internals/fails"),i=y("../internals/classof-raw"),f=y("../internals/function-bind-context"),u=y("../internals/html"),g=y("../internals/document-create-element"),y=y("../internals/engine-is-ios"),d=b.location,l=b.setImmediate,w=b.clearImmediate,x=b.process,_=b.MessageChannel,T=b.Dispatch,E=0,S={},P="onreadystatechange",N=function(C){var I;S.hasOwnProperty(C)&&(I=S[C],delete S[C],I())};l&&w||(l=function(C){for(var I=[],L=1;L<arguments.length;)I.push(arguments[L++]);return S[++E]=function(){(typeof C=="function"?C:Function(C)).apply(void 0,I)},p(E),E},w=function(C){delete S[C]},i(x)=="process"?p=function(C){x.nextTick(a(C))}:T&&T.now?p=function(C){T.now(a(C))}:_&&!y?(y=(i=new _).port2,i.port1.onmessage=h,p=f(y.postMessage,y,1)):!b.addEventListener||typeof postMessage!="function"||b.importScripts||v(s)||d.protocol==="file:"?p=P in g("script")?function(C){u.appendChild(g("script"))[P]=function(){u.removeChild(this),N(C)}}:function(C){setTimeout(a(C),0)}:(p=s,b.addEventListener("message",h,!1))),m.exports={set:l,clear:w}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,m,c){var a=t("../internals/classof-raw");m.exports=function(h){if(typeof h!="number"&&a(h)!="Number")throw TypeError("Incorrect invocation");return+h}},{"../internals/classof-raw":28}],134:[function(t,m,c){var a=t("../internals/to-integer"),h=Math.max,s=Math.min;m.exports=function(p,b){return p=a(p),p<0?h(p+b,0):s(p,b)}},{"../internals/to-integer":137}],135:[function(t,m,c){var a=t("../internals/to-integer"),h=t("../internals/to-length");m.exports=function(p){if(p===void 0)return 0;var p=a(p),b=h(p);if(p!==b)throw RangeError("Wrong length or index");return b}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,m,c){var a=t("../internals/indexed-object"),h=t("../internals/require-object-coercible");m.exports=function(s){return a(h(s))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,m,c){var a=Math.ceil,h=Math.floor;m.exports=function(s){return isNaN(s=+s)?0:(0<s?h:a)(s)}},{}],138:[function(t,m,c){var a=t("../internals/to-integer"),h=Math.min;m.exports=function(s){return 0<s?h(a(s),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,m,c){var a=t("../internals/require-object-coercible");m.exports=function(h){return Object(a(h))}},{"../internals/require-object-coercible":115}],140:[function(t,m,c){var a=t("../internals/to-positive-integer");m.exports=function(h,s){if(h=a(h),h%s)throw RangeError("Wrong offset");return h}},{"../internals/to-positive-integer":141}],141:[function(t,m,c){var a=t("../internals/to-integer");m.exports=function(h){if(h=a(h),h<0)throw RangeError("The argument can't be less than 0");return h}},{"../internals/to-integer":137}],142:[function(t,m,c){var a=t("../internals/is-object");m.exports=function(h,s){if(!a(h))return h;var p,b;if(s&&typeof(p=h.toString)=="function"&&!a(b=p.call(h))||typeof(p=h.valueOf)=="function"&&!a(b=p.call(h))||!s&&typeof(p=h.toString)=="function"&&!a(b=p.call(h)))return b;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,m,c){var a={};a[t("../internals/well-known-symbol")("toStringTag")]="z",m.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,m,c){function a(ge,ve){for(var je=0,De=ve.length,Te=new(ee(ge))(De);je<De;)Te[je]=ve[je++];return Te}function h(ge,ve){R(ge,ve,{get:function(){return se(this)[ve]}})}function s(ge){return ge instanceof te||(ge=N(ge))=="ArrayBuffer"||ge=="SharedArrayBuffer"}function p(ge,ve){return de(ge)&&typeof ve!="symbol"&&ve in ge&&String(+ve)==String(ve)}function b(ge,ve){return p(ge,ve=S(ve,!0))?w(2,ge[ve]):z(ge,ve)}function v(ge,ve,je){return!(p(ge,ve=S(ve,!0))&&C(je)&&P(je,"value"))||P(je,"get")||P(je,"set")||je.configurable||P(je,"writable")&&!je.writable||P(je,"enumerable")&&!je.enumerable?R(ge,ve,je):(ge[ve]=je.value,ge)}var i=t("../internals/export"),f=t("../internals/global"),u=t("../internals/descriptors"),g=t("../internals/typed-array-constructors-require-wrappers"),y=t("../internals/array-buffer-view-core"),d=t("../internals/array-buffer"),l=t("../internals/an-instance"),w=t("../internals/create-property-descriptor"),x=t("../internals/create-non-enumerable-property"),_=t("../internals/to-length"),T=t("../internals/to-index"),E=t("../internals/to-offset"),S=t("../internals/to-primitive"),P=t("../internals/has"),N=t("../internals/classof"),C=t("../internals/is-object"),I=t("../internals/object-create"),L=t("../internals/object-set-prototype-of"),F=t("../internals/object-get-own-property-names").f,D=t("../internals/typed-array-from"),B=t("../internals/array-iteration").forEach,$=t("../internals/set-species"),V=t("../internals/object-define-property"),H=t("../internals/object-get-own-property-descriptor"),X=t("../internals/internal-state"),Q=t("../internals/inherit-if-required"),se=X.get,M=X.set,R=V.f,z=H.f,q=Math.round,Z=f.RangeError,te=d.ArrayBuffer,ie=d.DataView,he=y.NATIVE_ARRAY_BUFFER_VIEWS,oe=y.TYPED_ARRAY_TAG,fe=y.TypedArray,ce=y.TypedArrayPrototype,ee=y.aTypedArrayConstructor,de=y.isTypedArray,ye="BYTES_PER_ELEMENT",we="Wrong length";u?(he||(H.f=b,V.f=v,h(ce,"buffer"),h(ce,"byteOffset"),h(ce,"byteLength"),h(ce,"length")),i({target:"Object",stat:!0,forced:!he},{getOwnPropertyDescriptor:b,defineProperty:v}),m.exports=function(_e,ve,je){function De(Ee,J){R(Ee,J,{get:function(){var ne=this,K=J;return(ne=se(ne)).view[$e](K*Te+ne.byteOffset,!0)},set:function(ne){var K=this,ae=J;K=se(K),je&&(ne=(ne=q(ne))<0?0:255<ne?255:255&ne),K.view[We](ae*Te+K.byteOffset,ne,!0)},enumerable:!0})}var Te=_e.match(/\d+$/)[0]/8,tt=_e+(je?"Clamped":"")+"Array",$e="get"+_e,We="set"+_e,Ke=f[tt],Ye=Ke,_e=Ye&&Ye.prototype,Re={};he?g&&(Ye=ve(function(Ee,J,ne,K){return l(Ee,Ye,tt),Q(C(J)?s(J)?K!==void 0?new Ke(J,E(ne,Te),K):ne!==void 0?new Ke(J,E(ne,Te)):new Ke(J):de(J)?a(Ye,J):D.call(Ye,J):new Ke(T(J)),Ee,Ye)}),L&&L(Ye,fe),B(F(Ke),function(Ee){Ee in Ye||x(Ye,Ee,Ke[Ee])}),Ye.prototype=_e):(Ye=ve(function(Ee,J,ne,K){l(Ee,Ye,tt);var ae,be,ke=0,Le=0;if(C(J)){if(!s(J))return de(J)?a(Ye,J):D.call(Ye,J);var ze=J,Le=E(ne,Te),ne=J.byteLength;if(K===void 0){if(ne%Te||(ae=ne-Le)<0)throw Z(we)}else if(ne<(ae=_(K)*Te)+Le)throw Z(we);be=ae/Te}else be=T(J),ze=new te(ae=be*Te);for(M(Ee,{buffer:ze,byteOffset:Le,byteLength:ae,length:be,view:new ie(ze)});ke<be;)De(Ee,ke++)}),L&&L(Ye,fe),_e=Ye.prototype=I(ce)),_e.constructor!==Ye&&x(_e,"constructor",Ye),oe&&x(_e,oe,tt),Re[tt]=Ye,i({global:!0,forced:Ye!=Ke,sham:!he},Re),ye in Ye||x(Ye,ye,Te),ye in _e||x(_e,ye,Te),$(tt)}):m.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(p,m,c){var a=p("../internals/global"),h=p("../internals/fails"),s=p("../internals/check-correctness-of-iteration"),p=p("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,b=a.ArrayBuffer,v=a.Int8Array;m.exports=!p||!h(function(){v(1)})||!h(function(){new v(-1)})||!s(function(i){new v,new v(null),new v(1.5),new v(i)},!0)||h(function(){return new v(new b(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,m,c){var a=t("../internals/to-object"),h=t("../internals/to-length"),s=t("../internals/get-iterator-method"),p=t("../internals/is-array-iterator-method"),b=t("../internals/function-bind-context"),v=t("../internals/array-buffer-view-core").aTypedArrayConstructor;m.exports=function(i){var f,u,g,y,d,l,w=a(i),x=arguments.length,_=1<x?arguments[1]:void 0,T=_!==void 0,E=s(w);if(E!=null&&!p(E))for(l=(d=E.call(w)).next,w=[];!(y=l.call(d)).done;)w.push(y.value);for(T&&2<x&&(_=b(_,arguments[2],2)),u=h(w.length),g=new(v(this))(u),f=0;f<u;f++)g[f]=T?_(w[f],f):w[f];return g}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,m,c){var a=0,h=Math.random();m.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++a+h).toString(36)}},{}],148:[function(t,m,c){t=t("../internals/native-symbol"),m.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,m,c){t=t("../internals/well-known-symbol"),c.f=t},{"../internals/well-known-symbol":150}],150:[function(v,m,c){var a=v("../internals/global"),h=v("../internals/shared"),s=v("../internals/has"),p=v("../internals/uid"),b=v("../internals/native-symbol"),v=v("../internals/use-symbol-as-uid"),i=h("wks"),f=a.Symbol,u=v?f:f&&f.withoutSetter||p;m.exports=function(g){return s(i,g)||(b&&s(f,g)?i[g]=f[g]:i[g]=u("Symbol."+g)),i[g]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,m,c){m.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],152:[function(s,m,c){var a=s("../internals/export"),h=s("../internals/global"),b=s("../internals/array-buffer"),s=s("../internals/set-species"),p="ArrayBuffer",b=b[p];a({global:!0,forced:h[p]!==b},{ArrayBuffer:b}),s(p)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(w,m,c){var a=w("../internals/export"),h=w("../internals/fails"),s=w("../internals/is-array"),p=w("../internals/is-object"),b=w("../internals/to-object"),v=w("../internals/to-length"),i=w("../internals/create-property"),f=w("../internals/array-species-create"),u=w("../internals/array-method-has-species-support"),l=w("../internals/well-known-symbol"),w=w("../internals/engine-v8-version"),g=l("isConcatSpreadable"),y=9007199254740991,d="Maximum allowed index exceeded",l=51<=w||!h(function(){var x=[];return x[g]=!1,x.concat()[0]!==x}),w=u("concat");a({target:"Array",proto:!0,forced:!l||!w},{concat:function(x){for(var _,T,E,S,P,N=b(this),C=f(N,0),I=0,L=-1,F=arguments.length;L<F;L++)if(P=void 0,!p(S=E=L===-1?N:arguments[L])||((P=S[g])!==void 0?!P:!s(S))){if(y<=I)throw TypeError(d);i(C,I++,E)}else{if(T=v(E.length),y<I+T)throw TypeError(d);for(_=0;_<T;_++,I++)_ in E&&i(C,I,E[_])}return C.length=I,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(s,m,c){var a=s("../internals/export"),h=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");a({target:"Array",proto:!0},{copyWithin:h}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(p,m,c){var a=p("../internals/export"),h=p("../internals/array-iteration").every,s=p("../internals/array-method-is-strict"),p=p("../internals/array-method-uses-to-length"),s=s("every"),p=p("every");a({target:"Array",proto:!0,forced:!s||!p},{every:function(b){return h(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(s,m,c){var a=s("../internals/export"),h=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");a({target:"Array",proto:!0},{fill:h}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(p,m,c){var a=p("../internals/export"),h=p("../internals/array-iteration").filter,s=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),s=s("filter"),p=p("filter");a({target:"Array",proto:!0,forced:!s||!p},{filter:function(b){return h(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(v,m,c){var a=v("../internals/export"),h=v("../internals/array-iteration").findIndex,s=v("../internals/add-to-unscopables"),v=v("../internals/array-method-uses-to-length"),p="findIndex",b=!0,v=v(p);p in[]&&Array(1)[p](function(){b=!1}),a({target:"Array",proto:!0,forced:b||!v},{findIndex:function(i){return h(this,i,1<arguments.length?arguments[1]:void 0)}}),s(p)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/flatten-into-array"),s=t("../internals/to-object"),p=t("../internals/to-length"),b=t("../internals/a-function"),v=t("../internals/array-species-create");a({target:"Array",proto:!0},{flatMap:function(i){var f,u=s(this),g=p(u.length);return b(i),(f=v(u,0)).length=h(f,u,u,g,0,1,i,1<arguments.length?arguments[1]:void 0),f}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/flatten-into-array"),s=t("../internals/to-object"),p=t("../internals/to-length"),b=t("../internals/to-integer"),v=t("../internals/array-species-create");a({target:"Array",proto:!0},{flat:function(){var i=arguments.length?arguments[0]:void 0,f=s(this),u=p(f.length),g=v(f,0);return g.length=h(g,f,f,u,0,i===void 0?1:b(i)),g}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(h,m,c){var a=h("../internals/export"),h=h("../internals/array-for-each");a({target:"Array",proto:!0,forced:[].forEach!=h},{forEach:h})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/array-from");a({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:h})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/array-includes").includes,s=t("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(p){return h(this,p,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(v,m,c){var a=v("../internals/export"),h=v("../internals/array-includes").indexOf,b=v("../internals/array-method-is-strict"),v=v("../internals/array-method-uses-to-length"),s=[].indexOf,p=!!s&&1/[1].indexOf(1,-0)<0,b=b("indexOf"),v=v("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:p||!b||!v},{indexOf:function(i){return p?s.apply(this,arguments)||0:h(this,i,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(b,m,c){var a=b("../internals/to-indexed-object"),h=b("../internals/add-to-unscopables"),s=b("../internals/iterators"),p=b("../internals/internal-state"),b=b("../internals/define-iterator"),v="Array Iterator",i=p.set,f=p.getterFor(v);m.exports=b(Array,"Array",function(u,g){i(this,{type:v,target:a(u),index:0,kind:g})},function(){var u=f(this),g=u.target,y=u.kind,d=u.index++;return!g||d>=g.length?{value:u.target=void 0,done:!0}:y=="keys"?{value:d,done:!1}:y=="values"?{value:g[d],done:!1}:{value:[d,g[d]],done:!1}},"values"),s.Arguments=s.Array,h("keys"),h("values"),h("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(b,m,c){var a=b("../internals/export"),p=b("../internals/indexed-object"),h=b("../internals/to-indexed-object"),b=b("../internals/array-method-is-strict"),s=[].join,p=p!=Object,b=b("join",",");a({target:"Array",proto:!0,forced:p||!b},{join:function(v){return s.call(h(this),v===void 0?",":v)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(h,m,c){var a=h("../internals/export"),h=h("../internals/array-last-index-of");a({target:"Array",proto:!0,forced:h!==[].lastIndexOf},{lastIndexOf:h})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(p,m,c){var a=p("../internals/export"),h=p("../internals/array-iteration").map,s=p("../internals/array-method-has-species-support"),p=p("../internals/array-method-uses-to-length"),s=s("map"),p=p("map");a({target:"Array",proto:!0,forced:!s||!p},{map:function(b){return h(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(g,m,c){var a=g("../internals/export"),h=g("../internals/is-object"),s=g("../internals/is-array"),p=g("../internals/to-absolute-index"),b=g("../internals/to-length"),v=g("../internals/to-indexed-object"),i=g("../internals/create-property"),f=g("../internals/well-known-symbol"),u=g("../internals/array-method-has-species-support"),g=g("../internals/array-method-uses-to-length"),u=u("slice"),g=g("slice",{ACCESSORS:!0,0:0,1:2}),y=f("species"),d=[].slice,l=Math.max;a({target:"Array",proto:!0,forced:!u||!g},{slice:function(w,x){var _,T,E,S=v(this),P=b(S.length),N=p(w,P),C=p(x===void 0?P:x,P);if(s(S)&&((_=typeof(_=S.constructor)=="function"&&(_===Array||s(_.prototype))||h(_)&&(_=_[y])===null?void 0:_)===Array||_===void 0))return d.call(S,N,C);for(T=new(_===void 0?Array:_)(l(C-N,0)),E=0;N<C;N++,E++)N in S&&i(T,E,S[N]);return T.length=E,T}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(p,m,c){var a=p("../internals/export"),h=p("../internals/array-iteration").some,s=p("../internals/array-method-is-strict"),p=p("../internals/array-method-uses-to-length"),s=s("some"),p=p("some");a({target:"Array",proto:!0,forced:!s||!p},{some:function(b){return h(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(u,m,c){var a=u("../internals/export"),h=u("../internals/to-absolute-index"),s=u("../internals/to-integer"),p=u("../internals/to-length"),b=u("../internals/to-object"),v=u("../internals/array-species-create"),i=u("../internals/create-property"),f=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),f=f("splice"),u=u("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,y=Math.min;a({target:"Array",proto:!0,forced:!f||!u},{splice:function(I,l){var w,x,_,T,E,S,P=b(this),N=p(P.length),C=h(I,N),I=arguments.length;if(I===0?w=x=0:x=I===1?(w=0,N-C):(w=I-2,y(g(s(l),0),N-C)),9007199254740991<N+w-x)throw TypeError("Maximum allowed length exceeded");for(_=v(P,x),T=0;T<x;T++)(E=C+T)in P&&i(_,T,P[E]);if(w<(_.length=x)){for(T=C;T<N-x;T++)S=T+w,(E=T+x)in P?P[S]=P[E]:delete P[S];for(T=N;N-x+w<T;T--)delete P[T-1]}else if(x<w)for(T=N-x;C<T;T--)S=T+w-1,(E=T+x-1)in P?P[S]=P[E]:delete P[S];for(T=0;T<w;T++)P[T+C]=arguments[T+2];return P.length=N-x+w,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,m,c){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,m,c){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(h,m,c){var a=h("../internals/descriptors"),h=h("../internals/object-define-property").f,s=Function.prototype,p=s.toString,b=/^\s*function ([^ (]*)/;!a||"name"in s||h(s,"name",{configurable:!0,get:function(){try{return p.call(this).match(b)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(h,m,c){var a=h("../internals/collection"),h=h("../internals/collection-strong");m.exports=a("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},h)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(a,m,c){var a=a("../internals/export"),h=Math.hypot,s=Math.abs,p=Math.sqrt;a({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(b,v){for(var i,f,u=0,g=0,y=arguments.length,d=0;g<y;)d<(i=s(arguments[g++]))?(u=u*(f=d/i)*f+1,d=i):u+=0<i?(f=i/d)*f:i;return d===1/0?1/0:d*p(u)}})},{"../internals/export":50}],177:[function(a,m,c){var a=a("../internals/export"),h=Math.log,s=Math.LN2;a({target:"Math",stat:!0},{log2:function(p){return h(p)/s}})},{"../internals/export":50}],178:[function(t,m,c){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,m,c){function a(L){var F,D,B,$,V,H,X,Q=u(L,!1);if(typeof Q=="string"&&2<Q.length){if((L=(Q=x(Q)).charCodeAt(0))===43||L===45){if((F=Q.charCodeAt(2))===88||F===120)return NaN}else if(L===48){switch(Q.charCodeAt(1)){case 66:case 98:D=2,B=49;break;case 79:case 111:D=8,B=55;break;default:return+Q}for(V=($=Q.slice(2)).length,H=0;H<V;H++)if((X=$.charCodeAt(H))<48||B<X)return NaN;return parseInt($,D)}}return+Q}var h=t("../internals/descriptors"),s=t("../internals/global"),p=t("../internals/is-forced"),b=t("../internals/redefine"),v=t("../internals/has"),i=t("../internals/classof-raw"),f=t("../internals/inherit-if-required"),u=t("../internals/to-primitive"),g=t("../internals/fails"),y=t("../internals/object-create"),d=t("../internals/object-get-own-property-names").f,l=t("../internals/object-get-own-property-descriptor").f,w=t("../internals/object-define-property").f,x=t("../internals/string-trim").trim,_="Number",T=s[_],E=T.prototype,S=i(y(E))==_;if(p(_,!T(" 0o1")||!T("0b1")||T("+0x1"))){for(var P,N=function(F){var F=arguments.length<1?0:F,D=this;return D instanceof N&&(S?g(function(){E.valueOf.call(D)}):i(D)!=_)?f(new T(a(F)),D,N):a(F)},C=h?d(T):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;C.length>I;I++)v(T,P=C[I])&&!v(N,P)&&w(N,P,l(T,P));(N.prototype=E).constructor=N,b(s,_,N)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,m,c){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,m,c){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(v,m,c){function a(u,g,y){return g===0?y:g%2==1?a(u,g-1,y*u):a(u*u,g/2,y)}var h=v("../internals/export"),s=v("../internals/to-integer"),p=v("../internals/this-number-value"),b=v("../internals/string-repeat"),v=v("../internals/fails"),i=1 .toFixed,f=Math.floor;h({target:"Number",proto:!0,forced:i&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!v(function(){i.call({})})},{toFixed:function(_){function g(P,N){for(var C=-1,I=N;++C<6;)I+=P*T[C],T[C]=I%1e7,I=f(I/1e7)}function y(P){for(var N=6,C=0;0<=--N;)C+=T[N],T[N]=f(C/P),C=C%P*1e7}function d(){for(var P,N=6,C="";0<=--N;)C===""&&N!==0&&T[N]===0||(P=String(T[N]),C=C===""?P:C+b.call("0",7-P.length)+P);return C}var l,w,x=p(this),_=s(_),T=[0,0,0,0,0,0],E="",S="0";if(_<0||20<_)throw RangeError("Incorrect fraction digits");if(x!=x)return"NaN";if(x<=-1e21||1e21<=x)return String(x);if(x<0&&(E="-",x=-x),1e-21<x)if(x=(l=function(P){for(var N=0,C=P;4096<=C;)N+=12,C/=4096;for(;2<=C;)N+=1,C/=2;return N}(x*a(2,69,1))-69)<0?x*a(2,-l,1):x/a(2,l,1),x*=4503599627370496,0<(l=52-l)){for(g(0,x),w=_;7<=w;)g(1e7,0),w-=7;for(g(a(10,w,1),0),w=l-1;23<=w;)y(1<<23),w-=23;y(1<<w),g(1,1),y(2),S=d()}else g(0,x),g(1<<-l,0),S=d()+b.call("0",_);return S=0<_?E+((x=S.length)<=_?"0."+b.call("0",_-x)+S:S.slice(0,x-_)+"."+S.slice(x-_)):E+S}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(h,m,c){var a=h("../internals/export"),h=h("../internals/object-assign");a({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/object-to-array").entries;a({target:"Object",stat:!0},{entries:function(s){return h(s)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/iterate"),s=t("../internals/create-property");a({target:"Object",stat:!0},{fromEntries:function(p){var b={};return h(p,function(v,i){s(b,v,i)},void 0,!0),b}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(p,m,c){var a=p("../internals/export"),b=p("../internals/fails"),h=p("../internals/to-indexed-object"),s=p("../internals/object-get-own-property-descriptor").f,p=p("../internals/descriptors"),b=b(function(){s(1)});a({target:"Object",stat:!0,forced:!p||b,sham:!p},{getOwnPropertyDescriptor:function(v,i){return s(h(v),i)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(s,m,c){var a=s("../internals/export"),h=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;a({target:"Object",stat:!0,forced:h(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(b,m,c){var a=b("../internals/export"),h=b("../internals/fails"),s=b("../internals/to-object"),p=b("../internals/object-get-prototype-of"),b=b("../internals/correct-prototype-getter");a({target:"Object",stat:!0,forced:h(function(){p(1)}),sham:!b},{getPrototypeOf:function(v){return p(s(v))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/to-object"),s=t("../internals/object-keys");a({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(p){return s(h(p))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(s,m,c){var a=s("../internals/to-string-tag-support"),h=s("../internals/redefine"),s=s("../internals/object-to-string");a||h(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(je,m,c){var a,h,s,p,b=je("../internals/export"),v=je("../internals/is-pure"),i=je("../internals/global"),f=je("../internals/get-built-in"),u=je("../internals/native-promise-constructor"),g=je("../internals/redefine"),y=je("../internals/redefine-all"),d=je("../internals/set-to-string-tag"),l=je("../internals/set-species"),w=je("../internals/is-object"),x=je("../internals/a-function"),_=je("../internals/an-instance"),T=je("../internals/classof-raw"),E=je("../internals/inspect-source"),S=je("../internals/iterate"),P=je("../internals/check-correctness-of-iteration"),N=je("../internals/species-constructor"),C=je("../internals/task").set,I=je("../internals/microtask"),L=je("../internals/promise-resolve"),F=je("../internals/host-report-errors"),D=je("../internals/new-promise-capability"),B=je("../internals/perform"),$=je("../internals/internal-state"),V=je("../internals/is-forced"),De=je("../internals/well-known-symbol"),H=je("../internals/engine-v8-version"),X=De("species"),Q="Promise",se=$.get,M=$.set,R=$.getterFor(Q),z=u,q=i.TypeError,Z=i.document,te=i.process,ie=f("fetch"),he=D.f,oe=he,fe=T(te)=="process",ce=!!(Z&&Z.createEvent&&i.dispatchEvent),ee="unhandledrejection",de="rejectionhandled",ye=1,we=2,ge=1,ve=2,je=V(Q,function(){var Re,Ee;return E(z)===String(z)&&(H===66||!fe&&typeof PromiseRejectionEvent!="function")?!0:!(!v||z.prototype.finally)||!(51<=H&&/native code/.test(z))&&(Ee=function(J){J(function(){},function(){})},((Re=z.resolve(1)).constructor={})[X]=Ee,!(Re.then(function(){})instanceof Ee))}),De=je||!P(function(Re){z.all(Re).catch(function(){})}),Te=function(Re){var Ee;return!(!w(Re)||typeof(Ee=Re.then)!="function")&&Ee},tt=function(Re,Ee,J){var ne;Ee.notified||(Ee.notified=!0,ne=Ee.reactions,I(function(){for(var K,ae,be=Ee.value,ke=Ee.state==ye,Le=0;ne.length>Le;){var ze,Ve,qe,Qe=ne[Le++],ct=ke?Qe.ok:Qe.fail,lt=Qe.resolve,rt=Qe.reject,Fe=Qe.domain;try{ct?(ke||(Ee.rejection===ve&&function(Xe,ut){C.call(i,function(){fe?te.emit("rejectionHandled",Xe):$e(de,Xe,ut.value)})}(Re,Ee),Ee.rejection=ge),ct===!0?ze=be:(Fe&&Fe.enter(),ze=ct(be),Fe&&(Fe.exit(),qe=!0)),ze===Qe.promise?rt(q("Promise-chain cycle")):(Ve=Te(ze))?Ve.call(ze,lt,rt):lt(ze)):rt(be)}catch(Xe){Fe&&!qe&&Fe.exit(),rt(Xe)}}Ee.reactions=[],Ee.notified=!1,J&&!Ee.rejection&&(K=Re,ae=Ee,C.call(i,function(){var Xe=ae.value,ut=We(ae);if(ut&&(ut=B(function(){fe?te.emit("unhandledRejection",Xe,K):$e(ee,K,Xe)}),ae.rejection=fe||We(ae)?ve:ge,ut.error))throw ut.value}))}))},$e=function(Re,Ee,J){var ne;ce?((ne=Z.createEvent("Event")).promise=Ee,ne.reason=J,ne.initEvent(Re,!1,!0),i.dispatchEvent(ne)):ne={promise:Ee,reason:J},(Ee=i["on"+Re])?Ee(ne):Re===ee&&F("Unhandled promise rejection",J)},We=function(Re){return Re.rejection!==ge&&!Re.parent},Ke=function(Re,Ee,J,ne){return function(K){Re(Ee,J,K,ne)}},Ye=function(Re,Ee,J,ne){Ee.done||(Ee.done=!0,(Ee=ne||Ee).value=J,Ee.state=we,tt(Re,Ee,!0))},_e=function(Re,Ee,J,ne){if(!Ee.done){Ee.done=!0,ne&&(Ee=ne);try{if(Re===J)throw q("Promise can't be resolved itself");var K=Te(J);K?I(function(){var ae={done:!1};try{K.call(J,Ke(_e,Re,ae,Ee),Ke(Ye,Re,ae,Ee))}catch(be){Ye(Re,ae,be,Ee)}}):(Ee.value=J,Ee.state=ye,tt(Re,Ee,!1))}catch(ae){Ye(Re,{done:!1},ae,Ee)}}};je&&(z=function(Re){_(this,z,Q),x(Re),a.call(this);var Ee=se(this);try{Re(Ke(_e,this,Ee),Ke(Ye,this,Ee))}catch(J){Ye(this,Ee,J)}},(a=function(Re){M(this,{type:Q,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(z.prototype,{then:function(Re,Ee){var J=R(this),ne=he(N(this,z));return ne.ok=typeof Re!="function"||Re,ne.fail=typeof Ee=="function"&&Ee,ne.domain=fe?te.domain:void 0,J.parent=!0,J.reactions.push(ne),J.state!=0&&tt(this,J,!1),ne.promise},catch:function(Re){return this.then(void 0,Re)}}),h=function(){var Re=new a,Ee=se(Re);this.promise=Re,this.resolve=Ke(_e,Re,Ee),this.reject=Ke(Ye,Re,Ee)},D.f=he=function(Re){return Re===z||Re===s?new h:oe(Re)},v||typeof u!="function"||(p=u.prototype.then,g(u.prototype,"then",function(Re,Ee){var J=this;return new z(function(ne,K){p.call(J,ne,K)}).then(Re,Ee)},{unsafe:!0}),typeof ie=="function"&&b({global:!0,enumerable:!0,forced:!0},{fetch:function(Re){return L(z,ie.apply(i,arguments))}}))),b({global:!0,wrap:!0,forced:je},{Promise:z}),d(z,Q,!1,!0),l(Q),s=f(Q),b({target:Q,stat:!0,forced:je},{reject:function(Re){var Ee=he(this);return Ee.reject.call(void 0,Re),Ee.promise}}),b({target:Q,stat:!0,forced:v||je},{resolve:function(Re){return L(v&&this===s?z:this,Re)}}),b({target:Q,stat:!0,forced:De},{all:function(Re){var Ee=this,J=he(Ee),ne=J.resolve,K=J.reject,ae=B(function(){var be=x(Ee.resolve),ke=[],Le=0,ze=1;S(Re,function(Ve){var qe=Le++,Qe=!1;ke.push(void 0),ze++,be.call(Ee,Ve).then(function(ct){Qe||(Qe=!0,ke[qe]=ct,--ze||ne(ke))},K)}),--ze||ne(ke)});return ae.error&&K(ae.value),J.promise},race:function(Re){var Ee=this,J=he(Ee),ne=J.reject,K=B(function(){var ae=x(Ee.resolve);S(Re,function(be){ae.call(Ee,be).then(J.resolve,ne)})});return K.error&&ne(K.value),J.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(i,m,c){var a=i("../internals/export"),y=i("../internals/get-built-in"),h=i("../internals/a-function"),s=i("../internals/an-object"),p=i("../internals/is-object"),b=i("../internals/object-create"),v=i("../internals/function-bind"),i=i("../internals/fails"),f=y("Reflect","construct"),u=i(function(){function d(){}return!(f(function(){},[],d)instanceof d)}),g=!i(function(){f(function(){})}),y=u||g;a({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(d,l){h(d),s(l);var w=arguments.length<3?d:h(arguments[2]);if(g&&!u)return f(d,l,w);if(d==w){switch(l.length){case 0:return new d;case 1:return new d(l[0]);case 2:return new d(l[0],l[1]);case 3:return new d(l[0],l[1],l[2]);case 4:return new d(l[0],l[1],l[2],l[3])}var x=[null];return x.push.apply(x,l),new(v.apply(d,x))}return x=w.prototype,w=b(p(x)?x:Object.prototype),x=Function.apply.call(d,w,l),p(x)?x:w}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/is-object"),s=t("../internals/an-object"),p=t("../internals/has"),b=t("../internals/object-get-own-property-descriptor"),v=t("../internals/object-get-prototype-of");a({target:"Reflect",stat:!0},{get:function i(f,u){var g,y=arguments.length<3?f:arguments[2];return s(f)===y?f[u]:(g=b.f(f,u))?p(g,"value")?g.value:g.get===void 0?void 0:g.get.call(y):h(g=v(f))?i(g,u,y):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,m,c){var a=t("../internals/descriptors"),h=t("../internals/global"),s=t("../internals/is-forced"),p=t("../internals/inherit-if-required"),b=t("../internals/object-define-property").f,v=t("../internals/object-get-own-property-names").f,i=t("../internals/is-regexp"),f=t("../internals/regexp-flags"),u=t("../internals/regexp-sticky-helpers"),g=t("../internals/redefine"),y=t("../internals/fails"),d=t("../internals/internal-state").set,l=t("../internals/set-species"),w=t("../internals/well-known-symbol")("match"),x=h.RegExp,_=x.prototype,T=/a/g,E=/a/g,S=new x(T)!==T,P=u.UNSUPPORTED_Y;if(a&&s("RegExp",!S||P||y(function(){return E[w]=!1,x(T)!=T||x(E)==E||x(T,"i")!="/a/i"}))){for(var N=function(L,F){var D,B=this instanceof N,$=i(L),V=F===void 0;return!B&&$&&L.constructor===N&&V?L:(S?$&&!V&&(L=L.source):L instanceof N&&(V&&(F=f.call(L)),L=L.source),P&&(D=!!F&&-1<F.indexOf("y"))&&(F=F.replace(/y/g,"")),$=p(S?new x(L,F):x(L,F),B?this:_,N),P&&D&&d($,{sticky:D}),$)},C=v(x),I=0;C.length>I;)(function(L){L in N||b(N,L,{configurable:!0,get:function(){return x[L]},set:function(F){x[L]=F}})})(C[I++]);(_.constructor=N).prototype=_,g(h,"RegExp",N)}l("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(h,m,c){var a=h("../internals/export"),h=h("../internals/regexp-exec");a({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(p,m,c){var a=p("../internals/redefine"),h=p("../internals/an-object"),i=p("../internals/fails"),s=p("../internals/regexp-flags"),p="toString",b=RegExp.prototype,v=b[p],i=i(function(){return v.call({source:"a",flags:"b"})!="/a/b"}),f=v.name!=p;(i||f)&&a(RegExp.prototype,p,function(){var u=h(this),g=String(u.source),y=u.flags;return"/"+g+"/"+String(y===void 0&&u instanceof RegExp&&!("flags"in b)?s.call(u):y)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(h,m,c){var a=h("../internals/collection"),h=h("../internals/collection-strong");m.exports=a("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},h)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(v,m,c){var a=v("../internals/export"),h=v("../internals/object-get-own-property-descriptor").f,s=v("../internals/to-length"),p=v("../internals/not-a-regexp"),b=v("../internals/require-object-coercible"),u=v("../internals/correct-is-regexp-logic"),v=v("../internals/is-pure"),i="".endsWith,f=Math.min,u=u("endsWith");a({target:"String",proto:!0,forced:!!(v||u||!(a=h(String.prototype,"endsWith"))||a.writable)&&!u},{endsWith:function(g){var y=String(b(this)),d=(p(g),1<arguments.length?arguments[1]:void 0),l=s(y.length),d=d===void 0?l:f(s(d),l),l=String(g);return i?i.call(y,l,d):y.slice(d-l.length,d)===l}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible");a({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(p){return!!~String(s(this)).indexOf(h(p),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(s,m,c){var a=s("../internals/string-multibyte").charAt,h=s("../internals/internal-state"),s=s("../internals/define-iterator"),p="String Iterator",b=h.set,v=h.getterFor(p);s(String,"String",function(i){b(this,{type:p,string:String(i),index:0})},function(){var i=v(this),f=i.string,u=i.index;return u>=f.length?{value:void 0,done:!0}:(f=a(f,u),i.index+=f.length,{value:f,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,m,c){var a=t("../internals/fix-regexp-well-known-symbol-logic"),h=t("../internals/an-object"),s=t("../internals/to-length"),p=t("../internals/require-object-coercible"),b=t("../internals/advance-string-index"),v=t("../internals/regexp-exec-abstract");a("match",1,function(i,f,u){return[function(g){var y=p(this),d=g==null?void 0:g[i];return d!==void 0?d.call(g,y):new RegExp(g)[i](String(y))},function(g){var y=u(f,g,this);if(y.done)return y.value;var d=h(g),l=String(this);if(!d.global)return v(d,l);for(var w=d.unicode,x=[],_=d.lastIndex=0;(T=v(d,l))!==null;){var T=String(T[0]);(x[_]=T)===""&&(d.lastIndex=b(l,s(d.lastIndex),w)),_++}return _===0?null:x}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/string-pad").start;a({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(s){return h(this,s,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,m,c){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,m,c){var a=t("../internals/fix-regexp-well-known-symbol-logic"),h=t("../internals/an-object"),s=t("../internals/to-object"),p=t("../internals/to-length"),b=t("../internals/to-integer"),v=t("../internals/require-object-coercible"),i=t("../internals/advance-string-index"),f=t("../internals/regexp-exec-abstract"),u=Math.max,g=Math.min,y=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,l=/\$([$&'`]|\d\d?)/g;a("replace",2,function(w,x,_,T){var E=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=T.REPLACE_KEEPS_$0,P=E?"$":"$0";return[function(N,C){var I=v(this),L=N==null?void 0:N[w];return L!==void 0?L.call(N,I,C):x.call(String(I),N,C)},function(N,C){if(!E&&S||typeof C=="string"&&C.indexOf(P)===-1){var I=_(x,N,this,C);if(I.done)return I.value}for(var L,F=h(N),D=String(this),B=typeof C=="function",$=(B||(C=String(C)),F.global),V=($&&(L=F.unicode,F.lastIndex=0),[]);(M=f(F,D))!==null&&(V.push(M),$);)String(M[0])===""&&(F.lastIndex=i(D,p(F.lastIndex),L));for(var H,X="",Q=0,se=0;se<V.length;se++){for(var M=V[se],R=String(M[0]),z=u(g(b(M.index),D.length),0),q=[],Z=1;Z<M.length;Z++)q.push((H=M[Z])===void 0?H:String(H));var te=M.groups,ie=B?(ie=[R].concat(q,z,D),te!==void 0&&ie.push(te),String(C.apply(void 0,ie))):function(he,oe,fe,ce,ee,de){var ye=fe+he.length,we=ce.length,ge=l;return ee!==void 0&&(ee=s(ee),ge=d),x.call(de,ge,function(ve,je){var De;switch(je.charAt(0)){case"$":return"$";case"&":return he;case"`":return oe.slice(0,fe);case"'":return oe.slice(ye);case"<":De=ee[je.slice(1,-1)];break;default:var Te,tt=+je;if(tt==0)return ve;if(we<tt)return(Te=y(tt/10))!==0&&Te<=we?ce[Te-1]===void 0?je.charAt(1):ce[Te-1]+je.charAt(1):ve;De=ce[tt-1]}return De===void 0?"":De})}(R,D,z,q,te,C);Q<=z&&(X+=D.slice(Q,z)+ie,Q=z+R.length)}return X+D.slice(Q)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,m,c){var a=t("../internals/fix-regexp-well-known-symbol-logic"),h=t("../internals/an-object"),s=t("../internals/require-object-coercible"),p=t("../internals/same-value"),b=t("../internals/regexp-exec-abstract");a("search",1,function(v,i,f){return[function(u){var g=s(this),y=u==null?void 0:u[v];return y!==void 0?y.call(u,g):new RegExp(u)[v](String(g))},function(u){var g,y=f(i,u,this);return y.done?y.value:(y=h(u),u=String(this),g=y.lastIndex,p(g,0)||(y.lastIndex=0),u=b(y,u),p(y.lastIndex,g)||(y.lastIndex=g),u===null?-1:u.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(g,m,c){var a=g("../internals/fix-regexp-well-known-symbol-logic"),h=g("../internals/is-regexp"),s=g("../internals/an-object"),p=g("../internals/require-object-coercible"),b=g("../internals/species-constructor"),v=g("../internals/advance-string-index"),i=g("../internals/to-length"),f=g("../internals/regexp-exec-abstract"),u=g("../internals/regexp-exec"),g=g("../internals/fails"),y=[].push,d=Math.min,l=4294967295,w=!g(function(){return!RegExp(l,"y")});a("split",2,function(x,_,T){var E="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(S,P){var N=String(p(this)),C=P===void 0?l:P>>>0;if(C==0)return[];if(S===void 0)return[N];if(!h(S))return _.call(N,S,C);for(var I,L,F,D=[],P=(S.ignoreCase?"i":"")+(S.multiline?"m":"")+(S.unicode?"u":"")+(S.sticky?"y":""),B=0,$=new RegExp(S.source,P+"g");(I=u.call($,N))&&!(B<(L=$.lastIndex)&&(D.push(N.slice(B,I.index)),1<I.length&&I.index<N.length&&y.apply(D,I.slice(1)),F=I[0].length,B=L,D.length>=C));)$.lastIndex===I.index&&$.lastIndex++;return B===N.length?!F&&$.test("")||D.push(""):D.push(N.slice(B)),D.length>C?D.slice(0,C):D}:"0".split(void 0,0).length?function(S,P){return S===void 0&&P===0?[]:_.call(this,S,P)}:_;return[function(S,P){var N=p(this),C=S==null?void 0:S[x];return C!==void 0?C.call(S,N,P):E.call(String(N),S,P)},function(I,P){var N=T(E,I,this,P,E!==_);if(N.done)return N.value;var N=s(I),C=String(this),I=b(N,RegExp),L=N.unicode,F=(N.ignoreCase?"i":"")+(N.multiline?"m":"")+(N.unicode?"u":"")+(w?"y":"g"),D=new I(w?N:"^(?:"+N.source+")",F),B=P===void 0?l:P>>>0;if(B==0)return[];if(C.length===0)return f(D,C)===null?[C]:[];for(var $=0,V=0,H=[];V<C.length;){D.lastIndex=w?V:0;var X,Q=f(D,w?C:C.slice(V));if(Q===null||(X=d(i(D.lastIndex+(w?0:V)),C.length))===$)V=v(C,V,L);else{if(H.push(C.slice($,V)),H.length===B)return H;for(var se=1;se<=Q.length-1;se++)if(H.push(Q[se]),H.length===B)return H;V=$=X}}return H.push(C.slice($)),H}]},!w)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(v,m,c){var a=v("../internals/export"),h=v("../internals/object-get-own-property-descriptor").f,s=v("../internals/to-length"),p=v("../internals/not-a-regexp"),b=v("../internals/require-object-coercible"),u=v("../internals/correct-is-regexp-logic"),v=v("../internals/is-pure"),i="".startsWith,f=Math.min,u=u("startsWith");a({target:"String",proto:!0,forced:!!(v||u||!(a=h(String.prototype,"startsWith"))||a.writable)&&!u},{startsWith:function(l){var y=String(b(this)),d=(p(l),s(f(1<arguments.length?arguments[1]:void 0,y.length))),l=String(l);return i?i.call(y,l,d):y.slice(d,d+l.length)===l}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/create-html");a({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return h(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,m,c){var a=t("../internals/export"),h=t("../internals/string-trim").trim;a({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return h(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(d,m,c){var a,h,s,p,b,v=d("../internals/export"),i=d("../internals/descriptors"),f=d("../internals/global"),u=d("../internals/has"),g=d("../internals/is-object"),y=d("../internals/object-define-property").f,d=d("../internals/copy-constructor-properties"),l=f.Symbol;!i||typeof l!="function"||"description"in l.prototype&&l().description===void 0||(a={},d(h=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof h?new l(w):w===void 0?l():l(w);return w===""&&(a[x]=!0),x},l),(f=h.prototype=l.prototype).constructor=h,s=f.toString,p=String(l("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/,y(f,"description",{configurable:!0,get:function(){var w=g(this)?this.valueOf():this,x=s.call(w);return u(a,w)?"":(w=p?x.slice(7,-1):x.replace(b,"$1"))===""?void 0:w}}),v({global:!0,forced:!0},{Symbol:h}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,m,c){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(oe,m,c){function a(K,ae){var be=De[K]=N(de[he]);return fe(be,{type:ie,tag:K,description:ae}),u||(be.description=ae),be}function h(K,ke){_(K);var be=E(ke),ke=C(be).concat(ne(be));return Z(ke,function(Le){u&&!J.call(be,Le)||Ee(K,Le,be[Le])}),K}function s(ke,Le){var be,ke=E(ke),Le=S(Le,!0);if(ke!==ee||!l(De,Le)||l(Te,Le))return!(be=we(ke,Le))||!l(De,Le)||l(ke,te)&&ke[te][Le]||(be.enumerable=!0),be}function p(ae){var ae=ve(E(ae)),be=[];return Z(ae,function(ke){l(De,ke)||l(Q,ke)||be.push(ke)}),be}var b=oe("../internals/export"),v=oe("../internals/global"),i=oe("../internals/get-built-in"),f=oe("../internals/is-pure"),u=oe("../internals/descriptors"),g=oe("../internals/native-symbol"),y=oe("../internals/use-symbol-as-uid"),d=oe("../internals/fails"),l=oe("../internals/has"),w=oe("../internals/is-array"),x=oe("../internals/is-object"),_=oe("../internals/an-object"),T=oe("../internals/to-object"),E=oe("../internals/to-indexed-object"),S=oe("../internals/to-primitive"),P=oe("../internals/create-property-descriptor"),N=oe("../internals/object-create"),C=oe("../internals/object-keys"),I=oe("../internals/object-get-own-property-names"),L=oe("../internals/object-get-own-property-names-external"),F=oe("../internals/object-get-own-property-symbols"),D=oe("../internals/object-get-own-property-descriptor"),B=oe("../internals/object-define-property"),$=oe("../internals/object-property-is-enumerable"),V=oe("../internals/create-non-enumerable-property"),H=oe("../internals/redefine"),X=oe("../internals/shared"),We=oe("../internals/shared-key"),Q=oe("../internals/hidden-keys"),se=oe("../internals/uid"),M=oe("../internals/well-known-symbol"),R=oe("../internals/well-known-symbol-wrapped"),z=oe("../internals/define-well-known-symbol"),q=oe("../internals/set-to-string-tag"),Ke=oe("../internals/internal-state"),Z=oe("../internals/array-iteration").forEach,te=We("hidden"),ie="Symbol",he="prototype",oe=M("toPrimitive"),fe=Ke.set,ce=Ke.getterFor(ie),ee=Object[he],de=v.Symbol,ye=i("JSON","stringify"),we=D.f,ge=B.f,ve=L.f,je=$.f,De=X("symbols"),Te=X("op-symbols"),tt=X("string-to-symbol-registry"),$e=X("symbol-to-string-registry"),We=X("wks"),Ke=v.QObject,Ye=!Ke||!Ke[he]||!Ke[he].findChild,_e=u&&d(function(){return N(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!=7})?function(K,ae,be){var ke=we(ee,ae);ke&&delete ee[ae],ge(K,ae,be),ke&&K!==ee&&ge(ee,ae,ke)}:ge,Re=y?function(K){return typeof K=="symbol"}:function(K){return Object(K)instanceof de},Ee=function(K,ae,be){return K===ee&&Ee(Te,ae,be),_(K),ae=S(ae,!0),_(be),(l(De,ae)?(be.enumerable?(l(K,te)&&K[te][ae]&&(K[te][ae]=!1),be=N(be,{enumerable:P(0,!1)})):(l(K,te)||ge(K,te,P(1,{})),K[te][ae]=!0),_e):ge)(K,ae,be)},J=function(ae){var ae=S(ae,!0),be=je.call(this,ae);return!(this===ee&&l(De,ae)&&!l(Te,ae))&&(!(be||!l(this,ae)||!l(De,ae)||l(this,te)&&this[te][ae])||be)},ne=function(be){var ae=be===ee,be=ve(ae?Te:E(be)),ke=[];return Z(be,function(Le){!l(De,Le)||ae&&!l(ee,Le)||ke.push(De[Le])}),ke};g||(H((de=function(){if(this instanceof de)throw TypeError("Symbol is not a constructor");var K=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ae=se(K),be=function(ke){this===ee&&be.call(Te,ke),l(this,te)&&l(this[te],ae)&&(this[te][ae]=!1),_e(this,ae,P(1,ke))};return u&&Ye&&_e(ee,ae,{configurable:!0,set:be}),a(ae,K)})[he],"toString",function(){return ce(this).tag}),H(de,"withoutSetter",function(K){return a(se(K),K)}),$.f=J,B.f=Ee,D.f=s,I.f=L.f=p,F.f=ne,R.f=function(K){return a(M(K),K)},u&&(ge(de[he],"description",{configurable:!0,get:function(){return ce(this).description}}),f||H(ee,"propertyIsEnumerable",J,{unsafe:!0}))),b({global:!0,wrap:!0,forced:!g,sham:!g},{Symbol:de}),Z(C(We),function(K){z(K)}),b({target:ie,stat:!0,forced:!g},{for:function(be){var ae,be=String(be);return l(tt,be)?tt[be]:(ae=de(be),tt[be]=ae,$e[ae]=be,ae)},keyFor:function(K){if(!Re(K))throw TypeError(K+" is not a symbol");if(l($e,K))return $e[K]},useSetter:function(){Ye=!0},useSimple:function(){Ye=!1}}),b({target:"Object",stat:!0,forced:!g,sham:!u},{create:function(K,ae){return ae===void 0?N(K):h(N(K),ae)},defineProperty:Ee,defineProperties:h,getOwnPropertyDescriptor:s}),b({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:p,getOwnPropertySymbols:ne}),b({target:"Object",stat:!0,forced:d(function(){F.f(1)})},{getOwnPropertySymbols:function(K){return F.f(T(K))}}),ye&&b({target:"JSON",stat:!0,forced:!g||d(function(){var K=de();return ye([K])!="[null]"||ye({a:K})!="{}"||ye(Object(K))!="{}"})},{stringify:function(K,ae,be){for(var ke,Le=[K],ze=1;ze<arguments.length;)Le.push(arguments[ze++]);if((x(ke=ae)||K!==void 0)&&!Re(K))return w(ae)||(ae=function(Ve,qe){if(typeof ke=="function"&&(qe=ke.call(this,Ve,qe)),!Re(qe))return qe}),Le[1]=ae,ye.apply(null,Le)}}),de[he][oe]||V(de[he],oe,de[he].valueOf),q(de,ie),Q[te]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-copy-within"),s=a.aTypedArray;(0,a.exportTypedArrayMethod)("copyWithin",function(p,b){return h.call(s(this),p,b,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").every,s=a.aTypedArray;(0,a.exportTypedArrayMethod)("every",function(p){return h(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-fill"),s=a.aTypedArray;(0,a.exportTypedArrayMethod)("fill",function(p){return h.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),p=a.aTypedArray,b=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("filter",function(v){for(var i=h(p(this),v,1<arguments.length?arguments[1]:void 0),v=s(this,this.constructor),f=0,u=i.length,g=new(b(v))(u);f<u;)g[f]=i[f++];return g})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").findIndex,s=a.aTypedArray;(0,a.exportTypedArrayMethod)("findIndex",function(p){return h(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").find,s=a.aTypedArray;(0,a.exportTypedArrayMethod)("find",function(p){return h(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,m,c){t("../internals/typed-array-constructor")("Float32",function(a){return function(h,s,p){return a(this,h,s,p)}})},{"../internals/typed-array-constructor":144}],220:[function(t,m,c){t("../internals/typed-array-constructor")("Float64",function(a){return function(h,s,p){return a(this,h,s,p)}})},{"../internals/typed-array-constructor":144}],221:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").forEach,s=a.aTypedArray;(0,a.exportTypedArrayMethod)("forEach",function(p){h(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-includes").includes,s=a.aTypedArray;(0,a.exportTypedArrayMethod)("includes",function(p){return h(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-includes").indexOf,s=a.aTypedArray;(0,a.exportTypedArrayMethod)("indexOf",function(p){return h(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,m,c){t("../internals/typed-array-constructor")("Int16",function(a){return function(h,s,p){return a(this,h,s,p)}})},{"../internals/typed-array-constructor":144}],225:[function(t,m,c){t("../internals/typed-array-constructor")("Int32",function(a){return function(h,s,p){return a(this,h,s,p)}})},{"../internals/typed-array-constructor":144}],226:[function(h,m,c){function a(){return s.call(v(this))}var u=h("../internals/global"),f=h("../internals/array-buffer-view-core"),i=h("../modules/es.array.iterator"),h=h("../internals/well-known-symbol")("iterator"),u=u.Uint8Array,s=i.values,p=i.keys,b=i.entries,v=f.aTypedArray,i=f.exportTypedArrayMethod,f=u&&u.prototype[h],u=!!f&&(f.name=="values"||f.name==null);i("entries",function(){return b.call(v(this))}),i("keys",function(){return p.call(v(this))}),i("values",a,!u),i(h,a,!u)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(h,m,c){var h=h("../internals/array-buffer-view-core"),a=h.aTypedArray,h=h.exportTypedArrayMethod,s=[].join;h("join",function(p){return s.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-last-index-of"),s=a.aTypedArray;(0,a.exportTypedArrayMethod)("lastIndexOf",function(p){return h.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").map,s=t("../internals/species-constructor"),p=a.aTypedArray,b=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("map",function(v){return h(p(this),v,1<arguments.length?arguments[1]:void 0,function(i,f){return new(b(s(i,i.constructor)))(f)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-reduce").right,s=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduceRight",function(p){return h(s(this),p,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-reduce").left,s=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduce",function(p){return h(s(this),p,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(h,m,c){var h=h("../internals/array-buffer-view-core"),a=h.aTypedArray,h=h.exportTypedArrayMethod,s=Math.floor;h("reverse",function(){for(var p,b=a(this).length,v=s(b/2),i=0;i<v;)p=this[i],this[i++]=this[--b],this[b]=p;return this})},{"../internals/array-buffer-view-core":12}],233:[function(b,m,c){var a=b("../internals/array-buffer-view-core"),h=b("../internals/to-length"),s=b("../internals/to-offset"),p=b("../internals/to-object"),b=b("../internals/fails"),v=a.aTypedArray;(0,a.exportTypedArrayMethod)("set",function(i){v(this);var f=s(1<arguments.length?arguments[1]:void 0,1),u=this.length,g=p(i),y=h(g.length),d=0;if(u<y+f)throw RangeError("Wrong length");for(;d<y;)this[f+d]=g[d++]},b(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(h,m,c){var b=h("../internals/array-buffer-view-core"),a=h("../internals/species-constructor"),h=h("../internals/fails"),s=b.aTypedArray,p=b.aTypedArrayConstructor,b=b.exportTypedArrayMethod,v=[].slice;b("slice",function(i,f){for(var u=v.call(s(this),i,f),i=a(this,this.constructor),g=0,y=u.length,d=new(p(i))(y);g<y;)d[g]=u[g++];return d},h(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/array-iteration").some,s=a.aTypedArray;(0,a.exportTypedArrayMethod)("some",function(p){return h(s(this),p,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(h,m,c){var h=h("../internals/array-buffer-view-core"),a=h.aTypedArray,h=h.exportTypedArrayMethod,s=[].sort;h("sort",function(p){return s.call(a(this),p)})},{"../internals/array-buffer-view-core":12}],237:[function(t,m,c){var a=t("../internals/array-buffer-view-core"),h=t("../internals/to-length"),s=t("../internals/to-absolute-index"),p=t("../internals/species-constructor"),b=a.aTypedArray;(0,a.exportTypedArrayMethod)("subarray",function(g,i){var f=b(this),u=f.length,g=s(g,u);return new(p(f,f.constructor))(f.buffer,f.byteOffset+g*f.BYTES_PER_ELEMENT,h((i===void 0?u:s(i,u))-g))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(h,m,c){var b=h("../internals/global"),a=h("../internals/array-buffer-view-core"),h=h("../internals/fails"),s=b.Int8Array,p=a.aTypedArray,b=a.exportTypedArrayMethod,v=[].toLocaleString,i=[].slice,f=!!s&&h(function(){v.call(new s(1))});b("toLocaleString",function(){return v.apply(f?i.call(p(this)):p(this),arguments)},h(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!h(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(h,m,c){var a=h("../internals/array-buffer-view-core").exportTypedArrayMethod,b=h("../internals/fails"),h=h("../internals/global").Uint8Array,h=h&&h.prototype||{},s=[].toString,p=[].join,b=(b(function(){s.call({})})&&(s=function(){return p.call(this)}),h.toString!=s);a("toString",s,b)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,m,c){t("../internals/typed-array-constructor")("Uint16",function(a){return function(h,s,p){return a(this,h,s,p)}})},{"../internals/typed-array-constructor":144}],241:[function(t,m,c){t("../internals/typed-array-constructor")("Uint32",function(a){return function(h,s,p){return a(this,h,s,p)}})},{"../internals/typed-array-constructor":144}],242:[function(t,m,c){t("../internals/typed-array-constructor")("Uint8",function(a){return function(h,s,p){return a(this,h,s,p)}})},{"../internals/typed-array-constructor":144}],243:[function(t,m,c){t("../internals/typed-array-constructor")("Uint8",function(a){return function(h,s,p){return a(this,h,s,p)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(l,_,c){function a(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}}var h,s,p,b,v,w=l("../internals/global"),i=l("../internals/redefine-all"),f=l("../internals/internal-metadata"),u=l("../internals/collection"),g=l("../internals/collection-weak"),y=l("../internals/is-object"),d=l("../internals/internal-state").enforce,l=l("../internals/native-weak-map"),w=!w.ActiveXObject&&"ActiveXObject"in w,x=Object.isExtensible,_=_.exports=u("WeakMap",a,g);l&&w&&(h=g.getConstructor(a,"WeakMap",!0),f.REQUIRED=!0,u=_.prototype,s=u.delete,p=u.has,b=u.get,v=u.set,i(u,{delete:function(T){var E;return y(T)&&!x(T)?((E=d(this)).frozen||(E.frozen=new h),s.call(this,T)||E.frozen.delete(T)):s.call(this,T)},has:function(T){var E;return y(T)&&!x(T)?((E=d(this)).frozen||(E.frozen=new h),p.call(this,T)||E.frozen.has(T)):p.call(this,T)},get:function(T){var E;return!y(T)||x(T)||((E=d(this)).frozen||(E.frozen=new h),p.call(this,T))?b.call(this,T):E.frozen.get(T)},set:function(T,E){var S;return!y(T)||x(T)||((S=d(this)).frozen||(S.frozen=new h),p.call(this,T))?v.call(this,T,E):S.frozen.set(T,E),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,m,c){var a,h=t("../internals/global"),s=t("../internals/dom-iterables"),p=t("../internals/array-for-each"),b=t("../internals/create-non-enumerable-property");for(a in s){var v=h[a],v=v&&v.prototype;if(v&&v.forEach!==p)try{b(v,"forEach",p)}catch{v.forEach=p}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(v,m,c){var a,h=v("../internals/global"),s=v("../internals/dom-iterables"),p=v("../modules/es.array.iterator"),b=v("../internals/create-non-enumerable-property"),v=v("../internals/well-known-symbol"),i=v("iterator"),f=v("toStringTag"),u=p.values;for(a in s){var g=h[a],y=g&&g.prototype;if(y){if(y[i]!==u)try{b(y,i,u)}catch{y[i]=u}if(y[f]||b(y,f,a),s[a]){for(var d in p)if(y[d]!==p[d])try{b(y,d,p[d])}catch{y[d]=p[d]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(te,m,c){te("../modules/es.array.iterator");function a(ie){try{return decodeURIComponent(ie)}catch{return ie}}function h(ie){return z[ie]}function s(ie){return encodeURIComponent(ie).replace(R,h)}function p(ie){this.entries.length=0,q(this.entries,ie)}function b(ie,he){if(ie<he)throw TypeError("Not enough arguments")}function v(){w(this,v,B);var ie,he,oe,fe,ce,ee,de,ye,we=0<arguments.length?arguments[0]:void 0,ge=[];if(V(this,{type:B,entries:ge,updateURL:function(){},updateSearchParams:p}),we!==void 0)if(S(we))if(typeof(ie=I(we))=="function")for(oe=(he=ie.call(we)).next;!(fe=oe.call(he)).done;){if((ee=(ce=(fe=C(E(fe.value))).next).call(fe)).done||(de=ce.call(fe)).done||!ce.call(fe).done)throw TypeError("Expected sequence with length 2");ge.push({key:ee.value+"",value:de.value+""})}else for(ye in we)x(we,ye)&&ge.push({key:ye,value:we[ye]+""});else q(ge,typeof we=="string"?we.charAt(0)==="?"?we.slice(1):we:we+"")}var i=te("../internals/export"),D=te("../internals/get-built-in"),f=te("../internals/native-url"),u=te("../internals/redefine"),g=te("../internals/redefine-all"),y=te("../internals/set-to-string-tag"),d=te("../internals/create-iterator-constructor"),l=te("../internals/internal-state"),w=te("../internals/an-instance"),x=te("../internals/has"),_=te("../internals/function-bind-context"),T=te("../internals/classof"),E=te("../internals/an-object"),S=te("../internals/is-object"),P=te("../internals/object-create"),N=te("../internals/create-property-descriptor"),C=te("../internals/get-iterator"),I=te("../internals/get-iterator-method"),te=te("../internals/well-known-symbol"),L=D("fetch"),F=D("Headers"),D=te("iterator"),B="URLSearchParams",$=B+"Iterator",V=l.set,H=l.getterFor(B),X=l.getterFor($),Q=/\+/g,se=Array(4),M=function(ie){var he,oe=ie.replace(Q," "),fe=4;try{return decodeURIComponent(oe)}catch{for(;fe;)oe=oe.replace((he=fe--,se[he-1]||(se[he-1]=RegExp("((?:%[\\da-f]{2}){"+he+"})","gi"))),a);return oe}},R=/[!'()~]|%20/g,z={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},q=function(ie,he){if(he)for(var oe,fe=he.split("&"),ce=0;ce<fe.length;)(oe=fe[ce++]).length&&(oe=oe.split("="),ie.push({key:M(oe.shift()),value:M(oe.join("="))}))},Z=d(function(ie,he){V(this,{type:$,iterator:C(H(ie).entries),kind:he})},"Iterator",function(){var he=X(this),ie=he.kind,he=he.iterator.next(),oe=he.value;return he.done||(he.value=ie==="keys"?oe.key:ie==="values"?oe.value:[oe.key,oe.value]),he}),te=v.prototype;g(te,{append:function(ie,he){b(arguments.length,2);var oe=H(this);oe.entries.push({key:ie+"",value:he+""}),oe.updateURL()},delete:function(ie){b(arguments.length,1);for(var he=H(this),oe=he.entries,fe=ie+"",ce=0;ce<oe.length;)oe[ce].key===fe?oe.splice(ce,1):ce++;he.updateURL()},get:function(ie){b(arguments.length,1);for(var he=H(this).entries,oe=ie+"",fe=0;fe<he.length;fe++)if(he[fe].key===oe)return he[fe].value;return null},getAll:function(ie){b(arguments.length,1);for(var he=H(this).entries,oe=ie+"",fe=[],ce=0;ce<he.length;ce++)he[ce].key===oe&&fe.push(he[ce].value);return fe},has:function(ie){b(arguments.length,1);for(var he=H(this).entries,oe=ie+"",fe=0;fe<he.length;)if(he[fe++].key===oe)return!0;return!1},set:function(ie,he){b(arguments.length,1);for(var oe,fe=H(this),ce=fe.entries,ee=!1,de=ie+"",ye=he+"",we=0;we<ce.length;we++)(oe=ce[we]).key===de&&(ee?ce.splice(we--,1):(ee=!0,oe.value=ye));ee||ce.push({key:de,value:ye}),fe.updateURL()},sort:function(){for(var ie,he,oe=H(this),fe=oe.entries,ce=fe.slice(),ee=fe.length=0;ee<ce.length;ee++){for(ie=ce[ee],he=0;he<ee;he++)if(fe[he].key>ie.key){fe.splice(he,0,ie);break}he===ee&&fe.push(ie)}oe.updateURL()},forEach:function(ie){for(var he,oe=H(this).entries,fe=_(ie,1<arguments.length?arguments[1]:void 0,3),ce=0;ce<oe.length;)fe((he=oe[ce++]).value,he.key,this)},keys:function(){return new Z(this,"keys")},values:function(){return new Z(this,"values")},entries:function(){return new Z(this,"entries")}},{enumerable:!0}),u(te,D,te.entries),u(te,"toString",function(){for(var ie,he=H(this).entries,oe=[],fe=0;fe<he.length;)ie=he[fe++],oe.push(s(ie.key)+"="+s(ie.value));return oe.join("&")},{enumerable:!0}),y(v,B),i({global:!0,forced:!f},{URLSearchParams:v}),f||typeof L!="function"||typeof F!="function"||i({global:!0,enumerable:!0,forced:!0},{fetch:function(ce){var he,oe,fe,ce=[ce];return 1<arguments.length&&(S(he=arguments[1])&&(oe=he.body,T(oe)===B&&((fe=he.headers?new F(he.headers):new F).has("content-type")||fe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),he=P(he,{body:N(0,String(oe)),headers:N(0,fe)}))),ce.push(he)),L.apply(this,ce)}}),m.exports={URLSearchParams:v,getState:H}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(C,m,c){C("../modules/es.string.iterator");function a(me){var Ge,et,Be,mt;if(typeof me=="number"){for(Ge=[],et=0;et<4;et++)Ge.unshift(me%256),me=$(me/256);return Ge.join(".")}if(typeof me!="object")return me;for(Ge="",Be=de(me),et=0;et<8;et++)mt&&me[et]===0||(mt=mt&&!1,Be===et?(Ge+=et?":":"::",mt=!0):(Ge+=me[et].toString(16),et<7&&(Ge+=":")));return"["+Ge+"]"}function h(me){return!me.host||me.cannotBeABaseURL||me.scheme=="file"}function s(me,Ge,et,Be){var mt,Ue,bt,Ze=et||Re,vt=0,Je="",Ht=!1,Qt=!1,zt=!1;for(et||(me.scheme="",me.username="",me.password="",me.host=null,me.port=null,me.path=[],me.query=null,me.fragment=null,me.cannotBeABaseURL=!1,Ge=Ge.replace(fe,"")),Ge=Ge.replace(ce,""),mt=T(Ge);vt<=mt.length;){switch(Ue=mt[vt],Ze){case Re:if(!Ue||!M.test(Ue)){if(et)return X;Ze=J;continue}Je+=Ue.toLowerCase(),Ze=Ee;break;case Ee:if(Ue&&(R.test(Ue)||Ue=="+"||Ue=="-"||Ue=="."))Je+=Ue.toLowerCase();else{if(Ue!=":"){if(et)return X;Je="",Ze=J,vt=0;continue}if(et&&(Te(me)!=x(De,Je)||Je=="file"&&(tt(me)||me.port!==null)||me.scheme=="file"&&!me.host))return;if(me.scheme=Je,et)return void(Te(me)&&De[me.scheme]==me.port&&(me.port=null));Je="",me.scheme=="file"?Ze=ct:Te(me)&&Be&&Be.scheme==me.scheme?Ze=ne:Te(me)?Ze=ke:mt[vt+1]=="/"?(Ze=K,vt++):(me.cannotBeABaseURL=!0,me.path.push(""),Ze=ut)}break;case J:if(!Be||Be.cannotBeABaseURL&&Ue!="#")return X;if(Be.cannotBeABaseURL&&Ue=="#"){me.scheme=Be.scheme,me.path=Be.path.slice(),me.query=Be.query,me.fragment="",me.cannotBeABaseURL=!0,Ze=Et;break}Ze=Be.scheme=="file"?ct:ae;continue;case ne:if(Ue!="/"||mt[vt+1]!="/"){Ze=ae;continue}Ze=Le,vt++;break;case K:if(Ue=="/"){Ze=ze;break}Ze=Xe;continue;case ae:if(me.scheme=Be.scheme,Ue==v)me.username=Be.username,me.password=Be.password,me.host=Be.host,me.port=Be.port,me.path=Be.path.slice(),me.query=Be.query;else if(Ue=="/"||Ue=="\\"&&Te(me))Ze=be;else if(Ue=="?")me.username=Be.username,me.password=Be.password,me.host=Be.host,me.port=Be.port,me.path=Be.path.slice(),me.query="",Ze=jt;else{if(Ue!="#"){me.username=Be.username,me.password=Be.password,me.host=Be.host,me.port=Be.port,me.path=Be.path.slice(),me.path.pop(),Ze=Xe;continue}me.username=Be.username,me.password=Be.password,me.host=Be.host,me.port=Be.port,me.path=Be.path.slice(),me.query=Be.query,me.fragment="",Ze=Et}break;case be:if(!Te(me)||Ue!="/"&&Ue!="\\"){if(Ue!="/"){me.username=Be.username,me.password=Be.password,me.host=Be.host,me.port=Be.port,Ze=Xe;continue}Ze=ze}else Ze=Le;break;case ke:if(Ze=Le,Ue!="/"||Je.charAt(vt+1)!="/")continue;vt++;break;case Le:if(Ue=="/"||Ue=="\\")break;Ze=ze;continue;case ze:if(Ue=="@"){Ht&&(Je="%40"+Je);for(var Ht=!0,tr=T(Je),un=0;un<tr.length;un++){var Cr=tr[un];Cr!=":"||zt?(Cr=je(Cr,ve),zt?me.password+=Cr:me.username+=Cr):zt=!0}Je=""}else if(Ue==v||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&Te(me)){if(Ht&&Je=="")return H;vt-=T(Je).length+1,Je="",Ze=Ve}else Je+=Ue;break;case Ve:case qe:if(et&&me.scheme=="file"){Ze=rt;continue}if(Ue!=":"||Qt){if(Ue==v||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&Te(me)){if(Te(me)&&Je=="")return Q;if(et&&Je==""&&(tt(me)||me.port!==null))return;if(bt=ee(me,Je))return bt;if(Je="",Ze=Fe,et)return;continue}Ue=="["?Qt=!0:Ue=="]"&&(Qt=!1),Je+=Ue}else{if(Je=="")return Q;if(bt=ee(me,Je))return bt;if(Je="",Ze=Qe,et==qe)return}break;case Qe:if(!z.test(Ue)){if(Ue==v||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&Te(me)||et){if(Je!=""){var cn=parseInt(Je,10);if(65535<cn)return se;me.port=Te(me)&&cn===De[me.scheme]?null:cn,Je=""}if(et)return;Ze=Fe;continue}return se}Je+=Ue;break;case ct:if(me.scheme="file",Ue=="/"||Ue=="\\")Ze=lt;else{if(!Be||Be.scheme!="file"){Ze=Xe;continue}if(Ue==v)me.host=Be.host,me.path=Be.path.slice(),me.query=Be.query;else if(Ue=="?")me.host=Be.host,me.path=Be.path.slice(),me.query="",Ze=jt;else{if(Ue!="#"){We(mt.slice(vt).join(""))||(me.host=Be.host,me.path=Be.path.slice(),Ke(me)),Ze=Xe;continue}me.host=Be.host,me.path=Be.path.slice(),me.query=Be.query,me.fragment="",Ze=Et}}break;case lt:if(Ue=="/"||Ue=="\\"){Ze=rt;break}Be&&Be.scheme=="file"&&!We(mt.slice(vt).join(""))&&($e(Be.path[0],!0)?me.path.push(Be.path[0]):me.host=Be.host),Ze=Xe;continue;case rt:if(Ue==v||Ue=="/"||Ue=="\\"||Ue=="?"||Ue=="#"){if(!et&&$e(Je))Ze=Xe;else{if(Je==""){if(me.host="",et)return}else{if(bt=ee(me,Je))return bt;if(me.host=="localhost"&&(me.host=""),et)return;Je=""}Ze=Fe}continue}Je+=Ue;break;case Fe:if(Te(me)){if(Ze=Xe,Ue!="/"&&Ue!="\\")continue}else if(et||Ue!="?")if(et||Ue!="#"){if(Ue!=v&&(Ze=Xe,Ue!="/"))continue}else me.fragment="",Ze=Et;else me.query="",Ze=jt;break;case Xe:if(Ue==v||Ue=="/"||Ue=="\\"&&Te(me)||!et&&(Ue=="?"||Ue=="#")){if(_e(Je)?(Ke(me),Ue=="/"||Ue=="\\"&&Te(me)||me.path.push("")):Ye(Je)?Ue=="/"||Ue=="\\"&&Te(me)||me.path.push(""):(me.scheme=="file"&&!me.path.length&&$e(Je)&&(me.host&&(me.host=""),Je=Je.charAt(0)+":"),me.path.push(Je)),Je="",me.scheme=="file"&&(Ue==v||Ue=="?"||Ue=="#"))for(;1<me.path.length&&me.path[0]==="";)me.path.shift();Ue=="?"?(me.query="",Ze=jt):Ue=="#"&&(me.fragment="",Ze=Et)}else Je+=je(Ue,ge);break;case ut:Ue=="?"?(me.query="",Ze=jt):Ue=="#"?(me.fragment="",Ze=Et):Ue!=v&&(me.path[0]+=je(Ue,ye));break;case jt:et||Ue!="#"?Ue!=v&&(Ue=="'"&&Te(me)?me.query+="%27":me.query+=Ue=="#"?"%23":je(Ue,ye)):(me.fragment="",Ze=Et);break;case Et:Ue!=v&&(me.fragment+=je(Ue,we))}vt++}}function p(Ue){var Ge,et,Be=w(this,p,"URL"),mt=1<arguments.length?arguments[1]:void 0,Ue=String(Ue),bt=D(Be,{type:"URL"});if(mt!==void 0){if(mt instanceof p)Ge=B(mt);else if(et=s(Ge={},String(mt)))throw TypeError(et)}if(et=s(bt,Ue,null,Ge))throw TypeError(et);var Ze=bt.searchParams=new L;(mt=F(Ze)).updateSearchParams(bt.query),mt.updateURL=function(){bt.query=String(Ze)||null},g||(Be.href=wt.call(Be),Be.origin=yt.call(Be),Be.protocol=Kt.call(Be),Be.username=er.call(Be),Be.password=Tt.call(Be),Be.host=ar.call(Be),Be.hostname=Us.call(Be),Be.port=Bs.call(Be),Be.pathname=zs.call(Be),Be.search=ri.call(Be),Be.searchParams=Gs.call(Be),Be.hash=Vs.call(Be))}function b(me,Ge){return{get:me,set:Ge,configurable:!0,enumerable:!0}}var v,i,f,u=C("../internals/export"),g=C("../internals/descriptors"),y=C("../internals/native-url"),pt=C("../internals/global"),d=C("../internals/object-define-properties"),l=C("../internals/redefine"),w=C("../internals/an-instance"),x=C("../internals/has"),_=C("../internals/object-assign"),T=C("../internals/array-from"),E=C("../internals/string-multibyte").codeAt,S=C("../internals/string-punycode-to-ascii"),P=C("../internals/set-to-string-tag"),N=C("../modules/web.url-search-params"),C=C("../internals/internal-state"),I=pt.URL,L=N.URLSearchParams,F=N.getState,D=C.set,B=C.getterFor("URL"),$=Math.floor,V=Math.pow,H="Invalid authority",X="Invalid scheme",Q="Invalid host",se="Invalid port",M=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,z=/\d/,q=/^(0x|0X)/,Z=/^[0-7]+$/,te=/^\d+$/,ie=/^[\dA-Fa-f]+$/,he=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,oe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,fe=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ce=/[\u0009\u000A\u000D]/g,ee=function(me,Ge){var et,Be,mt;if(Ge.charAt(0)=="[")return Ge.charAt(Ge.length-1)=="]"&&(et=function(Ue){var bt=[0,0,0,0,0,0,0,0],Ze=0,vt=null,Je=0,Ht,Qt,zt,tr,un,Cr,cn,rr=function(){return Ue.charAt(Je)};if(rr()==":"){if(Ue.charAt(1)!=":")return;Je+=2,Ze++,vt=Ze}for(;rr();){if(Ze==8)return;if(rr()==":"){if(vt!==null)return;Je++,Ze++,vt=Ze;continue}for(Ht=Qt=0;Qt<4&&ie.test(rr());)Ht=Ht*16+parseInt(rr(),16),Je++,Qt++;if(rr()=="."){if(Qt==0||(Je-=Qt,Ze>6))return;for(zt=0;rr();){if(tr=null,zt>0)if(rr()=="."&&zt<4)Je++;else return;if(!z.test(rr()))return;for(;z.test(rr());){if(un=parseInt(rr(),10),tr===null)tr=un;else{if(tr==0)return;tr=tr*10+un}if(tr>255)return;Je++}bt[Ze]=bt[Ze]*256+tr,zt++,(zt==2||zt==4)&&Ze++}if(zt!=4)return;break}else if(rr()==":"){if(Je++,!rr())return}else if(rr())return;bt[Ze++]=Ht}if(vt!==null)for(Cr=Ze-vt,Ze=7;Ze!=0&&Cr>0;)cn=bt[Ze],bt[Ze--]=bt[vt+Cr-1],bt[vt+--Cr]=cn;else if(Ze!=8)return;return bt}(Ge.slice(1,-1)))?void(me.host=et):Q;if(Te(me))return Ge=S(Ge),he.test(Ge)||(et=function(Ue){var bt=Ue.split("."),Ze,vt,Je,Ht,Qt,zt,tr;if(bt.length&&bt[bt.length-1]==""&&bt.pop(),(Ze=bt.length)>4)return Ue;for(vt=[],Je=0;Je<Ze;Je++){if(Ht=bt[Je],Ht=="")return Ue;if(Qt=10,Ht.length>1&&Ht.charAt(0)=="0"&&(Qt=q.test(Ht)?16:8,Ht=Ht.slice(Qt==8?1:2)),Ht==="")zt=0;else{if(!(Qt==10?te:Qt==8?Z:ie).test(Ht))return Ue;zt=parseInt(Ht,Qt)}vt.push(zt)}for(Je=0;Je<Ze;Je++)if(zt=vt[Je],Je==Ze-1){if(zt>=V(256,5-Ze))return null}else if(zt>255)return null;for(tr=vt.pop(),Je=0;Je<vt.length;Je++)tr+=vt[Je]*V(256,3-Je);return tr}(Ge))===null?Q:void(me.host=et);if(oe.test(Ge))return Q;for(et="",Be=T(Ge),mt=0;mt<Be.length;mt++)et+=je(Be[mt],ye);me.host=et},de=function(me){for(var Ge=null,et=1,Be=null,mt=0,Ue=0;Ue<8;Ue++)me[Ue]!==0?(et<mt&&(Ge=Be,et=mt),Be=null,mt=0):(Be===null&&(Be=Ue),++mt);return et<mt&&(Ge=Be,et=mt),Ge},ye={},we=_({},ye,{" ":1,'"':1,"<":1,">":1,"`":1}),ge=_({},we,{"#":1,"?":1,"{":1,"}":1}),ve=_({},ge,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),je=function(me,Ge){var et=E(me,0);return 32<et&&et<127&&!x(Ge,me)?me:encodeURIComponent(me)},De={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Te=function(me){return x(De,me.scheme)},tt=function(me){return me.username!=""||me.password!=""},$e=function(me,Ge){return me.length==2&&M.test(me.charAt(0))&&((me=me.charAt(1))==":"||!Ge&&me=="|")},We=function(me){return 1<me.length&&$e(me.slice(0,2))&&(me.length==2||(me=me.charAt(2))==="/"||me==="\\"||me==="?"||me==="#")},Ke=function(me){var Ge=me.path,et=Ge.length;!et||me.scheme=="file"&&et==1&&$e(Ge[0],!0)||Ge.pop()},Ye=function(me){return me==="."||me.toLowerCase()==="%2e"},_e=function(me){return(me=me.toLowerCase())===".."||me==="%2e."||me===".%2e"||me==="%2e%2e"},Re={},Ee={},J={},ne={},K={},ae={},be={},ke={},Le={},ze={},Ve={},qe={},Qe={},ct={},lt={},rt={},Fe={},Xe={},ut={},jt={},Et={},pt=p.prototype,wt=function(){var me=B(this),Ge=me.scheme,et=me.username,Be=me.password,mt=me.host,Ue=me.port,bt=me.path,Ze=me.query,vt=me.fragment,Je=Ge+":";return mt!==null?(Je+="//",tt(me)&&(Je+=et+(Be?":"+Be:"")+"@"),Je+=a(mt),Ue!==null&&(Je+=":"+Ue)):Ge=="file"&&(Je+="//"),Je+=me.cannotBeABaseURL?bt[0]:bt.length?"/"+bt.join("/"):"",Ze!==null&&(Je+="?"+Ze),vt!==null&&(Je+="#"+vt),Je},yt=function(){var me=B(this),Ge=me.scheme,et=me.port;if(Ge=="blob")try{return new URL(Ge.path[0]).origin}catch{return"null"}return Ge!="file"&&Te(me)?Ge+"://"+a(me.host)+(et!==null?":"+et:""):"null"},Kt=function(){return B(this).scheme+":"},er=function(){return B(this).username},Tt=function(){return B(this).password},ar=function(){var Ge=B(this),me=Ge.host,Ge=Ge.port;return me===null?"":Ge===null?a(me):a(me)+":"+Ge},Us=function(){var me=B(this).host;return me===null?"":a(me)},Bs=function(){var me=B(this).port;return me===null?"":String(me)},zs=function(){var me=B(this),Ge=me.path;return me.cannotBeABaseURL?Ge[0]:Ge.length?"/"+Ge.join("/"):""},ri=function(){var me=B(this).query;return me?"?"+me:""},Gs=function(){return B(this).searchParams},Vs=function(){var me=B(this).fragment;return me?"#"+me:""};g&&d(pt,{href:b(wt,function(et){var Ge=B(this),et=String(et),et=s(Ge,et);if(et)throw TypeError(et);F(Ge.searchParams).updateSearchParams(Ge.query)}),origin:b(yt),protocol:b(Kt,function(me){var Ge=B(this);s(Ge,String(me)+":",Re)}),username:b(er,function(me){var Ge=B(this),et=T(String(me));if(!h(Ge)){Ge.username="";for(var Be=0;Be<et.length;Be++)Ge.username+=je(et[Be],ve)}}),password:b(Tt,function(me){var Ge=B(this),et=T(String(me));if(!h(Ge)){Ge.password="";for(var Be=0;Be<et.length;Be++)Ge.password+=je(et[Be],ve)}}),host:b(ar,function(me){var Ge=B(this);Ge.cannotBeABaseURL||s(Ge,String(me),Ve)}),hostname:b(Us,function(me){var Ge=B(this);Ge.cannotBeABaseURL||s(Ge,String(me),qe)}),port:b(Bs,function(me){var Ge=B(this);h(Ge)||((me=String(me))==""?Ge.port=null:s(Ge,me,Qe))}),pathname:b(zs,function(me){var Ge=B(this);Ge.cannotBeABaseURL||(Ge.path=[],s(Ge,me+"",Fe))}),search:b(ri,function(me){var Ge=B(this);(me=String(me))==""?Ge.query=null:(me.charAt(0)=="?"&&(me=me.slice(1)),Ge.query="",s(Ge,me,jt)),F(Ge.searchParams).updateSearchParams(Ge.query)}),searchParams:b(Gs),hash:b(Vs,function(me){var Ge=B(this);(me=String(me))==""?Ge.fragment=null:(me.charAt(0)=="#"&&(me=me.slice(1)),Ge.fragment="",s(Ge,me,Et))})}),l(pt,"toJSON",function(){return wt.call(this)},{enumerable:!0}),l(pt,"toString",function(){return wt.call(this)},{enumerable:!0}),I&&(i=I.createObjectURL,f=I.revokeObjectURL,i&&l(p,"createObjectURL",function(me){return i.apply(I,arguments)}),f&&l(p,"revokeObjectURL",function(me){return f.apply(I,arguments)})),P(p,"URL"),u({global:!0,forced:!y,sham:!g},{URL:p})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,m,c){m.exports=t("./").polyfill()},{"./":250}],250:[function(t,m,c){(function(a,h){var s,p;s=this,p=function(){function b(ee){return typeof ee=="function"}var v=Array.isArray||function(ee){return Object.prototype.toString.call(ee)==="[object Array]"},i=0,f=void 0,u=void 0,g=function(ee,de){_[i]=ee,_[i+1]=de,(i+=2)===2&&(u?u(T):L())},y=typeof window<"u"?window:void 0,d=y||{},d=d.MutationObserver||d.WebKitMutationObserver,l=typeof self>"u"&&a!==void 0&&{}.toString.call(a)==="[object process]",w=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function x(){var ee=setTimeout;return function(){return ee(T,1)}}var _=new Array(1e3);function T(){for(var ee=0;ee<i;ee+=2)(0,_[ee])(_[ee+1]),_[ee]=void 0,_[ee+1]=void 0;i=0}function E(){try{var ee=Function("return this")().require("vertx");return(f=ee.runOnLoop||ee.runOnContext)!==void 0?function(){f(T)}:x()}catch{return x()}}var S,P,N,L=void 0;function C(ee,de){var ye,we=this,ge=new this.constructor(D),ve=(ge[F]===void 0&&ie(ge),we._state);return ve?(ye=arguments[ve-1],g(function(){return Z(ve,ge,ye,we._result)})):z(we,ge,ee,de),ge}function I(ee){var de;return ee&&typeof ee=="object"&&ee.constructor===this?ee:(Q(de=new this(D),ee),de)}var L=l?function(){return a.nextTick(T)}:d?(P=0,l=new d(T),N=document.createTextNode(""),l.observe(N,{characterData:!0}),function(){N.data=P=++P%2}):w?((S=new MessageChannel).port1.onmessage=T,function(){return S.port2.postMessage(0)}):(y===void 0&&typeof t=="function"?E:x)(),F=Math.random().toString(36).substring(2);function D(){}var B=void 0,$=1,V=2;function H(ee,de,ye){g(function(we){var ge=!1,ve=function(je,De,Te,tt){try{je.call(De,Te,tt)}catch($e){return $e}}(ye,de,function(je){ge||(ge=!0,(de!==je?Q:M)(we,je))},function(je){ge||(ge=!0,R(we,je))},we._label);!ge&&ve&&(ge=!0,R(we,ve))},ee)}function X(ee,de,ye){var we,ge;de.constructor===ee.constructor&&ye===C&&de.constructor.resolve===I?(we=ee,(ge=de)._state===$?M(we,ge._result):ge._state===V?R(we,ge._result):z(ge,void 0,function(ve){return Q(we,ve)},function(ve){return R(we,ve)})):ye!==void 0&&b(ye)?H(ee,de,ye):M(ee,de)}function Q(ee,de){if(ee===de)R(ee,new TypeError("You cannot resolve a promise with itself"));else if(ye=typeof de,de===null||ye!="object"&&ye!="function")M(ee,de);else{ye=void 0;try{ye=de.then}catch(we){return void R(ee,we)}X(ee,de,ye)}var ye}function se(ee){ee._onerror&&ee._onerror(ee._result),q(ee)}function M(ee,de){ee._state===B&&(ee._result=de,ee._state=$,ee._subscribers.length!==0&&g(q,ee))}function R(ee,de){ee._state===B&&(ee._state=V,ee._result=de,g(se,ee))}function z(ee,de,ye,we){var ge=ee._subscribers,ve=ge.length;ee._onerror=null,ge[ve]=de,ge[ve+$]=ye,ge[ve+V]=we,ve===0&&ee._state&&g(q,ee)}function q(ee){var de=ee._subscribers,ye=ee._state;if(de.length!==0){for(var we,ge=void 0,ve=ee._result,je=0;je<de.length;je+=3)we=de[je],ge=de[je+ye],we?Z(ye,we,ge,ve):ge(ve);ee._subscribers.length=0}}function Z(ee,de,ye,we){var ge=b(ye),ve=void 0,je=void 0,De=!0;if(ge){try{ve=ye(we)}catch(Te){De=!1,je=Te}if(de===ve)return void R(de,new TypeError("A promises callback cannot return that same promise."))}else ve=we;de._state===B&&(ge&&De?Q(de,ve):De===!1?R(de,je):ee===$?M(de,ve):ee===V&&R(de,ve))}var te=0;function ie(ee){ee[F]=te++,ee._state=void 0,ee._result=void 0,ee._subscribers=[]}oe.prototype._enumerate=function(ee){for(var de=0;this._state===B&&de<ee.length;de++)this._eachEntry(ee[de],de)},oe.prototype._eachEntry=function(ee,de){var ye=this._instanceConstructor,we=ye.resolve;if(we===I){var ge,ve=void 0,je=void 0,De=!1;try{ve=ee.then}catch(Te){De=!0,je=Te}ve===C&&ee._state!==B?this._settledAt(ee._state,de,ee._result):typeof ve!="function"?(this._remaining--,this._result[de]=ee):ye===fe?(ge=new ye(D),De?R(ge,je):X(ge,ee,ve),this._willSettleAt(ge,de)):this._willSettleAt(new ye(function(Te){return Te(ee)}),de)}else this._willSettleAt(we(ee),de)},oe.prototype._settledAt=function(ee,de,ye){var we=this.promise;we._state===B&&(this._remaining--,ee===V?R(we,ye):this._result[de]=ye),this._remaining===0&&M(we,this._result)},oe.prototype._willSettleAt=function(ee,de){var ye=this;z(ee,void 0,function(we){return ye._settledAt($,de,we)},function(we){return ye._settledAt(V,de,we)})};var he=oe;function oe(ee,de){this._instanceConstructor=ee,this.promise=new ee(D),this.promise[F]||ie(this.promise),v(de)?(this.length=de.length,this._remaining=de.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(de),this._remaining!==0)||M(this.promise,this._result)):R(this.promise,new Error("Array Methods must be provided an Array"))}ce.prototype.catch=function(ee){return this.then(null,ee)},ce.prototype.finally=function(ee){var de=this.constructor;return b(ee)?this.then(function(ye){return de.resolve(ee()).then(function(){return ye})},function(ye){return de.resolve(ee()).then(function(){throw ye})}):this.then(ee,ee)};var fe=ce;function ce(ee){if(this[F]=te++,this._result=this._state=void 0,this._subscribers=[],D!==ee){if(typeof ee!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ce))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var de=this;try{ee(function(ye){Q(de,ye)},function(ye){R(de,ye)})}catch(ye){R(de,ye)}}}return fe.prototype.then=C,fe.all=function(ee){return new he(this,ee).promise},fe.race=function(ee){var de=this;return v(ee)?new de(function(ye,we){for(var ge=ee.length,ve=0;ve<ge;ve++)de.resolve(ee[ve]).then(ye,we)}):new de(function(ye,we){return we(new TypeError("You must pass an array to race."))})},fe.resolve=I,fe.reject=function(ee){var de=new this(D);return R(de,ee),de},fe._setScheduler=function(ee){u=ee},fe._setAsap=function(ee){g=ee},fe._asap=g,fe.polyfill=function(){var ee=void 0;if(h!==void 0)ee=h;else if(typeof self<"u")ee=self;else try{ee=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var de=ee.Promise;if(de){var ye=null;try{ye=Object.prototype.toString.call(de.resolve())}catch{}if(ye==="[object Promise]"&&!de.cast)return}ee.Promise=fe},fe.Promise=fe},typeof c=="object"&&m!==void 0?m.exports=p():s.ES6Promise=p()}).call(this,t("_process"),typeof li<"u"?li:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,m,c){var a,h;a=this,h=function(s,p){var b=5e3,v="callback";function i(u){try{delete window[u]}catch{window[u]=void 0}}function f(u){u=document.getElementById(u),u&&document.getElementsByTagName("head")[0].removeChild(u)}p.exports=function(u){var g=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],y=u,d=g.timeout||b,l=g.jsonpCallback||v,w=void 0;return new Promise(function(x,_){var T=g.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),E=l+"_"+T,S=(window[T]=function(P){x({ok:!0,json:function(){return Promise.resolve(P)}}),w&&clearTimeout(w),f(E),i(T)},y+=y.indexOf("?")===-1?"?":"&",document.createElement("script"));S.setAttribute("src",""+y+l+"="+T),g.charset&&S.setAttribute("charset",g.charset),S.id=E,document.getElementsByTagName("head")[0].appendChild(S),w=setTimeout(function(){_(new Error("JSONP request to "+u+" timed out")),i(T),f(E),window[T]=function(){i(T)}},d),S.onerror=function(){_(new Error("JSONP request to "+u+" failed")),i(T),f(E),w&&clearTimeout(w)}})}},c!==void 0&&m!==void 0?h(0,m):(h(h={exports:{}},h),a.fetchJsonp=h.exports)},{}],252:[function(t,m,c){var a=function(h){var s,p,b,v,i,f,u,g,y,d,l;if(!(h===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return l=h.document,s=function(){return h.URL||h.webkitURL||h},p=l.createElementNS("http://www.w3.org/1999/xhtml","a"),b="download"in p,v=/constructor/i.test(h.HTMLElement)||h.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(w){(h.setImmediate||h.setTimeout)(function(){throw w},0)},u=4e4,g=function(w){setTimeout(function(){typeof w=="string"?s().revokeObjectURL(w):w.remove()},u)},y=function(w){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(w.type)?new Blob(["\uFEFF",w],{type:w.type}):w},l=(d=function(w,x,P){P||(w=y(w));var T,E,S=this,P=w.type==="application/octet-stream",N=function(){for(var C=S,I="writestart progress write writeend".split(" "),L=void 0,F=(I=[].concat(I)).length;F--;){var D=C["on"+I[F]];if(typeof D=="function")try{D.call(C,L||C)}catch(B){f(B)}}};S.readyState=S.INIT,b?(T=s().createObjectURL(w),setTimeout(function(){var C,I;p.href=T,p.download=x,C=p,I=new MouseEvent("click"),C.dispatchEvent(I),N(),g(T),S.readyState=S.DONE})):(i||P&&v)&&h.FileReader?((E=new FileReader).onloadend=function(){var C=i?E.result:E.result.replace(/^data:[^;]*;/,"data:attachment/file;");h.open(C,"_blank")||(h.location.href=C),C=void 0,S.readyState=S.DONE,N()},E.readAsDataURL(w),S.readyState=S.INIT):(T=T||s().createObjectURL(w),!P&&h.open(T,"_blank")||(h.location.href=T),S.readyState=S.DONE,N(),g(T))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(w,x,_){return x=x||w.name||"download",_||(w=y(w)),navigator.msSaveOrOpenBlob(w,x)}:(l.abort=function(){},l.readyState=l.INIT=0,l.WRITING=1,l.DONE=2,l.error=l.onwritestart=l.onprogress=l.onwrite=l.onabort=l.onerror=l.onwriteend=null,function(w,x,_){return new d(w,x||w.name||"download",_)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);m!==void 0&&m.exports?m.exports.saveAs=a:o!=null},{}],253:[function(t,m,c){var a,h=Object.defineProperty,s=(h(c,"__esModule",{value:!0}),c),p={GIFEncoder:()=>N,applyPalette:()=>function(B,$,V="rgb565"){if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<$.length)throw new Error("applyPalette() only works with 256 colors or less");const H=new Uint32Array(B.buffer),X=H.length,Q=V==="rgb444"?4096:65536,se=new Uint8Array(X),M=new Array(Q);if(V==="rgba4444")for(let ce=0;ce<X;ce++){var Z=H[ce],R=Z>>24&255,z=Z>>16&255,q=Z>>8&255,Z=255&Z,te=g(Z,q,z,R),te=te in M?M[te]:M[te]=function(ee,de,ye,we,ge){let ve=0,je=1e100;for(let $e=0;$e<ge.length;$e++){var De,Te=ge[$e],tt=E(Te[3]-we);tt>je||(De=Te[0],(tt+=E(De-ee))>je||(De=Te[1],(tt+=E(De-de))>je||(De=Te[2],(tt+=E(De-ye))>je||(je=tt,ve=$e))))}return ve}(Z,q,z,R,$);se[ce]=te}else{const ce=V==="rgb444"?y:u;for(let ee=0;ee<X;ee++){var oe=H[ee],ie=oe>>16&255,he=oe>>8&255,oe=255&oe,fe=ce(oe,he,ie),fe=fe in M?M[fe]:M[fe]=function(de,ye,we,ge){let ve=0,je=1e100;for(let $e=0;$e<ge.length;$e++){var De,Te=ge[$e],tt=E(Te[0]-de);tt>je||(De=Te[1],(tt+=E(De-ye))>je||(De=Te[2],(tt+=E(De-we))>je||(je=tt,ve=$e)))}return ve}(oe,he,ie,$);se[ee]=fe}}return se},default:()=>D,nearestColor:()=>function(B,$,V=_){return B[S(B,$,V)]},nearestColorIndex:()=>S,nearestColorIndexWithDistance:()=>P,prequantize:()=>function(B,{roundRGB:$=5,roundAlpha:V=10,oneBitAlpha:H=null}={}){const X=new Uint32Array(B.buffer);for(let z=0;z<X.length;z++){var R=X[z];let q=R>>24&255;var Q,se=R>>16&255,M=R>>8&255,R=255&R;q=T(q,V),H&&(Q=typeof H=="number"?H:127,q=q<=Q?0:255),R=T(R,$),M=T(M,$),se=T(se,$),X[z]=q<<24|se<<16|M<<8|R<<0}},quantize:()=>function(B,$,V={}){var{format:H="rgb565",clearAlpha:X=!0,clearAlphaColor:Q=0,clearAlphaThreshold:se=0,oneBitAlpha:M=!1}=V;if(!B||!B.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(B instanceof Uint8Array||B instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");B=new Uint32Array(B.buffer);let R=V.useSqrt!==!1;const z=H==="rgba4444",q=function(We,Ke){const Ye=Ke==="rgb444"?4096:65536,_e=new Array(Ye),Re=We.length;if(Ke==="rgba4444")for(let lt=0;lt<Re;++lt){var K=We[lt],Ee=K>>24&255,J=K>>16&255,ne=K>>8&255,K=255&K,ae=g(K,ne,J,Ee);let rt=ae in _e?_e[ae]:_e[ae]=x();rt.rc+=K,rt.gc+=ne,rt.bc+=J,rt.ac+=Ee,rt.cnt++}else if(Ke==="rgb444")for(let lt=0;lt<Re;++lt){var Le=We[lt],be=Le>>16&255,ke=Le>>8&255,Le=255&Le,ze=y(Le,ke,be);let rt=ze in _e?_e[ze]:_e[ze]=x();rt.rc+=Le,rt.gc+=ke,rt.bc+=be,rt.cnt++}else for(let lt=0;lt<Re;++lt){var Qe=We[lt],Ve=Qe>>16&255,qe=Qe>>8&255,Qe=255&Qe,ct=u(Qe,qe,Ve);let rt=ct in _e?_e[ct]:_e[ct]=x();rt.rc+=Qe,rt.gc+=qe,rt.bc+=Ve,rt.cnt++}return _e}(B,H),Z=q.length,te=Z-1,ie=new Uint32Array(Z+1);for(var he=0,oe=0;oe<Z;++oe){const We=q[oe];We!=null&&(Te=1/We.cnt,z&&(We.ac*=Te),We.rc*=Te,We.gc*=Te,We.bc*=Te,q[he++]=We)}l($)/he<.022&&(R=!1);for(var fe,ce,ee,oe=0;oe<he-1;++oe)q[oe].fw=oe+1,q[oe+1].bk=oe,R&&(q[oe].cnt=Math.sqrt(q[oe].cnt));for(R&&(q[oe].cnt=Math.sqrt(q[oe].cnt)),oe=0;oe<he;++oe){w(q,oe);var de=q[oe].err;for(ce=++ie[0];1<ce&&(ee=ce>>1,!(q[fe=ie[ee]].err<=de));ce=ee)ie[ce]=fe;ie[ce]=oe}var ye,we=he-$;for(oe=0;oe<we;){for(;;){var ge=ie[1];if((ye=q[ge]).tm>=ye.mtm&&q[ye.nn].mtm<=ye.tm)break;for(ye.mtm==te?ge=ie[1]=ie[ie[0]--]:(w(q,ge),ye.tm=oe),de=q[ge].err,ce=1;(ee=ce+ce)<=ie[0]&&(ee<ie[0]&&q[ie[ee]].err>q[ie[ee+1]].err&&ee++,!(de<=q[fe=ie[ee]].err));ce=ee)ie[ce]=fe;ie[ce]=ge}var ve=q[ye.nn],je=ye.cnt,De=ve.cnt,Te=1/(je+De);z&&(ye.ac=Te*(je*ye.ac+De*ve.ac)),ye.rc=Te*(je*ye.rc+De*ve.rc),ye.gc=Te*(je*ye.gc+De*ve.gc),ye.bc=Te*(je*ye.bc+De*ve.bc),ye.cnt+=ve.cnt,ye.mtm=++oe,q[ve.bk].fw=ve.fw,q[ve.fw].bk=ve.bk,ve.mtm=te}let tt=[];for(oe=0;;0){let We=d(Math.round(q[oe].rc),0,255),Ke=d(Math.round(q[oe].gc),0,255),Ye=d(Math.round(q[oe].bc),0,255),_e=255;z&&(_e=d(Math.round(q[oe].ac),0,255),M&&($e=typeof M=="number"?M:127,_e=_e<=$e?0:255),X&&_e<=se&&(We=Ke=Ye=Q,_e=0));var $e=z?[We,Ke,Ye,_e]:[We,Ke,Ye];if(function(Re,Ee){for(let K=0;K<Re.length;K++){var ne=Re[K],J=ne[0]===Ee[0]&&ne[1]===Ee[1]&&ne[2]===Ee[2],ne=!(4<=ne.length&&4<=Ee.length)||ne[3]===Ee[3];if(J&&ne)return!0}return!1}(tt,$e)||tt.push($e),(oe=q[oe].fw)==0)break}return tt},snapColorsToPalette:()=>function(B,$,V=5){if(B.length&&$.length){var H=B.map(R=>R.slice(0,3)),X=V*V,Q=B[0].length;for(let R=0;R<$.length;R++){let z=$[R];z=z.length<Q?[z[0],z[1],z[2],255]:z.length>Q?z.slice(0,3):z.slice();var M=P(H,z.slice(0,3),_),se=M[0],M=M[1];0<M&&M<=X&&(B[se]=z)}}}};for(a in p)h(s,a,{get:p[a],enumerable:!0});var b={trailer:59};function v(B=256){let $=0,V=new Uint8Array(B);return{get buffer(){return V.buffer},reset(){$=0},bytesView(){return V.subarray(0,$)},bytes(){return V.slice(0,$)},writeByte(X){H($+1),V[$]=X,$++},writeBytes(X,Q=0,se=X.length){H($+se);for(let M=0;M<se;M++)V[$++]=X[M+Q]},writeBytesView(X,Q=0,se=X.byteLength){H($+se),V.set(X.subarray(Q,Q+se),$),$+=se}};function H(X){var Q=V.length;if(!(X<=Q)){X=Math.max(X,Q*(Q<1048576?2:1.125)>>>0),Q!=0&&(X=Math.max(X,256));const se=V;V=new Uint8Array(X),0<$&&V.set(se.subarray(0,$),0)}}}var i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],f=function(B,$,V,z,X=v(512),Q=new Uint8Array(256),se=new Int32Array(5003),M=new Int32Array(5003)){var R=se.length,z=Math.max(2,z);Q.fill(0),M.fill(0),se.fill(-1);let q=0,Z=0;var te=z+1;const ie=te;let he=!1,oe=ie,fe=(1<<oe)-1;var ce=1<<te-1;const ee=1+ce;let de=2+ce,ye=0,we=V[0],ge=0;for(let $e=R;$e<65536;$e*=2)++ge;ge=8-ge,X.writeByte(z),tt(ce);var ve=V.length;for(let $e=1;$e<ve;$e++)e:{var je=V[$e],De=(je<<12)+we;let We=je<<ge^we;if(se[We]===De)we=M[We];else{for(var Te=We===0?1:R-We;0<=se[We];)if((We-=Te)<0&&(We+=R),se[We]===De){we=M[We];break e}tt(we),we=je,de<4096?(M[We]=de++,se[We]=De):(se.fill(-1),de=2+ce,he=!0,tt(ce))}}return tt(we),tt(ee),X.writeByte(0),X.bytesView();function tt($e){for(q&=i[Z],0<Z?q|=$e<<Z:q=$e,Z+=oe;8<=Z;)Q[ye++]=255&q,254<=ye&&(X.writeByte(ye),X.writeBytesView(Q,0,ye),ye=0),q>>=8,Z-=8;if((de>fe||he)&&(he?(oe=ie,fe=(1<<oe)-1,he=!1):(++oe,fe=oe===12?1<<oe:(1<<oe)-1)),$e==ee){for(;0<Z;)Q[ye++]=255&q,254<=ye&&(X.writeByte(ye),X.writeBytesView(Q,0,ye),ye=0),q>>=8,Z-=8;0<ye&&(X.writeByte(ye),X.writeBytesView(Q,0,ye),ye=0)}}};function u(B,$,V){return B<<8&63488|$<<2&992|V>>3}function g(B,$,V,H){return B>>4|240&$|(240&V)<<4|(240&H)<<8}function y(B,$,V){return B>>4<<8|240&$|V>>4}function d(B,$,V){return B<$?$:V<B?V:B}function l(B){return B*B}function w(B,$,V){var H=0,X=1e100;const Q=B[$];for(var se=Q.cnt,M=Q.ac,R=Q.rc,z=Q.gc,q=Q.bc,Z=Q.fw;Z!=0;Z=B[Z].fw){var te,ie=B[Z],he=ie.cnt,he=se*he/(se+he);X<=he||(te=0,X<=(te+=he*l(ie.rc-R))||X<=(te+=he*l(ie.gc-z))||X<=(te+=he*l(ie.bc-q))||(X=te,H=Z))}Q.err=X,Q.nn=H}function x(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function _(B,$){for(var V=0,H=0;H<B.length;H++){var X=B[H]-$[H];V+=X*X}return V}function T(B,$){return 1<$?Math.round(B/$)*$:B}function E(B){return B*B}function S(B,$,V=_){let H=1/0,X=-1;for(let se=0;se<B.length;se++){var Q=V($,B[se]);Q<H&&(H=Q,X=se)}return X}function P(B,$,V=_){let H=1/0,X=-1;for(let se=0;se<B.length;se++){var Q=V($,B[se]);Q<H&&(H=Q,X=se)}return[X,H]}function N(B={}){const{initialCapacity:$=4096,auto:V=!0}=B,H=v($),X=new Uint8Array(256),Q=new Int32Array(5003),se=new Int32Array(5003);let M=!1;return{reset(){H.reset(),M=!1},finish(){H.writeByte(b.trailer)},bytes(){return H.bytes()},bytesView(){return H.bytesView()},get buffer(){return H.buffer},get stream(){return H},writeHeader:R,writeFrame(z,q,Z,we={}){var{transparent:ie=!1,transparentIndex:he=0,delay:Te=0,palette:oe=null,repeat:ve=0,colorDepth:fe=8,dispose:ce=-1}=we;let ee=!1;if(V?M||(ee=!0,R(),M=!0):ee=!!we.first,q=Math.max(0,Math.floor(q)),Z=Math.max(0,Math.floor(Z)),ee){if(!oe)throw new Error("First frame must include a { palette } option");var[we,je,ye,De,ge=8]=[H,q,Z,oe,fe];De=F(De.length)-1,ge=128|ge-1<<4|De,I(we,je),I(we,ye),we.writeBytes([ge,0,0]),C(H,oe),0<=ve&&(De=H,je=ve,De.writeByte(33),De.writeByte(255),De.writeByte(11),L(De,"NETSCAPE2.0"),De.writeByte(3),De.writeByte(1),I(De,je),De.writeByte(0))}var de,ye=Math.round(Te/10),we=H,ge=ce,ve=ye,je=ie,De=he,Te=(we.writeByte(33),we.writeByte(249),we.writeByte(4),De<0&&(De=0,je=!1),je=je?(de=1,2):de=0,0<=ge&&(je=7&ge),je<<=2,we.writeByte(0|je|de),I(we,ve),we.writeByte(De||0),we.writeByte(0),!!oe&&!ee);ce=H,ie=q,he=Z,de=Te?oe:null,ce.writeByte(44),I(ce,0),I(ce,0),I(ce,ie),I(ce,he),de?(ie=F(de.length)-1,ce.writeByte(128|ie)):ce.writeByte(0),Te&&C(H,oe),[ve,we,he,ie,ce=8,Te,oe,z]=[H,z,q,Z,fe,X,Q,se],f(he,ie,we,ce,ve,Te,oe,z)}};function R(){L(H,"GIF89a")}}function C(B,$){var V=1<<F($.length);for(let H=0;H<V;H++){let X=[0,0,0];H<$.length&&(X=$[H]),B.writeByte(X[0]),B.writeByte(X[1]),B.writeByte(X[2])}}function I(B,$){B.writeByte(255&$),B.writeByte($>>8&255)}function L(B,$){for(var V=0;V<$.length;V++)B.writeByte($.charCodeAt(V))}function F(B){return Math.max(Math.ceil(Math.log2(B)),1)}var D=N},{}],254:[function(t,m,c){c.read=function(a,h,s,p,w){var v,i,f=8*w-p-1,u=(1<<f)-1,g=u>>1,y=-7,d=s?w-1:0,l=s?-1:1,w=a[h+d];for(d+=l,v=w&(1<<-y)-1,w>>=-y,y+=f;0<y;v=256*v+a[h+d],d+=l,y-=8);for(i=v&(1<<-y)-1,v>>=-y,y+=p;0<y;i=256*i+a[h+d],d+=l,y-=8);if(v===0)v=1-g;else{if(v===u)return i?NaN:1/0*(w?-1:1);i+=Math.pow(2,p),v-=g}return(w?-1:1)*i*Math.pow(2,v-p)},c.write=function(a,h,s,p,b,x){var i,f,u=8*x-b-1,g=(1<<u)-1,y=g>>1,d=b===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=p?0:x-1,w=p?1:-1,x=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(f=isNaN(h)?1:0,i=g):(i=Math.floor(Math.log(h)/Math.LN2),h*(p=Math.pow(2,-i))<1&&(i--,p*=2),2<=(h+=1<=i+y?d/p:d*Math.pow(2,1-y))*p&&(i++,p/=2),g<=i+y?(f=0,i=g):1<=i+y?(f=(h*p-1)*Math.pow(2,b),i+=y):(f=h*Math.pow(2,y-1)*Math.pow(2,b),i=0));8<=b;a[s+l]=255&f,l+=w,f/=256,b-=8);for(i=i<<b|f,u+=b;0<u;a[s+l]=255&i,l+=w,i/=256,u-=8);a[s+l-w]|=128*x}},{}],255:[function(t,m,c){var a;function h(J,ne){return J.b===ne.b&&J.a===ne.a}function s(J,ne){return J.b<ne.b||J.b===ne.b&&J.a<=ne.a}function p(J,ne,K){var ae=ne.b-J.b,be=K.b-ne.b;return 0<ae+be?ae<be?ne.a-J.a+ae/(ae+be)*(J.a-K.a):ne.a-K.a+be/(ae+be)*(K.a-J.a):0}function b(J,ne,K){var ae=ne.b-J.b,be=K.b-ne.b;return 0<ae+be?(ne.a-K.a)*ae+(ne.a-J.a)*be:0}function v(J,ne){return J.a<ne.a||J.a===ne.a&&J.b<=ne.b}function i(J,ne,K){var ae=ne.a-J.a,be=K.a-ne.a;return 0<ae+be?ae<be?ne.b-J.b+ae/(ae+be)*(J.b-K.b):ne.b-K.b+be/(ae+be)*(K.b-J.b):0}function f(J,ne,K){var ae=ne.a-J.a,be=K.a-ne.a;return 0<ae+be?(ne.b-K.b)*ae+(ne.b-J.b)*be:0}function u(J,ne,K,ae){return(J=J<0?0:J)<=(K=K<0?0:K)?K===0?(ne+ae)/2:ne+J/(J+K)*(ae-ne):ae+K/(J+K)*(ne-ae)}function g(J){var ne=x(J.b);return T(ne,J.c),T(ne.b,J.c),E(ne,J.a),ne}function y(J,ne){var K=!1,ae=!1;J!==ne&&(ne.a!==J.a&&(ae=!0,P(ne.a,J.a)),ne.d!==J.d&&(K=!0,N(ne.d,J.d)),_(ne,J),ae||(T(ne,J.a),J.a.c=J),K||(E(ne,J.d),J.d.a=J))}function d(J){var ne=J.b,K=!1;J.d!==J.b.d&&(K=!0,N(J.d,J.b.d)),J.c===J?P(J.a,null):(J.b.d.a=J.b.e,J.a.c=J.c,_(J,J.b.e),K||E(J,J.d)),ne.c===ne?(P(ne.a,null),N(ne.d,null)):(J.d.a=ne.b.e,ne.a.c=ne.c,_(ne,ne.b.e)),S(J)}function l(J){var ne=x(J),K=ne.b;return _(ne,J.e),ne.a=J.b.a,T(K,ne.a),ne.d=K.d=J.d,ne=ne.b,_(J.b,J.b.b.e),_(J.b,ne),J.b.a=ne.a,ne.b.a.c=ne.b,ne.b.d=J.b.d,ne.f=J.f,ne.b.f=J.b.f,ne}function w(J,ne){var K=!1,ae=x(J),be=ae.b;return ne.d!==J.d&&(K=!0,N(ne.d,J.d)),_(ae,J.e),_(be,ne),ae.a=J.b.a,be.a=ne.a,ae.d=be.d=J.d,J.d.a=be,K||E(ae,J.d),ae}function x(J){var ne=new ye,K=new ye,ae=J.b.h;return(((K.h=ae).b.h=ne).h=J).b.h=K,ne.b=K,((ne.c=ne).e=K).b=ne,(K.c=K).e=ne}function _(J,ne){var K=J.c,ae=ne.c;K.b.e=ne,(ae.b.e=J).c=ae,ne.c=K}function T(J,ne){var K=ne.f,ae=new ge(ne,K);for(K.e=ae,K=(ne.f=ae).c=J;K.a=ae,(K=K.c)!==J;);}function E(J,ne){var K=ne.d,ae=new de(ne,K);for(K.b=ae,(ne.d=ae).a=J,ae.c=ne.c,K=J;K.d=ae,(K=K.e)!==J;);}function S(J){var ne=J.h;J=J.b.h,(ne.b.h=J).b.h=ne}function P(J,ne){for(var K=J.c,ae=K;ae.a=ne,(ae=ae.c)!==K;);K=J.f,((ae=J.e).f=K).e=ae}function N(J,ne){for(var K=J.a,ae=K;ae.d=ne,(ae=ae.e)!==K;);K=J.d,((ae=J.b).d=K).b=ae}function C(J){var ne=0;return Math.abs(J[1])>Math.abs(J[0])&&(ne=1),ne=Math.abs(J[2])>Math.abs(J[ne])?2:ne}function I(J,ne){J.f+=ne.f,J.b.f+=ne.b.f}function L(J,ne,K){return J=J.a,ne=ne.a,K=K.a,ne.b.a===J?K.b.a===J?s(ne.a,K.a)?b(K.b.a,ne.a,K.a)<=0:0<=b(ne.b.a,K.a,ne.a):b(K.b.a,J,K.a)<=0:K.b.a===J?0<=b(ne.b.a,J,ne.a):(ne=p(ne.b.a,J,ne.a),(J=p(K.b.a,J,K.a))<=ne)}function F(J){J.a.i=null;var ne=J.e;ne.a.c=ne.c,ne.c.a=ne.a,J.e=null}function D(J,ne){d(J.a),J.c=!1,(J.a=ne).i=J}function B(J){for(var ne=J.a.a;(J=Ee(J)).a.a===ne;);return J.c&&(D(J,ne=w(Re(J).a.b,J.a.e)),J=Ee(J)),J}function $(J,ne,K){var ae=new _e;return ae.a=K,ae.e=he(J.f,ne.e,ae),K.i=ae}function V(J,ne){switch(J.s){case 100130:return(1&ne)!=0;case 100131:return ne!==0;case 100132:return 0<ne;case 100133:return ne<0;case 100134:return 2<=ne||ne<=-2}return!1}function H(J){var ne=J.a,K=ne.d;K.c=J.d,K.a=ne,F(J)}function X(J,ne,K){for(ne=(J=ne).a;J!==K;){J.c=!1;var ae=Re(J),be=ae.a;if(be.a!==ne.a){if(!ae.c){H(J);break}D(ae,be=w(ne.c.b,be.b))}ne.c!==be&&(y(be.b.e,be),y(ne,be)),H(J),ne=ae.a,J=ae}return ne}function Q(J,ne,K,ae,be,ke){for(var Le=!0;$(J,ne,K.b),(K=K.c)!==ae;);for(be===null&&(be=Re(ne).a.b.c);(K=(ae=Re(ne)).a.b).a===be.a;)K.c!==be&&(y(K.b.e,K),y(be.b.e,K)),ae.f=ne.f-K.f,ae.d=V(J,ae.f),ne.b=!0,!Le&&z(J,ne)&&(I(K,be),F(ne),d(be)),Le=!1,ne=ae,be=K;ne.b=!0,ke&&Z(J,ne)}function se(J,ne,K,ae,be){var ke=[ne.g[0],ne.g[1],ne.g[2]];ne.d=null,ne.d=J.o&&J.o(ke,K,ae,J.c)||null,ne.d===null&&(be?J.n||(ee(J,100156),J.n=!0):ne.d=K[0])}function M(J,ne,K){var ae=[null,null,null,null];ae[0]=ne.a.d,ae[1]=K.a.d,se(J,ne.a,ae,[.5,.5,0,0],!1),y(ne,K)}function R(J,ne,K,ae,be){var ke=Math.abs(ne.b-J.b)+Math.abs(ne.a-J.a),Le=Math.abs(K.b-J.b)+Math.abs(K.a-J.a),ze=be+1;ae[be]=.5*Le/(ke+Le),ae[ze]=.5*ke/(ke+Le),J.g[0]+=ae[be]*ne.g[0]+ae[ze]*K.g[0],J.g[1]+=ae[be]*ne.g[1]+ae[ze]*K.g[1],J.g[2]+=ae[be]*ne.g[2]+ae[ze]*K.g[2]}function z(J,ne){var K=Re(ne),ae=ne.a,be=K.a;if(s(ae.a,be.a)){if(0<b(be.b.a,ae.a,be.a))return;if(h(ae.a,be.a)){if(ae.a!==be.a){var K=J.e,ke=ae.a.h;if(0<=ke){var Le=(K=K.b).d,ze=K.e,Ve=K.c,qe=Ve[ke];Le[qe]=Le[K.a],(Ve[Le[qe]]=qe)<=--K.a&&(qe<=1||s(ze[Le[qe>>1]],ze[Le[qe]])?Ke:Ye)(K,qe),ze[ke]=null,Ve[ke]=K.b,K.b=ke}else for(K.c[-(ke+1)]=null;0<K.a&&K.c[K.d[K.a-1]]===null;)--K.a;M(J,be.b.e,ae)}}else l(be.b),y(ae,be.b.e),ne.b=K.b=!0}else{if(b(ae.b.a,be.a,ae.a)<0)return;Ee(ne).b=ne.b=!0,l(ae.b),y(be.b.e,ae)}return 1}function q(J,ne){var K=Re(ne),ae=ne.a,be=K.a,ke=ae.a,Le=be.a,ze=ae.b.a,Ve=be.b.a,qe=new ge;if(b(ze,J.a,ke),b(Ve,J.a,Le),!(ke===Le||Math.min(ke.a,ze.a)>Math.max(Le.a,Ve.a))){if(s(ke,Le)){if(0<b(Ve,ke,Le))return}else if(b(ze,Le,ke)<0)return;var Qe,ct,lt=ze,rt=ke,Fe=Ve,Xe=Le;if(s(lt,rt)||(Qe=lt,lt=rt,rt=Qe),s(Fe,Xe)||(Qe=Fe,Fe=Xe,Xe=Qe),s(lt,Fe)||(Qe=lt,lt=Fe,Fe=Qe,Qe=rt,rt=Xe,Xe=Qe),s(Fe,rt)?s(rt,Xe)?((Qe=p(lt,Fe,rt))+(ct=p(Fe,rt,Xe))<0&&(Qe=-Qe,ct=-ct),qe.b=u(Qe,Fe.b,ct,rt.b)):((Qe=b(lt,Fe,rt))+(ct=-b(lt,Xe,rt))<0&&(Qe=-Qe,ct=-ct),qe.b=u(Qe,Fe.b,ct,Xe.b)):qe.b=(Fe.b+rt.b)/2,v(lt,rt)||(Qe=lt,lt=rt,rt=Qe),v(Fe,Xe)||(Qe=Fe,Fe=Xe,Xe=Qe),v(lt,Fe)||(Qe=lt,lt=Fe,Fe=Qe,Qe=rt,rt=Xe,Xe=Qe),v(Fe,rt)?v(rt,Xe)?((Qe=i(lt,Fe,rt))+(ct=i(Fe,rt,Xe))<0&&(Qe=-Qe,ct=-ct),qe.a=u(Qe,Fe.a,ct,rt.a)):((Qe=f(lt,Fe,rt))+(ct=-f(lt,Xe,rt))<0&&(Qe=-Qe,ct=-ct),qe.a=u(Qe,Fe.a,ct,Xe.a)):qe.a=(Fe.a+rt.a)/2,s(qe,J.a)&&(qe.b=J.a.b,qe.a=J.a.a),lt=s(ke,Le)?ke:Le,s(lt,qe)&&(qe.b=lt.b,qe.a=lt.a),h(qe,ke)||h(qe,Le))return z(J,ne),0;if(!h(ze,J.a)&&0<=b(ze,J.a,qe)||!h(Ve,J.a)&&b(Ve,J.a,qe)<=0){if(Ve===J.a)l(ae.b),y(be.b,ae),ae=Re(ne=B(ne)).a,X(J,Re(ne),K),Q(J,ne,ae.b.e,ae,ae,!0);else{if(ze!==J.a)return 0<=b(ze,J.a,qe)&&(Ee(ne).b=ne.b=!0,l(ae.b),ae.a.b=J.a.b,ae.a.a=J.a.a),void(b(Ve,J.a,qe)<=0&&(ne.b=K.b=!0,l(be.b),be.a.b=J.a.b,be.a.a=J.a.a));for(l(be.b),y(ae.e,be.b.e),Le=(ke=K=ne).a.b.a;(ke=Ee(ke)).a.b.a===Le;);ke=Re(ne=ke).a.b.c,K.a=be.b.e,Q(J,ne,(be=X(J,K,null)).c,ae.b.c,ke,!0)}return 1}l(ae.b),l(be.b),y(be.b.e,ae),ae.a.b=qe.b,ae.a.a=qe.a,ae.a.h=je(J.e,ae.a),ae=ae.a,be=[0,0,0,0],qe=[ke.d,ze.d,Le.d,Ve.d],ae.g[0]=ae.g[1]=ae.g[2]=0,R(ae,ke,ze,be,0),R(ae,Le,Ve,be,2),se(J,ae,qe,be,!0),Ee(ne).b=ne.b=K.b=!0}}function Z(J,ne){for(var K=Re(ne);;){for(;K.b;)K=Re(ne=K);if(!ne.b&&((ne=Ee(K=ne))===null||!ne.b))break;ne.b=!1;var ae=ne.a,be=K.a;if(ke=ae.b.a!==be.b.a)e:{var ke,Le=Re(ke=ne),ze=ke.a,Ve=Le.a,qe=void 0;if(s(ze.b.a,Ve.b.a)){if(b(ze.b.a,Ve.b.a,ze.a)<0){ke=!1;break e}Ee(ke).b=ke.b=!0,qe=l(ze),y(Ve.b,qe),qe.d.c=ke.d}else{if(0<b(Ve.b.a,ze.b.a,Ve.a)){ke=!1;break e}ke.b=Le.b=!0,qe=l(Ve),y(ze.e,Ve.b),qe.b.d.c=ke.d}ke=!0}if(ke&&(K.c?(F(K),d(be),be=(K=Re(ne)).a):ne.c&&(F(ne),d(ae),ae=(ne=Ee(K)).a)),ae.a!==be.a){if(ae.b.a===be.b.a||ne.c||K.c||ae.b.a!==J.a&&be.b.a!==J.a)z(J,ne);else if(q(J,ne))break}ae.a===be.a&&ae.b.a===be.b.a&&(I(be,ae),F(ne),d(ae),ne=Ee(K))}}function te(J,ne){var K=new _e,ae=g(J.b);ae.a.b=4e150,ae.a.a=ne,ae.b.a.b=-4e150,ae.b.a.a=ne,J.a=ae.b.a,K.a=ae,K.f=0,K.d=!1,K.c=!1,K.h=!0,K.b=!1,ae=he(ae=J.f,ae.a,K),K.e=ae}function ie(J){this.a=new oe,this.b=J,this.c=L}function he(J,ne,K){for(;(ne=ne.c).b!==null&&!J.c(J.b,ne.b,K););return J=new oe(K,ne.a,ne),ne.a.c=J,ne.a=J}function oe(J,ne,K){this.b=J||null,this.a=ne||this,this.c=K||this}function fe(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ce(J,ne){if(J.d!==ne)for(;J.d!==ne;)if(J.d<ne)switch(J.d){case 0:ee(J,100151),J.u(null);break;case 1:ee(J,100152),J.t()}else switch(J.d){case 2:ee(J,100154),J.v();break;case 1:ee(J,100153),J.w()}}function ee(J,ne){J.p&&J.p(ne,J.c)}function de(J,ne){this.b=J||this,this.d=ne||this,this.a=null,this.c=!1}function ye(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function we(){this.c=new ge,this.a=new de,this.b=new ye,this.d=new ye,this.b.b=this.d,this.d.b=this.b}function ge(J,ne){this.e=J||this,this.f=ne||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ve(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Te}function je(J,ne){var K,ae,be;return J.e?(2*(ae=++(K=J.b).a)>K.f&&(K.f*=2,K.c=tt(K.c,K.f+1)),K.b===0?be=ae:(be=K.b,K.b=K.c[K.b]),K.e[be]=ne,K.c[be]=ae,K.d[ae]=be,K.h&&Ye(K,ae),be):(K=J.a++,J.c[K]=ne,-(K+1))}function De(J){if(J.a===0)return We(J.b);var ne=J.c[J.d[J.a-1]];if(J.b.a!==0&&s($e(J.b),ne))return We(J.b);for(;--J.a,0<J.a&&J.c[J.d[J.a-1]]===null;);return ne}function Te(){this.d=tt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function tt(J,ne){for(var K=Array(ne),ae=0;ae<J.length;ae++)K[ae]=J[ae];for(;ae<ne;ae++)K[ae]=0;return K}function $e(J){return J.e[J.d[1]]}function We(J){var ne=J.d,K=J.e,ae=J.c,be=ne[1],ke=K[be];return 0<J.a&&(ne[1]=ne[J.a],ae[ne[1]]=1,K[be]=null,ae[be]=J.b,J.b=be,0<--J.a&&Ke(J,1)),ke}function Ke(J,ne){for(var K=J.d,ae=J.e,be=J.c,ke=ne,Le=K[ke];;){var ze=ke<<1,Ve=(ze<J.a&&s(ae[K[ze+1]],ae[K[ze]])&&(ze+=1),K[ze]);if(ze>J.a||s(ae[Le],ae[Ve])){be[K[ke]=Le]=ke;break}be[K[ke]=Ve]=ke,ke=ze}}function Ye(J,ne){for(var K=J.d,ae=J.e,be=J.c,ke=ne,Le=K[ke];;){var ze=ke>>1,Ve=K[ze];if(ze==0||s(ae[Ve],ae[Le])){be[K[ke]=Le]=ke;break}be[K[ke]=Ve]=ke,ke=ze}}function _e(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Re(J){return J.e.c.b}function Ee(J){return J.e.a.b}(a=fe.prototype).x=function(){ce(this,0)},a.B=function(J,ne){switch(J){case 100142:return;case 100140:switch(ne){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ne)}break;case 100141:return void(this.m=!!ne);default:return void ee(this,100900)}ee(this,100901)},a.y=function(J){switch(J){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ee(this,100900)}return!1},a.A=function(J,ne,K){this.j[0]=J,this.j[1]=ne,this.j[2]=K},a.z=function(J,ne){var K=ne||null;switch(J){case 100100:case 100106:this.h=K;break;case 100104:case 100110:this.l=K;break;case 100101:case 100107:this.k=K;break;case 100102:case 100108:this.i=K;break;case 100103:case 100109:this.p=K;break;case 100105:case 100111:this.o=K;break;case 100112:this.r=K;break;default:ee(this,100900)}},a.C=function(J,ne){var K=!1,ae=[0,0,0];ce(this,2);for(var be=0;be<3;++be){var ke=J[be];ke<-1e150&&(ke=-1e150,K=!0),1e150<ke&&(ke=1e150,K=!0),ae[be]=ke}K&&ee(this,100155),(K=this.q)===null?y(K=g(this.b),K.b):(l(K),K=K.e),K.a.d=ne,K.a.g[0]=ae[0],K.a.g[1]=ae[1],K.a.g[2]=ae[2],K.f=1,K.b.f=-1,this.q=K},a.u=function(J){ce(this,0),this.d=1,this.b=new we,this.c=J},a.t=function(){ce(this,1),this.d=2,this.q=null},a.v=function(){ce(this,2),this.d=1},a.w=function(){ce(this,1),this.d=0;var J,ne,K=this.j[0],ae=this.j[1],be=this.j[2],ke=!1,Le=[K,ae,be];if(K===0&&ae===0&&be===0){for(var ae=[-2e150,-2e150,-2e150],ze=[2e150,2e150,2e150],be=[],Ve=[],K=(ke=this.b.c).e;K!==ke;K=K.e)for(var qe=0;qe<3;++qe){var Qe=K.g[qe];Qe<ze[qe]&&(ze[qe]=Qe,Ve[qe]=K),Qe>ae[qe]&&(ae[qe]=Qe,be[qe]=K)}if(ae[1]-ze[1]>ae[K=0]-ze[0]&&(K=1),ze[K=ae[2]-ze[2]>ae[K]-ze[K]?2:K]>=ae[K])Le[0]=0,Le[1]=0,Le[2]=1;else{for(ze=Ve[K],be=be[K],Ve=[ae=0,0,0],ze=[ze.g[0]-be.g[0],ze.g[1]-be.g[1],ze.g[2]-be.g[2]],qe=[0,0,0],K=ke.e;K!==ke;K=K.e)qe[0]=K.g[0]-be.g[0],qe[1]=K.g[1]-be.g[1],qe[2]=K.g[2]-be.g[2],Ve[0]=ze[1]*qe[2]-ze[2]*qe[1],Ve[1]=ze[2]*qe[0]-ze[0]*qe[2],Ve[2]=ze[0]*qe[1]-ze[1]*qe[0],ae<(Qe=Ve[0]*Ve[0]+Ve[1]*Ve[1]+Ve[2]*Ve[2])&&(ae=Qe,Le[0]=Ve[0],Le[1]=Ve[1],Le[2]=Ve[2]);ae<=0&&(Le[0]=Le[1]=Le[2]=0,Le[C(ze)]=1)}ke=!0}for(Ve=C(Le),K=this.b.c,ae=(Ve+1)%3,be=(Ve+2)%3,Ve=0<Le[Ve]?1:-1,Le=K.e;Le!==K;Le=Le.e)Le.b=Le.g[ae],Le.a=Ve*Le.g[be];if(ke){for(Le=0,K=(ke=this.b.a).b;K!==ke;K=K.b)if(!((ae=K.a).f<=0))for(;Le+=(ae.a.b-ae.b.a.b)*(ae.a.a+ae.b.a.a),(ae=ae.e)!==K.a;);if(Le<0)for(ke=(Le=this.b.c).e;ke!==Le;ke=ke.e)ke.a=-ke.a}for(this.n=!1,Le=this.b.b,K=Le.h;K!==Le;K=ke)ke=K.h,ae=K.e,h(K.a,K.b.a)&&K.e.e!==K&&(M(this,ae,K),d(K),ae=(K=ae).e),ae.e===K&&(ae!==K&&(ae!==ke&&ae!==ke.b||(ke=ke.h),d(ae)),K!==ke&&K!==ke.b||(ke=ke.h),d(K));for(this.e=Le=new ve,ke=this.b.c,K=ke.e;K!==ke;K=K.e)K.h=je(Le,K);var ct=Le;ct.d=[];for(var lt=0;lt<ct.a;lt++)ct.d[lt]=lt;ct.d.sort(function(Xe){return function(ut,jt){return s(Xe[ut],Xe[jt])?1:-1}}(ct.c)),ct.e=!0;for(var rt=ct.b,Fe=rt.a;1<=Fe;--Fe)Ke(rt,Fe);for(rt.h=!0,this.f=new ie(this),te(this,-4e150),te(this,4e150);(Le=De(this.e))!==null;){for(;;){e:if((K=this.e).a===0)ke=$e(K.b);else if(ke=K.c[K.d[K.a-1]],K.b.a!==0&&s(K=$e(K.b),ke)){ke=K;break e}if(ke===null||!h(ke,Le))break;ke=De(this.e),M(this,Le.c,ke.c)}(function Xe(ut,jt){for(var Et,pt=(ut.a=jt).c;pt.i===null;)if((pt=pt.c)===jt.c){var pt=ut,wt=jt;(Tt=new _e).a=wt.c.b;for(var ar=(yt=pt.f).a;(ar=ar.a).b!==null&&!yt.c(yt.b,Tt,ar.b););var yt,Kt,er=Re(yt=ar.b),Tt=yt.a,ar=er.a;return void(b(Tt.b.a,wt,Tt.a)===0?h((Tt=yt.a).a,wt)||h(Tt.b.a,wt)||(l(Tt.b),yt.c&&(d(Tt.c),yt.c=!1),y(wt.c,Tt),Xe(pt,wt)):(Kt=s(ar.b.a,Tt.b.a)?yt:er,er=void 0,yt.d||Kt.c?(er=Kt===yt?w(wt.c.b,Tt.e):w(ar.b.c.b,wt.c).b,Kt.c?D(Kt,er):((yt=$(Tt=pt,yt,er)).f=Ee(yt).f+yt.a.f,yt.d=V(Tt,yt.f)),Xe(pt,wt)):Q(pt,yt,wt.c,wt.c,null,!0)))}yt=(Tt=Re(pt=B(pt.i))).a,(Tt=X(ut,Tt,null)).c===yt?(Tt=(yt=Tt).c,ar=Re(pt),er=pt.a,Kt=ar.a,Et=!1,er.b.a!==Kt.b.a&&q(ut,pt),h(er.a,ut.a)&&(y(Tt.b.e,er),Tt=Re(pt=B(pt)).a,X(ut,Re(pt),ar),Et=!0),h(Kt.a,ut.a)&&(y(yt,Kt.b.e),yt=X(ut,ar,null),Et=!0),Et?Q(ut,pt,yt.c,Tt,Tt,!0):(wt=s(Kt.a,er.a)?Kt.b.e:er,Q(ut,pt,wt=w(yt.c.b,wt),wt.c,wt.c,!1),wt.b.i.c=!0,Z(ut,pt))):Q(ut,pt,Tt.c,yt,yt,!0)})(this,Le)}for(this.a=this.f.a.a.b.a.a,Le=0;(ke=this.f.a.a.b)!==null;)ke.h||++Le,F(ke);for(this.f=null,(Le=this.e).b=null,Le.d=null,this.e=Le.c=null,Le=this.b,K=Le.a.b;K!==Le.a;K=ke)ke=K.b,(K=K.a).e.e===K&&(I(K.c,K),d(K));if(!this.n){if(Le=this.b,this.m)for(K=Le.b.h;K!==Le.b;K=ke)ke=K.h,K.b.d.c!==K.d.c?K.f=K.d.c?1:-1:d(K);else for(K=Le.a.b;K!==Le.a;K=ke)if(ke=K.b,K.c){for(K=K.a;s(K.b.a,K.a);K=K.c.b);for(;s(K.a,K.b.a);K=K.e);for(ae=K.c.b,be=void 0;K.e!==ae;)if(s(K.b.a,ae.a)){for(;ae.e!==K&&(s((ne=ae.e).b.a,ne.a)||b(ae.a,ae.b.a,ae.e.b.a)<=0);)ae=(be=w(ae.e,ae)).b;ae=ae.c.b}else{for(;ae.e!==K&&(s((J=K.c.b).a,J.b.a)||0<=b(K.b.a,K.a,K.c.b.a));)K=(be=w(K,K.c.b)).b;K=K.e}for(;ae.e.e!==K;)be=w(ae.e,ae),ae=be.b}if(this.h||this.i||this.k||this.l)if(this.m){for(ke=(Le=this.b).a.b;ke!==Le.a;ke=ke.b)if(ke.c){for(this.h&&this.h(2,this.c),K=ke.a;this.k&&this.k(K.a.d,this.c),(K=K.e)!==ke.a;);this.i&&this.i(this.c)}}else{for(Le=this.b,ke=!!this.l,K=!1,ae=-1,be=Le.a.d;be!==Le.a;be=be.d)if(be.c)for(K||(this.h&&this.h(4,this.c),K=!0),Ve=be.a;ke&&(ze=Ve.b.d.c?0:1,ae!==ze&&(ae=ze,this.l&&this.l(!!ae,this.c))),this.k&&this.k(Ve.a.d,this.c),(Ve=Ve.e)!==be.a;);K&&this.i&&this.i(this.c)}if(this.r){for(Le=this.b,K=Le.a.b;K!==Le.a;K=ke)if(ke=K.b,!K.c){for(be=(ae=K.a).e,Ve=void 0;be=(Ve=be).e,(Ve.d=null)===Ve.b.d&&(Ve.c===Ve?P(Ve.a,null):(Ve.a.c=Ve.c,_(Ve,Ve.b.e)),(ze=Ve.b).c===ze?P(ze.a,null):(ze.a.c=ze.c,_(ze,ze.b.e)),S(Ve)),Ve!==ae;);ae=K.d,((K=K.b).d=ae).b=K}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:fe,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},fe.prototype.gluDeleteTess=fe.prototype.x,fe.prototype.gluTessProperty=fe.prototype.B,fe.prototype.gluGetTessProperty=fe.prototype.y,fe.prototype.gluTessNormal=fe.prototype.A,fe.prototype.gluTessCallback=fe.prototype.z,fe.prototype.gluTessVertex=fe.prototype.C,fe.prototype.gluTessBeginPolygon=fe.prototype.u,fe.prototype.gluTessBeginContour=fe.prototype.t,fe.prototype.gluTessEndContour=fe.prototype.v,fe.prototype.gluTessEndPolygon=fe.prototype.w,m!==void 0&&(m.exports=this.libtess)},{}],256:[function(t,m,c){function a(s,p,b,v){var i=0,f=(v=v===void 0?{}:v).loop===void 0?null:v.loop,u=v.palette===void 0?null:v.palette;if(p<=0||b<=0||65535<p||65535<b)throw new Error("Width/Height invalid.");function g(E){if(E=E.length,E<2||256<E||E&E-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return E}s[i++]=71,s[i++]=73,s[i++]=70,s[i++]=56,s[i++]=57,s[i++]=97;var y=0,d=0;if(u!==null){for(var l=g(u);l>>=1;)++y;if(l=1<<y,--y,v.background!==void 0){if(l<=(d=v.background))throw new Error("Background index out of range.");if(d===0)throw new Error("Background index explicitly passed as 0.")}}if(s[i++]=255&p,s[i++]=p>>8&255,s[i++]=255&b,s[i++]=b>>8&255,s[i++]=(u!==null?128:0)|y,s[i++]=d,s[i++]=0,u!==null)for(var w=0,x=u.length;w<x;++w){var _=u[w];s[i++]=_>>16&255,s[i++]=_>>8&255,s[i++]=255&_}if(f!==null){if(f<0||65535<f)throw new Error("Loop count invalid.");s[i++]=33,s[i++]=255,s[i++]=11,s[i++]=78,s[i++]=69,s[i++]=84,s[i++]=83,s[i++]=67,s[i++]=65,s[i++]=80,s[i++]=69,s[i++]=50,s[i++]=46,s[i++]=48,s[i++]=3,s[i++]=1,s[i++]=255&f,s[i++]=f>>8&255,s[i++]=0}var T=!1;this.addFrame=function(E,S,P,N,C,I){if(T===!0&&(--i,T=!1),I=I===void 0?{}:I,E<0||S<0||65535<E||65535<S)throw new Error("x/y invalid.");if(P<=0||N<=0||65535<P||65535<N)throw new Error("Width/Height invalid.");if(C.length<P*N)throw new Error("Not enough pixels for the frame size.");var L=!0,F=I.palette;if(F==null&&(L=!1,F=u),F==null)throw new Error("Must supply either a local or global palette.");for(var B=g(F),D=0;B>>=1;)++D;var B=1<<D,$=I.delay===void 0?0:I.delay,V=I.disposal===void 0?0:I.disposal;if(V<0||3<V)throw new Error("Disposal out of range.");var H=!1,X=0;if(I.transparent!==void 0&&I.transparent!==null&&(H=!0,(X=I.transparent)<0||B<=X))throw new Error("Transparent color index.");if(V===0&&!H&&$===0||(s[i++]=33,s[i++]=249,s[i++]=4,s[i++]=V<<2|(H===!0?1:0),s[i++]=255&$,s[i++]=$>>8&255,s[i++]=X,s[i++]=0),s[i++]=44,s[i++]=255&E,s[i++]=E>>8&255,s[i++]=255&S,s[i++]=S>>8&255,s[i++]=255&P,s[i++]=P>>8&255,s[i++]=255&N,s[i++]=N>>8&255,s[i++]=L===!0?128|D-1:0,L===!0)for(var Q=0,se=F.length;Q<se;++Q){var M=F[Q];s[i++]=M>>16&255,s[i++]=M>>8&255,s[i++]=255&M}return i=function(R,z,q,Z){R[z++]=q;var te=z++,ie=1<<q,he=ie-1,oe=1+ie,fe=1+oe,ce=q+1,ee=0,de=0;function ye(We){for(;We<=ee;)R[z++]=255&de,de>>=8,ee-=8,z===te+256&&(R[te]=255,te=z++)}function we(We){de|=We<<ee,ee+=ce,ye(8)}var ge=Z[0]&he,ve={};we(ie);for(var je=1,De=Z.length;je<De;++je){var Te=Z[je]&he,tt=ge<<8|Te,$e=ve[tt];if($e===void 0){for(de|=ge<<ee,ee+=ce;8<=ee;)R[z++]=255&de,de>>=8,ee-=8,z===te+256&&(R[te]=255,te=z++);fe===4096?(we(ie),fe=1+oe,ce=q+1,ve={}):(1<<ce<=fe&&++ce,ve[tt]=fe++),ge=Te}else ge=$e}return we(ge),we(oe),ye(1),te+1===z?R[te]=0:(R[te]=z-te-1,R[z++]=0),z}(s,i,D<2?2:D,C)},this.end=function(){return T===!1&&(s[i++]=59,T=!0),i},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(E){s=E},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(E){i=E}}function h(s,p,b,v){for(var i=s[p++],f=1<<i,u=1+f,g=1+u,y=i+1,d=(1<<y)-1,l=0,w=0,x=0,_=s[p++],T=new Int32Array(4096),E=null;;){for(;l<16&&_!==0;)w|=s[p++]<<l,l+=8,_===1?_=s[p++]:--_;if(l<y)break;var S=w&d;if(w>>=y,l-=y,S==f)g=1+u,d=(1<<(y=i+1))-1,E=null;else{if(S==u)break;for(var P=S<g?S:E,N=0,C=P;f<C;)C=T[C]>>8,++N;var I=C;if(v<x+N+(P!==S?1:0))return void console.log("Warning, gif stream longer than expected.");b[x++]=I;var L=x+=N;for(P!==S&&(b[x++]=I),C=P;N--;)C=T[C],b[--L]=255&C,C>>=8;E!==null&&g<4096&&(T[g++]=E<<8|I,d+1<=g&&y<12&&(++y,d=d<<1|1)),E=S}}x!==v&&console.log("Warning, gif stream shorter than expected.")}try{c.GifWriter=a,c.GifReader=function(s){var p=0;if(s[p++]!==71||s[p++]!==73||s[p++]!==70||s[p++]!==56||(s[p++]+1&253)!=56||s[p++]!==97)throw new Error("Invalid GIF 87a/89a header.");var b=s[p++]|s[p++]<<8,v=s[p++]|s[p++]<<8,i=s[p++],f=1<<1+(7&i),u=(s[p++],s[p++],null),g=null,y=(i>>7&&(u=p,p+=3*(g=f)),!0),d=[],l=0,w=null,x=0,_=null;for(this.width=b,this.height=v;y&&p<s.length;)switch(s[p++]){case 33:switch(s[p++]){case 255:if(s[p]!==11||s[p+1]==78&&s[p+2]==69&&s[p+3]==84&&s[p+4]==83&&s[p+5]==67&&s[p+6]==65&&s[p+7]==80&&s[p+8]==69&&s[p+9]==50&&s[p+10]==46&&s[p+11]==48&&s[p+12]==3&&s[p+13]==1&&s[p+16]==0)p+=14,_=s[p++]|s[p++]<<8,p++;else for(p+=12;;){if(!(0<=(E=s[p++])))throw Error("Invalid block size");if(E===0)break;p+=E}break;case 249:if(s[p++]!==4||s[p+4]!==0)throw new Error("Invalid graphics extension block.");var T=s[p++],l=s[p++]|s[p++]<<8,w=s[p++];!(1&T)&&(w=null),x=T>>2&7,p++;break;case 254:for(;;){if(!(0<=(E=s[p++])))throw Error("Invalid block size");if(E===0)break;p+=E}break;default:throw new Error("Unknown graphic control label: 0x"+s[p-1].toString(16))}break;case 44:var E,S=s[p++]|s[p++]<<8,P=s[p++]|s[p++]<<8,N=s[p++]|s[p++]<<8,C=s[p++]|s[p++]<<8,$=s[p++],I=$>>6&1,L=1<<1+(7&$),F=u,D=g,B=!1,$=($>>7&&(B=!0,F=p,p+=3*(D=L)),p);for(p++;;){if(!(0<=(E=s[p++])))throw Error("Invalid block size");if(E===0)break;p+=E}d.push({x:S,y:P,width:N,height:C,has_local_palette:B,palette_offset:F,palette_size:D,data_offset:$,data_length:p-$,transparent_index:w,interlaced:!!I,delay:l,disposal:x});break;case 59:y=!1;break;default:throw new Error("Unknown gif block: 0x"+s[p-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return _},this.frameInfo=function(V){if(V<0||V>=d.length)throw new Error("Frame index out of range.");return d[V]},this.decodeAndBlitFrameBGRA=function(V,H){for(var V=this.frameInfo(V),X=V.width*V.height,Q=new Uint8Array(X),se=(h(s,V.data_offset,Q,X),V.palette_offset),M=V.transparent_index,R=(M===null&&(M=256),V.width),z=b-R,q=R,Z=4*(V.y*b+V.x),te=4*((V.y+V.height)*b+V.x),ie=Z,he=4*z,oe=(V.interlaced===!0&&(he+=4*b*7),8),fe=0,ce=Q.length;fe<ce;++fe){var ee,de,ye=Q[fe];q===0&&(q=R,te<=(ie+=he)&&(he=4*z+4*b*(oe-1),ie=Z+(R+z)*(oe<<1),oe>>=1)),ye===M?ie+=4:(ee=s[se+3*ye],de=s[se+3*ye+1],ye=s[se+3*ye+2],H[ie++]=ye,H[ie++]=de,H[ie++]=ee,H[ie++]=255),--q}},this.decodeAndBlitFrameRGBA=function(V,H){for(var V=this.frameInfo(V),X=V.width*V.height,Q=new Uint8Array(X),se=(h(s,V.data_offset,Q,X),V.palette_offset),M=V.transparent_index,R=(M===null&&(M=256),V.width),z=b-R,q=R,Z=4*(V.y*b+V.x),te=4*((V.y+V.height)*b+V.x),ie=Z,he=4*z,oe=(V.interlaced===!0&&(he+=4*b*7),8),fe=0,ce=Q.length;fe<ce;++fe){var ee,de,ye=Q[fe];q===0&&(q=R,te<=(ie+=he)&&(he=4*z+4*b*(oe-1),ie=Z+(R+z)*(oe<<1),oe>>=1)),ye===M?ie+=4:(ee=s[se+3*ye],de=s[se+3*ye+1],ye=s[se+3*ye+2],H[ie++]=ee,H[ie++]=de,H[ie++]=ye,H[ie++]=255),--q}}}}catch{}},{}],257:[function(t,m,c){(function(a){var h,s;h=this,s=function(p){function b(U){if(this==null)throw TypeError();var k,O=String(this),A=O.length,U=U?Number(U):0;if(!((U=U!=U?0:U)<0||A<=U))return 55296<=(k=O.charCodeAt(U))&&k<=56319&&U+1<A&&56320<=(A=O.charCodeAt(U+1))&&A<=57343?1024*(k-55296)+A-56320+65536:k}String.prototype.codePointAt||((v=function(){try{var j={},k=Object.defineProperty,O=k(j,j,j)&&k}catch{}return O}())?v(String.prototype,"codePointAt",{value:b,configurable:!0,writable:!0}):String.prototype.codePointAt=b);var v,i=0,f=-3;function u(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function g(j,k){this.source=j,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=k,this.destLen=0,this.ltree=new u,this.dtree=new u}var y=new u,d=new u,l=new Uint8Array(30),w=new Uint16Array(30),x=new Uint8Array(30),_=new Uint16Array(30),T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E=new u,S=new Uint8Array(320);function P(j,k,O,A){for(var U,W=0;W<O;++W)j[W]=0;for(W=0;W<30-O;++W)j[W+O]=W/O|0;for(U=A,W=0;W<30;++W)k[W]=U,U+=1<<j[W]}var N=new Uint16Array(16);function C(j,k,O,A){for(var U,W=0;W<16;++W)j.table[W]=0;for(W=0;W<A;++W)j.table[k[O+W]]++;for(W=U=j.table[0]=0;W<16;++W)N[W]=U,U+=j.table[W];for(W=0;W<A;++W)k[O+W]&&(j.trans[N[k[O+W]]++]=W)}function I(j,k,O){if(!k)return O;for(;j.bitcount<24;)j.tag|=j.source[j.sourceIndex++]<<j.bitcount,j.bitcount+=8;var A=j.tag&65535>>>16-k;return j.tag>>>=k,j.bitcount-=k,A+O}function L(j,k){for(;j.bitcount<24;)j.tag|=j.source[j.sourceIndex++]<<j.bitcount,j.bitcount+=8;for(var O=0,A=0,U=0,W=j.tag;A=2*A+(1&W),W>>>=1,O+=k.table[++U],0<=(A-=k.table[U]););return j.tag=W,j.bitcount-=U,k.trans[O+A]}function F(j,k,O){for(;;){var A=L(j,k);if(A===256)return i;if(A<256)j.dest[j.destLen++]=A;else for(var U,W=I(j,l[A-=257],w[A]),A=L(j,O),Y=U=j.destLen-I(j,x[A],_[A]);Y<U+W;++Y)j.dest[j.destLen++]=j.dest[Y]}}for(var D=y,B=d,$=0;$<7;++$)D.table[$]=0;for(D.table[7]=24,D.table[8]=152,D.table[9]=112,$=0;$<24;++$)D.trans[$]=256+$;for($=0;$<144;++$)D.trans[24+$]=$;for($=0;$<8;++$)D.trans[168+$]=280+$;for($=0;$<112;++$)D.trans[176+$]=144+$;for($=0;$<5;++$)B.table[$]=0;for(B.table[5]=32,$=0;$<32;++$)B.trans[$]=$;P(l,w,4,3),P(x,_,2,1),l[28]=0,w[28]=258;var V=function(j,k){var O,A,U,W=new g(j,k);do{switch(U=void 0,(A=W).bitcount--||(A.tag=A.source[A.sourceIndex++],A.bitcount=7),U=1&A.tag,A.tag>>>=1,A=U,I(W,2,0)){case 0:O=function(Oe){for(var st,dt;8<Oe.bitcount;)Oe.sourceIndex--,Oe.bitcount-=8;if((st=256*Oe.source[Oe.sourceIndex+1]+Oe.source[Oe.sourceIndex])!==(65535&~(256*Oe.source[Oe.sourceIndex+3]+Oe.source[Oe.sourceIndex+2])))return f;for(Oe.sourceIndex+=4,dt=st;dt;--dt)Oe.dest[Oe.destLen++]=Oe.source[Oe.sourceIndex++];return Oe.bitcount=0,i}(W);break;case 1:O=F(W,y,d);break;case 2:Ae=Pe=Ie=Ce=Y=pe=Se=Me=xe=le=ue=re=void 0;for(var Y,re=W,ue=W.ltree,le=W.dtree,xe=I(re,5,257),Me=I(re,5,1),Se=I(re,4,4),pe=0;pe<19;++pe)S[pe]=0;for(pe=0;pe<Se;++pe){var Ie=I(re,3,0);S[T[pe]]=Ie}for(C(E,S,0,19),Y=0;Y<xe+Me;){var Pe=L(re,E);switch(Pe){case 16:for(var Ae=S[Y-1],Ce=I(re,2,3);Ce;--Ce)S[Y++]=Ae;break;case 17:for(Ce=I(re,3,3);Ce;--Ce)S[Y++]=0;break;case 18:for(Ce=I(re,7,11);Ce;--Ce)S[Y++]=0;break;default:S[Y++]=Pe}}C(ue,S,0,xe),C(le,S,xe,Me),O=F(W,W.ltree,W.dtree);break;default:O=f}if(O!==i)throw new Error("Data error")}while(!A);return W.destLen<W.dest.length?typeof W.dest.slice=="function"?W.dest.slice(0,W.destLen):W.dest.subarray(0,W.destLen):W.dest};function H(j,k,O,A,U){return Math.pow(1-U,3)*j+3*Math.pow(1-U,2)*U*k+3*(1-U)*Math.pow(U,2)*O+Math.pow(U,3)*A}function X(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Q(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function se(j){throw new Error(j)}function M(j,k){j||se(k)}X.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},X.prototype.addPoint=function(j,k){typeof j=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=j,this.x2=j),j<this.x1&&(this.x1=j),j>this.x2&&(this.x2=j)),typeof k=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=k,this.y2=k),k<this.y1&&(this.y1=k),k>this.y2&&(this.y2=k))},X.prototype.addX=function(j){this.addPoint(j,null)},X.prototype.addY=function(j){this.addPoint(null,j)},X.prototype.addBezier=function(j,k,O,A,U,W,Y,re){var ue=[j,k],le=[O,A],xe=[U,W],Me=[Y,re];this.addPoint(j,k),this.addPoint(Y,re);for(var Se=0;Se<=1;Se++){var pe,Ie=6*ue[Se]-12*le[Se]+6*xe[Se],Pe=-3*ue[Se]+9*le[Se]-9*xe[Se]+3*Me[Se],Ae=3*le[Se]-3*ue[Se];Pe==0?Ie==0||0<(pe=-Ae/Ie)&&pe<1&&(Se===0&&this.addX(H(ue[Se],le[Se],xe[Se],Me[Se],pe)),Se===1&&this.addY(H(ue[Se],le[Se],xe[Se],Me[Se],pe))):(pe=Math.pow(Ie,2)-4*Ae*Pe)<0||(0<(Ae=(-Ie+Math.sqrt(pe))/(2*Pe))&&Ae<1&&(Se===0&&this.addX(H(ue[Se],le[Se],xe[Se],Me[Se],Ae)),Se===1&&this.addY(H(ue[Se],le[Se],xe[Se],Me[Se],Ae))),0<(Ae=(-Ie-Math.sqrt(pe))/(2*Pe))&&Ae<1&&(Se===0&&this.addX(H(ue[Se],le[Se],xe[Se],Me[Se],Ae)),Se===1&&this.addY(H(ue[Se],le[Se],xe[Se],Me[Se],Ae))))}},X.prototype.addQuad=function(j,k,O,A,U,W){O=j+2/3*(O-j),A=k+2/3*(A-k),this.addBezier(j,k,O,A,O+1/3*(U-j),A+1/3*(W-k),U,W)},Q.prototype.moveTo=function(j,k){this.commands.push({type:"M",x:j,y:k})},Q.prototype.lineTo=function(j,k){this.commands.push({type:"L",x:j,y:k})},Q.prototype.curveTo=Q.prototype.bezierCurveTo=function(j,k,O,A,U,W){this.commands.push({type:"C",x1:j,y1:k,x2:O,y2:A,x:U,y:W})},Q.prototype.quadTo=Q.prototype.quadraticCurveTo=function(j,k,O,A){this.commands.push({type:"Q",x1:j,y1:k,x:O,y:A})},Q.prototype.close=Q.prototype.closePath=function(){this.commands.push({type:"Z"})},Q.prototype.extend=function(j){var k;if(j.commands)j=j.commands;else if(j instanceof X)return k=j,this.moveTo(k.x1,k.y1),this.lineTo(k.x2,k.y1),this.lineTo(k.x2,k.y2),this.lineTo(k.x1,k.y2),void this.close();Array.prototype.push.apply(this.commands,j)},Q.prototype.getBoundingBox=function(){for(var j=new X,k=0,O=0,A=0,U=0,W=0;W<this.commands.length;W++){var Y=this.commands[W];switch(Y.type){case"M":j.addPoint(Y.x,Y.y),k=A=Y.x,O=U=Y.y;break;case"L":j.addPoint(Y.x,Y.y),A=Y.x,U=Y.y;break;case"Q":j.addQuad(A,U,Y.x1,Y.y1,Y.x,Y.y),A=Y.x,U=Y.y;break;case"C":j.addBezier(A,U,Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y),A=Y.x,U=Y.y;break;case"Z":A=k,U=O;break;default:throw new Error("Unexpected path command "+Y.type)}}return j.isEmpty()&&j.addPoint(0,0),j},Q.prototype.draw=function(j){j.beginPath();for(var k=0;k<this.commands.length;k+=1){var O=this.commands[k];O.type==="M"?j.moveTo(O.x,O.y):O.type==="L"?j.lineTo(O.x,O.y):O.type==="C"?j.bezierCurveTo(O.x1,O.y1,O.x2,O.y2,O.x,O.y):O.type==="Q"?j.quadraticCurveTo(O.x1,O.y1,O.x,O.y):O.type==="Z"&&j.closePath()}this.fill&&(j.fillStyle=this.fill,j.fill()),this.stroke&&(j.strokeStyle=this.stroke,j.lineWidth=this.strokeWidth,j.stroke())},Q.prototype.toPathData=function(j){function k(){for(var W=arguments,Y="",re=0;re<arguments.length;re+=1){var ue=W[re];0<=ue&&0<re&&(Y+=" "),Y+=(ue=ue,Math.round(ue)===ue?""+Math.round(ue):ue.toFixed(j))}return Y}j=j!==void 0?j:2;for(var O="",A=0;A<this.commands.length;A+=1){var U=this.commands[A];U.type==="M"?O+="M"+k(U.x,U.y):U.type==="L"?O+="L"+k(U.x,U.y):U.type==="C"?O+="C"+k(U.x1,U.y1,U.x2,U.y2,U.x,U.y):U.type==="Q"?O+="Q"+k(U.x1,U.y1,U.x,U.y):U.type==="Z"&&(O+="Z")}return O},Q.prototype.toSVG=function(j){var k=(k='<path d="')+this.toPathData(j)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?k+=' fill="none"':k+=' fill="'+this.fill+'"'),this.stroke&&(k+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),k+="/>"},Q.prototype.toDOMElement=function(k){var k=this.toPathData(k),O=document.createElementNS("http://www.w3.org/2000/svg","path");return O.setAttribute("d",k),O};var R={fail:se,argument:M,assert:M},z={},q={},Z={};function te(j){return function(){return j}}q.BYTE=function(j){return R.argument(0<=j&&j<=255,"Byte value should be between 0 and 255."),[j]},Z.BYTE=te(1),q.CHAR=function(j){return[j.charCodeAt(0)]},Z.CHAR=te(1),q.CHARARRAY=function(j){for(var k=[],O=0;O<j.length;O+=1)k[O]=j.charCodeAt(O);return k},Z.CHARARRAY=function(j){return j.length},q.USHORT=function(j){return[j>>8&255,255&j]},Z.USHORT=te(2),q.SHORT=function(j){return[(j=32768<=j?-(65536-j):j)>>8&255,255&j]},Z.SHORT=te(2),q.UINT24=function(j){return[j>>16&255,j>>8&255,255&j]},Z.UINT24=te(3),q.ULONG=function(j){return[j>>24&255,j>>16&255,j>>8&255,255&j]},Z.ULONG=te(4),q.LONG=function(j){return[(j=2147483648<=j?-(4294967296-j):j)>>24&255,j>>16&255,j>>8&255,255&j]},Z.LONG=te(4),q.FIXED=q.ULONG,Z.FIXED=Z.ULONG,q.FWORD=q.SHORT,Z.FWORD=Z.SHORT,q.UFWORD=q.USHORT,Z.UFWORD=Z.USHORT,q.LONGDATETIME=function(j){return[0,0,0,0,j>>24&255,j>>16&255,j>>8&255,255&j]},Z.LONGDATETIME=te(8),q.TAG=function(j){return R.argument(j.length===4,"Tag should be exactly 4 ASCII characters."),[j.charCodeAt(0),j.charCodeAt(1),j.charCodeAt(2),j.charCodeAt(3)]},Z.TAG=te(4),q.Card8=q.BYTE,Z.Card8=Z.BYTE,q.Card16=q.USHORT,Z.Card16=Z.USHORT,q.OffSize=q.BYTE,Z.OffSize=Z.BYTE,q.SID=q.USHORT,Z.SID=Z.USHORT,q.NUMBER=function(j){return-107<=j&&j<=107?[j+139]:108<=j&&j<=1131?[247+((j-=108)>>8),255&j]:-1131<=j&&j<=-108?[251+((j=-j-108)>>8),255&j]:-32768<=j&&j<=32767?q.NUMBER16(j):q.NUMBER32(j)},Z.NUMBER=function(j){return q.NUMBER(j).length},q.NUMBER16=function(j){return[28,j>>8&255,255&j]},Z.NUMBER16=te(3),q.NUMBER32=function(j){return[29,j>>24&255,j>>16&255,j>>8&255,255&j]},Z.NUMBER32=te(5),q.REAL=function(j){for(var k=j.toString(),O=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(k),A=(O&&(O=parseFloat("1e"+((O[2]?+O[2]:0)+O[1].length)),k=(Math.round(j*O)/O).toString()),""),U=0,W=k.length;U<W;U+=1){var Y=k[U];A+=Y==="e"?k[++U]==="-"?"c":"b":Y==="."?"a":Y==="-"?"e":Y}for(var re=[30],ue=0,le=(A+=1&A.length?"f":"ff").length;ue<le;ue+=2)re.push(parseInt(A.substr(ue,2),16));return re},Z.REAL=function(j){return q.REAL(j).length},q.NAME=q.CHARARRAY,Z.NAME=Z.CHARARRAY,q.STRING=q.CHARARRAY,Z.STRING=Z.CHARARRAY,z.UTF8=function(j,k,O){for(var A=[],U=O,W=0;W<U;W++,k+=1)A[W]=j.getUint8(k);return String.fromCharCode.apply(null,A)},z.UTF16=function(j,k,O){for(var A=[],U=O/2,W=0;W<U;W++,k+=2)A[W]=j.getUint16(k);return String.fromCharCode.apply(null,A)},q.UTF16=function(j){for(var k=[],O=0;O<j.length;O+=1){var A=j.charCodeAt(O);k[k.length]=A>>8&255,k[k.length]=255&A}return k},Z.UTF16=function(j){return 2*j.length};var ie,he={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},oe=(z.MACSTRING=function(j,k,O,A){var U=he[A];if(U!==void 0){for(var W="",Y=0;Y<O;Y++){var re=j.getUint8(k+Y);W+=re<=127?String.fromCharCode(re):U[127&re]}return W}},typeof WeakMap=="function"&&new WeakMap);function fe(j){return-128<=j&&j<=127}q.MACSTRING=function(j,k){var O=function(Y){if(!ie)for(var re in ie={},he)ie[re]=new String(re);var ue=ie[Y];if(ue!==void 0){if(oe){var le=oe.get(ue);if(le!==void 0)return le}var xe=he[Y];if(xe!==void 0){for(var Me={},Se=0;Se<xe.length;Se++)Me[xe.charCodeAt(Se)]=Se+128;return oe&&oe.set(ue,Me),Me}}}(k);if(O!==void 0){for(var A=[],U=0;U<j.length;U++){var W=j.charCodeAt(U);if(128<=W&&(W=O[W])===void 0)return;A[U]=W}return A}},Z.MACSTRING=function(j,k){return j=q.MACSTRING(j,k),j!==void 0?j.length:0},q.VARDELTAS=function(j){for(var A=0,k=[];A<j.length;)var O=j[A],A=(O===0?function(U,W,Y){for(var re=0,ue=U.length;W<ue&&re<64&&U[W]===0;)++W,++re;return Y.push(128|re-1),W}:-128<=O&&O<=127?function(U,W,Y){for(var re=0,ue=U.length,le=W;le<ue&&re<64;){var xe=U[le];if(!fe(xe)||xe===0&&le+1<ue&&U[le+1]===0)break;++le,++re}Y.push(re-1);for(var Me=W;Me<le;++Me)Y.push(U[Me]+256&255);return le}:function(U,W,Y){for(var re=0,ue=U.length,le=W;le<ue&&re<64;){var xe=U[le];if(xe===0||fe(xe)&&le+1<ue&&fe(U[le+1]))break;++le,++re}Y.push(64|re-1);for(var Me=W;Me<le;++Me){var Se=U[Me];Y.push(Se+65536>>8&255,Se+256&255)}return le})(j,A,k);return k},q.INDEX=function(j){for(var k=1,O=[k],A=[],U=0;U<j.length;U+=1){var W=q.OBJECT(j[U]);Array.prototype.push.apply(A,W),k+=W.length,O.push(k)}if(A.length===0)return[0,0];for(var Y=[],re=1+Math.floor(Math.log(k)/Math.log(2))/8|0,ue=[void 0,q.BYTE,q.USHORT,q.UINT24,q.ULONG][re],le=0;le<O.length;le+=1){var xe=ue(O[le]);Array.prototype.push.apply(Y,xe)}return Array.prototype.concat(q.Card16(j.length),q.OffSize(re),Y,A)},Z.INDEX=function(j){return q.INDEX(j).length},q.DICT=function(j){for(var k=[],O=Object.keys(j),A=O.length,U=0;U<A;U+=1){var W=parseInt(O[U],0),Y=j[W];k=(k=k.concat(q.OPERAND(Y.value,Y.type))).concat(q.OPERATOR(W))}return k},Z.DICT=function(j){return q.DICT(j).length},q.OPERATOR=function(j){return j<1200?[j]:[12,j-1200]},q.OPERAND=function(j,k){var O=[];if(Array.isArray(k))for(var A=0;A<k.length;A+=1)R.argument(j.length===k.length,"Not enough arguments given for type"+k),O=O.concat(q.OPERAND(j[A],k[A]));else if(k==="SID")O=O.concat(q.NUMBER(j));else if(k==="offset")O=O.concat(q.NUMBER32(j));else if(k==="number")O=O.concat(q.NUMBER(j));else{if(k!=="real")throw new Error("Unknown operand type "+k);O=O.concat(q.REAL(j))}return O},q.OP=q.BYTE,Z.OP=Z.BYTE;var ce=typeof WeakMap=="function"&&new WeakMap;function ee(j,k,O){for(var A=0;A<k.length;A+=1){var U=k[A];this[U.name]=U.value}if(this.tableName=j,this.fields=k,O)for(var W=Object.keys(O),Y=0;Y<W.length;Y+=1){var re=W[Y],ue=O[re];this[re]!==void 0&&(this[re]=ue)}}function de(j,k,O){O===void 0&&(O=k.length);var A=new Array(k.length+1);A[0]={name:j+"Count",type:"USHORT",value:O};for(var U=0;U<k.length;U++)A[U+1]={name:j+U,type:"USHORT",value:k[U]};return A}function ye(j,k,O){var A=k.length,U=new Array(A+1);U[0]={name:j+"Count",type:"USHORT",value:A};for(var W=0;W<A;W++)U[W+1]={name:j+W,type:"TABLE",value:O(k[W],W)};return U}function we(j,k,O){var A=k.length,U=[];U[0]={name:j+"Count",type:"USHORT",value:A};for(var W=0;W<A;W++)U=U.concat(O(k[W],W));return U}function ge(j){j.format===1?ee.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(de("glyph",j.glyphs))):R.assert(!1,"Can't create coverage table format 2 yet.")}function ve(j){ee.call(this,"scriptListTable",we("scriptRecord",j,function(k,O){var A=k.script,U=A.defaultLangSys;return R.assert(!!U,"Unable to write GSUB: script "+k.tag+" has no default language system."),[{name:"scriptTag"+O,type:"TAG",value:k.tag},{name:"script"+O,type:"TABLE",value:new ee("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ee("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:U.reqFeatureIndex}].concat(de("featureIndex",U.featureIndexes)))}].concat(we("langSys",A.langSysRecords,function(W,Y){var re=W.langSys;return[{name:"langSysTag"+Y,type:"TAG",value:W.tag},{name:"langSys"+Y,type:"TABLE",value:new ee("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:re.reqFeatureIndex}].concat(de("featureIndex",re.featureIndexes)))}]})))}]}))}function je(j){ee.call(this,"featureListTable",we("featureRecord",j,function(k,O){var A=k.feature;return[{name:"featureTag"+O,type:"TAG",value:k.tag},{name:"feature"+O,type:"TABLE",value:new ee("featureTable",[{name:"featureParams",type:"USHORT",value:A.featureParams}].concat(de("lookupListIndex",A.lookupListIndexes)))}]}))}function De(j,k){ee.call(this,"lookupListTable",ye("lookup",j,function(O){var A=k[O.lookupType];return R.assert(!!A,"Unable to write GSUB lookup type "+O.lookupType+" tables."),new ee("lookupTable",[{name:"lookupType",type:"USHORT",value:O.lookupType},{name:"lookupFlag",type:"USHORT",value:O.lookupFlag}].concat(ye("subtable",O.subtables,A)))}))}q.CHARSTRING=function(j){if(ce){var k=ce.get(j);if(k!==void 0)return k}for(var W=[],O=j.length,A=0;A<O;A+=1)var U=j[A],W=W.concat(q[U.type](U.value));return ce&&ce.set(j,W),W},Z.CHARSTRING=function(j){return q.CHARSTRING(j).length},q.OBJECT=function(j){var k=q[j.type];return R.argument(k!==void 0,"No encoding function for type "+j.type),k(j.value)},Z.OBJECT=function(j){var k=Z[j.type];return R.argument(k!==void 0,"No sizeOf function for type "+j.type),k(j.value)},q.TABLE=function(j){for(var k=[],O=j.fields.length,A=[],U=[],W=0;W<O;W+=1){var Y=j.fields[W],ue=q[Y.type],re=(R.argument(ue!==void 0,"No encoding function for field type "+Y.type+" ("+Y.name+")"),j[Y.name]),ue=ue(re=re===void 0?Y.value:re);Y.type==="TABLE"?(U.push(k.length),k=k.concat([0,0]),A.push(ue)):k=k.concat(ue)}for(var le=0;le<A.length;le+=1){var xe=U[le],Me=k.length;R.argument(Me<65536,"Table "+j.tableName+" too big."),k[xe]=Me>>8,k[xe+1]=255&Me,k=k.concat(A[le])}return k},Z.TABLE=function(j){for(var k=0,O=j.fields.length,A=0;A<O;A+=1){var U=j.fields[A],W=Z[U.type],Y=(R.argument(W!==void 0,"No sizeOf function for field type "+U.type+" ("+U.name+")"),j[U.name]);k+=W(Y=Y===void 0?U.value:Y),U.type==="TABLE"&&(k+=2)}return k},q.RECORD=q.TABLE,Z.RECORD=Z.TABLE,q.LITERAL=function(j){return j},Z.LITERAL=function(j){return j.length},ee.prototype.encode=function(){return q.TABLE(this)},ee.prototype.sizeOf=function(){return Z.TABLE(this)};var Te={Table:ee,Record:ee,Coverage:(ge.prototype=Object.create(ee.prototype)).constructor=ge,ScriptList:(ve.prototype=Object.create(ee.prototype)).constructor=ve,FeatureList:(je.prototype=Object.create(ee.prototype)).constructor=je,LookupList:(De.prototype=Object.create(ee.prototype)).constructor=De,ushortList:de,tableList:ye,recordList:we};function tt(j,k){return j.getUint8(k)}function $e(j,k){return j.getUint16(k,!1)}function We(j,k){return j.getUint32(k,!1)}function Ke(j,k){return j.getInt16(k,!1)+j.getUint16(k+2,!1)/65535}var Ye={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function _e(j,k){this.data=j,this.offset=k,this.relativeOffset=0}_e.prototype.parseByte=function(){var j=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,j},_e.prototype.parseChar=function(){var j=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,j},_e.prototype.parseCard8=_e.prototype.parseByte,_e.prototype.parseCard16=_e.prototype.parseUShort=function(){var j=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,j},_e.prototype.parseSID=_e.prototype.parseUShort,_e.prototype.parseOffset16=_e.prototype.parseUShort,_e.prototype.parseShort=function(){var j=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,j},_e.prototype.parseF2Dot14=function(){var j=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,j},_e.prototype.parseOffset32=_e.prototype.parseULong=function(){var j=We(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,j},_e.prototype.parseFixed=function(){var j=Ke(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,j},_e.prototype.parseString=function(j){var k=this.data,O=this.offset+this.relativeOffset,A="";this.relativeOffset+=j;for(var U=0;U<j;U++)A+=String.fromCharCode(k.getUint8(O+U));return A},_e.prototype.parseTag=function(){return this.parseString(4)},_e.prototype.parseLongDateTime=function(){var j=We(this.data,this.offset+this.relativeOffset+4);return j-=2082844800,this.relativeOffset+=8,j},_e.prototype.parseVersion=function(j){var k=$e(this.data,this.offset+this.relativeOffset),O=$e(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,k+O/(j=j===void 0?4096:j)/10},_e.prototype.skip=function(j,k){this.relativeOffset+=Ye[j]*(k=k===void 0?1:k)},_e.prototype.parseULongList=function(j){j===void 0&&(j=this.parseULong());for(var k=new Array(j),O=this.data,A=this.offset+this.relativeOffset,U=0;U<j;U++)k[U]=O.getUint32(A),A+=4;return this.relativeOffset+=4*j,k},_e.prototype.parseOffset16List=_e.prototype.parseUShortList=function(j){j===void 0&&(j=this.parseUShort());for(var k=new Array(j),O=this.data,A=this.offset+this.relativeOffset,U=0;U<j;U++)k[U]=O.getUint16(A),A+=2;return this.relativeOffset+=2*j,k},_e.prototype.parseShortList=function(j){for(var k=new Array(j),O=this.data,A=this.offset+this.relativeOffset,U=0;U<j;U++)k[U]=O.getInt16(A),A+=2;return this.relativeOffset+=2*j,k},_e.prototype.parseByteList=function(j){for(var k=new Array(j),O=this.data,A=this.offset+this.relativeOffset,U=0;U<j;U++)k[U]=O.getUint8(A++);return this.relativeOffset+=j,k},_e.prototype.parseList=function(j,k){k||(k=j,j=this.parseUShort());for(var O=new Array(j),A=0;A<j;A++)O[A]=k.call(this);return O},_e.prototype.parseList32=function(j,k){k||(k=j,j=this.parseULong());for(var O=new Array(j),A=0;A<j;A++)O[A]=k.call(this);return O},_e.prototype.parseRecordList=function(j,k){k||(k=j,j=this.parseUShort());for(var O=new Array(j),A=Object.keys(k),U=0;U<j;U++){for(var W={},Y=0;Y<A.length;Y++){var re=A[Y],ue=k[re];W[re]=ue.call(this)}O[U]=W}return O},_e.prototype.parseRecordList32=function(j,k){k||(k=j,j=this.parseULong());for(var O=new Array(j),A=Object.keys(k),U=0;U<j;U++){for(var W={},Y=0;Y<A.length;Y++){var re=A[Y],ue=k[re];W[re]=ue.call(this)}O[U]=W}return O},_e.prototype.parseStruct=function(j){if(typeof j=="function")return j.call(this);for(var k=Object.keys(j),O={},A=0;A<k.length;A++){var U=k[A],W=j[U];O[U]=W.call(this)}return O},_e.prototype.parseValueRecord=function(j){var k;if((j=j===void 0?this.parseUShort():j)!==0)return k={},1&j&&(k.xPlacement=this.parseShort()),2&j&&(k.yPlacement=this.parseShort()),4&j&&(k.xAdvance=this.parseShort()),8&j&&(k.yAdvance=this.parseShort()),16&j&&(k.xPlaDevice=void 0,this.parseShort()),32&j&&(k.yPlaDevice=void 0,this.parseShort()),64&j&&(k.xAdvDevice=void 0,this.parseShort()),128&j&&(k.yAdvDevice=void 0,this.parseShort()),k},_e.prototype.parseValueRecordList=function(){for(var j=this.parseUShort(),k=this.parseUShort(),O=new Array(k),A=0;A<k;A++)O[A]=this.parseValueRecord(j);return O},_e.prototype.parsePointer=function(j){var k=this.parseOffset16();if(0<k)return new _e(this.data,this.offset+k).parseStruct(j)},_e.prototype.parsePointer32=function(j){var k=this.parseOffset32();if(0<k)return new _e(this.data,this.offset+k).parseStruct(j)},_e.prototype.parseListOfLists=function(j){for(var k=this.parseOffset16List(),O=k.length,A=this.relativeOffset,U=new Array(O),W=0;W<O;W++){var Y=k[W];if(Y===0)U[W]=void 0;else if(this.relativeOffset=Y,j){for(var re=this.parseOffset16List(),ue=new Array(re.length),le=0;le<re.length;le++)this.relativeOffset=Y+re[le],ue[le]=j.call(this);U[W]=ue}else U[W]=this.parseUShortList()}return this.relativeOffset=A,U},_e.prototype.parseCoverage=function(){var j=this.offset+this.relativeOffset,k=this.parseUShort(),O=this.parseUShort();if(k===1)return{format:1,glyphs:this.parseUShortList(O)};if(k!==2)throw new Error("0x"+j.toString(16)+": Coverage format must be 1 or 2.");for(var A=new Array(O),U=0;U<O;U++)A[U]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:A}},_e.prototype.parseClassDef=function(){var j=this.offset+this.relativeOffset,k=this.parseUShort();if(k===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(k===2)return{format:2,ranges:this.parseRecordList({start:_e.uShort,end:_e.uShort,classId:_e.uShort})};throw new Error("0x"+j.toString(16)+": ClassDef format must be 1 or 2.")},_e.list=function(j,k){return function(){return this.parseList(j,k)}},_e.list32=function(j,k){return function(){return this.parseList32(j,k)}},_e.recordList=function(j,k){return function(){return this.parseRecordList(j,k)}},_e.recordList32=function(j,k){return function(){return this.parseRecordList32(j,k)}},_e.pointer=function(j){return function(){return this.parsePointer(j)}},_e.pointer32=function(j){return function(){return this.parsePointer32(j)}},_e.tag=_e.prototype.parseTag,_e.byte=_e.prototype.parseByte,_e.uShort=_e.offset16=_e.prototype.parseUShort,_e.uShortList=_e.prototype.parseUShortList,_e.uLong=_e.offset32=_e.prototype.parseULong,_e.uLongList=_e.prototype.parseULongList,_e.struct=_e.prototype.parseStruct,_e.coverage=_e.prototype.parseCoverage,_e.classDef=_e.prototype.parseClassDef;var Re={reserved:_e.uShort,reqFeatureIndex:_e.uShort,featureIndexes:_e.uShortList},Ee=(_e.prototype.parseScriptList=function(){return this.parsePointer(_e.recordList({tag:_e.tag,script:_e.pointer({defaultLangSys:_e.pointer(Re),langSysRecords:_e.recordList({tag:_e.tag,langSys:_e.pointer(Re)})})}))||[]},_e.prototype.parseFeatureList=function(){return this.parsePointer(_e.recordList({tag:_e.tag,feature:_e.pointer({featureParams:_e.offset16,lookupListIndexes:_e.uShortList})}))||[]},_e.prototype.parseLookupList=function(j){return this.parsePointer(_e.list(_e.pointer(function(){var k=this.parseUShort(),O=(R.argument(1<=k&&k<=9,"GPOS/GSUB lookup type "+k+" unknown."),this.parseUShort()),A=16&O;return{lookupType:k,lookupFlag:O,subtables:this.parseList(_e.pointer(j[k])),markFilteringSet:A?this.parseUShort():void 0}})))||[]},_e.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var j=this.parseUShort(),k=this.parseUShort();return R.argument(j===1&&k<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:_e.offset32,featureTableSubstitutionOffset:_e.offset32})})||[]},{getByte:tt,getCard8:tt,getUShort:$e,getCard16:$e,getShort:function(j,k){return j.getInt16(k,!1)},getULong:We,getFixed:Ke,getTag:function(j,k){for(var O="",A=k;A<k+4;A+=1)O+=String.fromCharCode(j.getInt8(A));return O},getOffset:function(j,k,O){for(var A=0,U=0;U<O;U+=1)A=(A<<=8)+j.getUint8(k+U);return A},getBytes:function(j,k,O){for(var A=[],U=k;U<O;U+=1)A.push(j.getUint8(U));return A},bytesToString:function(j){for(var k="",O=0;O<j.length;O+=1)k+=String.fromCharCode(j[O]);return k},Parser:_e}),J={parse:function(j,k){for(var O={},A=(O.version=Ee.getUShort(j,k),R.argument(O.version===0,"cmap table version should be 0."),O.numTables=Ee.getUShort(j,k+2),-1),U=O.numTables-1;0<=U;--U){var W=Ee.getUShort(j,k+4+8*U),Y=Ee.getUShort(j,k+4+8*U+2);if(W===3&&(Y===0||Y===1||Y===10)||W===0&&(Y===0||Y===1||Y===2||Y===3||Y===4)){A=Ee.getULong(j,k+4+8*U+4);break}}if(A===-1)throw new Error("No valid cmap sub-tables found.");var re=new Ee.Parser(j,k+A);if(O.format=re.parseUShort(),O.format===12){var ue,le=O,xe=re;xe.parseUShort(),le.length=xe.parseULong(),le.language=xe.parseULong(),le.groupCount=ue=xe.parseULong(),le.glyphIndexMap={};for(var Me=0;Me<ue;Me+=1)for(var Se=xe.parseULong(),pe=xe.parseULong(),Ie=xe.parseULong(),Pe=Se;Pe<=pe;Pe+=1)le.glyphIndexMap[Pe]=Ie,Ie++}else{if(O.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+O.format+").");var Ae=O,Ce=j,Oe=k,st=A;Ae.length=re.parseUShort(),Ae.language=re.parseUShort(),Ae.segCount=dt=re.parseUShort()>>1,re.skip("uShort",3),Ae.glyphIndexMap={};for(var dt,at=new Ee.Parser(Ce,Oe+st+14),it=new Ee.Parser(Ce,Oe+st+16+2*dt),ht=new Ee.Parser(Ce,Oe+st+16+4*dt),Ot=new Ee.Parser(Ce,Oe+st+16+6*dt),Gt=Oe+st+16+8*dt,Yt=0;Yt<dt-1;Yt+=1)for(var dr=void 0,fr=at.parseUShort(),Qr=it.parseUShort(),Ct=ht.parseShort(),Lt=Ot.parseUShort(),_t=Qr;_t<=fr;_t+=1)Lt!==0?(Gt=(Gt=Ot.offset+Ot.relativeOffset-2)+Lt+2*(_t-Qr),(dr=Ee.getUShort(Ce,Gt))!==0&&(dr=dr+Ct&65535)):dr=_t+Ct&65535,Ae.glyphIndexMap[_t]=dr}return O},make:function(j){for(var k=!0,O=j.length-1;0<O;--O)if(65535<j.get(O).unicode){console.log("Adding CMAP format 12 (needed!)"),k=!1;break}var A,U,W=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:k?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:k?12:20}],Y=(W=(W=k?W:W.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Te.Table("cmap",W));for(Y.segments=[],O=0;O<j.length;O+=1){for(var re=j.get(O),ue=0;ue<re.unicodes.length;ue+=1)A=re.unicodes[ue],U=O,Y.segments.push({end:A,start:A,delta:-(A-U),offset:0,glyphIndex:U});Y.segments=Y.segments.sort(function(Oe,st){return Oe.start-st.start})}Y.segments.push({end:65535,start:65535,delta:1,offset:0});var le=Y.segments.length,xe=0,Me=[],Se=[],pe=[],Ie=[],Pe=[],Ae=[];for(O=0;O<le;O+=1){var Ce=Y.segments[O];Ce.end<=65535&&Ce.start<=65535?(Me=Me.concat({name:"end_"+O,type:"USHORT",value:Ce.end}),Se=Se.concat({name:"start_"+O,type:"USHORT",value:Ce.start}),pe=pe.concat({name:"idDelta_"+O,type:"SHORT",value:Ce.delta}),Ie=Ie.concat({name:"idRangeOffset_"+O,type:"USHORT",value:Ce.offset}),Ce.glyphId!==void 0&&(Pe=Pe.concat({name:"glyph_"+O,type:"USHORT",value:Ce.glyphId}))):xe+=1,k||Ce.glyphIndex===void 0||(Ae=(Ae=(Ae=Ae.concat({name:"cmap12Start_"+O,type:"ULONG",value:Ce.start})).concat({name:"cmap12End_"+O,type:"ULONG",value:Ce.end})).concat({name:"cmap12Glyph_"+O,type:"ULONG",value:Ce.glyphIndex}))}return Y.segCountX2=2*(le-xe),Y.searchRange=2*Math.pow(2,Math.floor(Math.log(le-xe)/Math.log(2))),Y.entrySelector=Math.log(Y.searchRange/2)/Math.log(2),Y.rangeShift=Y.segCountX2-Y.searchRange,Y.fields=Y.fields.concat(Me),Y.fields.push({name:"reservedPad",type:"USHORT",value:0}),Y.fields=Y.fields.concat(Se),Y.fields=Y.fields.concat(pe),Y.fields=Y.fields.concat(Ie),Y.fields=Y.fields.concat(Pe),Y.cmap4Length=14+2*Me.length+2+2*Se.length+2*pe.length+2*Ie.length+2*Pe.length,k||(W=16+4*Ae.length,Y.cmap12Offset=20+Y.cmap4Length,Y.fields=Y.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:W},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ae.length/3}]),Y.fields=Y.fields.concat(Ae)),Y}},ne=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],K=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ae=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],be=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ke(j){this.font=j}function Le(j){this.cmap=j}function ze(j,k){this.encoding=j,this.charset=k}function Ve(j){switch(j.version){case 1:this.names=be.slice();break;case 2:this.names=new Array(j.numberOfGlyphs);for(var k=0;k<j.numberOfGlyphs;k++)j.glyphNameIndex[k]<be.length?this.names[k]=be[j.glyphNameIndex[k]]:this.names[k]=j.names[j.glyphNameIndex[k]-be.length];break;case 2.5:this.names=new Array(j.numberOfGlyphs);for(var O=0;O<j.numberOfGlyphs;O++)this.names[O]=be[O+j.glyphNameIndex[O]];break;default:this.names=[]}}ke.prototype.charToGlyphIndex=function(j){var k=j.codePointAt(0),O=this.font.glyphs;if(O){for(var A=0;A<O.length;A+=1)for(var U=O.get(A),W=0;W<U.unicodes.length;W+=1)if(U.unicodes[W]===k)return A}return null},Le.prototype.charToGlyphIndex=function(j){return this.cmap.glyphIndexMap[j.codePointAt(0)]||0},ze.prototype.charToGlyphIndex=function(j){return j=j.codePointAt(0),j=this.encoding[j],this.charset.indexOf(j)},Ve.prototype.nameToGlyphIndex=function(j){return this.names.indexOf(j)},Ve.prototype.glyphIndexToName=function(j){return this.names[j]};var qe={line:function(j,k,O,A,U){j.beginPath(),j.moveTo(k,O),j.lineTo(A,U),j.stroke()}};function Qe(j){this.bindConstructorValues(j)}function ct(j,k,O){Object.defineProperty(j,k,{get:function(){return j.path,j[O]},set:function(A){j[O]=A},enumerable:!0,configurable:!0})}function lt(j,k){if(this.font=j,this.glyphs={},Array.isArray(k))for(var O=0;O<k.length;O++)this.glyphs[O]=k[O];this.length=k&&k.length||0}Qe.prototype.bindConstructorValues=function(j){var k;this.index=j.index||0,this.name=j.name||null,this.unicode=j.unicode||void 0,this.unicodes=j.unicodes||j.unicode!==void 0?[j.unicode]:[],j.xMin&&(this.xMin=j.xMin),j.yMin&&(this.yMin=j.yMin),j.xMax&&(this.xMax=j.xMax),j.yMax&&(this.yMax=j.yMax),j.advanceWidth&&(this.advanceWidth=j.advanceWidth),Object.defineProperty(this,"path",(j=j.path,k=j||new Q,{configurable:!0,get:function(){return k=typeof k=="function"?k():k},set:function(O){k=O}}))},Qe.prototype.addUnicode=function(j){this.unicodes.length===0&&(this.unicode=j),this.unicodes.push(j)},Qe.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Qe.prototype.getPath=function(j,k,O,A,U){j=j!==void 0?j:0,k=k!==void 0?k:0,O=O!==void 0?O:72;for(var W,Y,re=(A=A||{}).xScale,ue=A.yScale,le=((W=A.hinting&&U&&U.hinting?this.path&&U.hinting.exec(this,O):W)?(Y=U.hinting.getCommands(W),j=Math.round(j),k=Math.round(k),re=ue=1):(Y=this.path.commands,A=1/this.path.unitsPerEm*O,re===void 0&&(re=A),ue===void 0&&(ue=A)),new Q),xe=0;xe<Y.length;xe+=1){var Me=Y[xe];Me.type==="M"?le.moveTo(j+Me.x*re,k+-Me.y*ue):Me.type==="L"?le.lineTo(j+Me.x*re,k+-Me.y*ue):Me.type==="Q"?le.quadraticCurveTo(j+Me.x1*re,k+-Me.y1*ue,j+Me.x*re,k+-Me.y*ue):Me.type==="C"?le.curveTo(j+Me.x1*re,k+-Me.y1*ue,j+Me.x2*re,k+-Me.y2*ue,j+Me.x*re,k+-Me.y*ue):Me.type==="Z"&&le.closePath()}return le},Qe.prototype.getContours=function(){if(this.points===void 0)return[];for(var j=[],k=[],O=0;O<this.points.length;O+=1){var A=this.points[O];k.push(A),A.lastPointOfContour&&(j.push(k),k=[])}return R.argument(k.length===0,"There are still points left in the current contour."),j},Qe.prototype.getMetrics=function(){for(var j=this.path.commands,k=[],O=[],A=0;A<j.length;A+=1){var U=j[A];U.type!=="Z"&&(k.push(U.x),O.push(U.y)),U.type!=="Q"&&U.type!=="C"||(k.push(U.x1),O.push(U.y1)),U.type==="C"&&(k.push(U.x2),O.push(U.y2))}var W={xMin:Math.min.apply(null,k),yMin:Math.min.apply(null,O),xMax:Math.max.apply(null,k),yMax:Math.max.apply(null,O),leftSideBearing:this.leftSideBearing};return isFinite(W.xMin)||(W.xMin=0),isFinite(W.xMax)||(W.xMax=this.advanceWidth),isFinite(W.yMin)||(W.yMin=0),isFinite(W.yMax)||(W.yMax=0),W.rightSideBearing=this.advanceWidth-W.leftSideBearing-(W.xMax-W.xMin),W},Qe.prototype.draw=function(j,k,O,A,U){this.getPath(k,O,A,U).draw(j)},Qe.prototype.drawPoints=function(j,k,O,A){function U(xe,Me,Se,pe){var Ie=2*Math.PI;j.beginPath();for(var Pe=0;Pe<xe.length;Pe+=1)j.moveTo(Me+xe[Pe].x*pe,Se+xe[Pe].y*pe),j.arc(Me+xe[Pe].x*pe,Se+xe[Pe].y*pe,2,0,Ie,!1);j.closePath(),j.fill()}k=k!==void 0?k:0,O=O!==void 0?O:0;for(var A=1/this.path.unitsPerEm*(A=A!==void 0?A:24),W=[],Y=[],re=this.path,ue=0;ue<re.commands.length;ue+=1){var le=re.commands[ue];le.x!==void 0&&W.push({x:le.x,y:-le.y}),le.x1!==void 0&&Y.push({x:le.x1,y:-le.y1}),le.x2!==void 0&&Y.push({x:le.x2,y:-le.y2})}j.fillStyle="blue",U(W,k,O,A),j.fillStyle="red",U(Y,k,O,A)},Qe.prototype.drawMetrics=function(j,k,O,A){k=k!==void 0?k:0,O=O!==void 0?O:0,A=1/this.path.unitsPerEm*(A=A!==void 0?A:24),j.lineWidth=1,j.strokeStyle="black",qe.line(j,k,-1e4,k,1e4),qe.line(j,-1e4,O,1e4,O);var U=this.xMin||0,W=this.yMin||0,Y=this.xMax||0,re=this.yMax||0,ue=this.advanceWidth||0;j.strokeStyle="blue",qe.line(j,k+U*A,-1e4,k+U*A,1e4),qe.line(j,k+Y*A,-1e4,k+Y*A,1e4),qe.line(j,-1e4,O+-W*A,1e4,O+-W*A),qe.line(j,-1e4,O+-re*A,1e4,O+-re*A),j.strokeStyle="green",qe.line(j,k+ue*A,-1e4,k+ue*A,1e4)},lt.prototype.get=function(j){return typeof this.glyphs[j]=="function"&&(this.glyphs[j]=this.glyphs[j]()),this.glyphs[j]},lt.prototype.push=function(j,k){this.glyphs[j]=k,this.length++};var rt={GlyphSet:lt,glyphLoader:function(j,k){return new Qe({index:k,font:j})},ttfGlyphLoader:function(j,k,O,A,U,W){return function(){var Y=new Qe({index:k,font:j});return Y.path=function(){O(Y,A,U);var re=W(j.glyphs,Y);return re.unitsPerEm=j.unitsPerEm,re},ct(Y,"xMin","_xMin"),ct(Y,"xMax","_xMax"),ct(Y,"yMin","_yMin"),ct(Y,"yMax","_yMax"),Y}},cffGlyphLoader:function(j,k,O,A){return function(){var U=new Qe({index:k,font:j});return U.path=function(){var W=O(j,U,A);return W.unitsPerEm=j.unitsPerEm,W},U}}};function Fe(j){return j=j.length<1240?107:j.length<33900?1131:32768,j}function Xe(j,k,O){var A,U=[],W=[],Y=Ee.getCard16(j,k);if(Y!==0){for(var re=Ee.getByte(j,k+2),ue=k+(Y+1)*re+2,le=k+3,xe=0;xe<Y+1;xe+=1)U.push(Ee.getOffset(j,le,re)),le+=re;A=ue+U[Y]}else A=k+2;for(var Me=0;Me<U.length-1;Me+=1){var Se=Ee.getBytes(j,ue+U[Me],ue+U[Me+1]);O&&(Se=O(Se)),W.push(Se)}return{objects:W,startOffset:k,endOffset:A}}function ut(j,k){if(k===28)return j.parseByte()<<8|j.parseByte();if(k===29)return j.parseByte()<<24|j.parseByte()<<16|j.parseByte()<<8|j.parseByte();if(k===30){for(var O=j,A="",U=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Y=O.parseByte(),W=Y>>4,Y=15&Y;if(W==15||(A+=U[W],Y==15))break;A+=U[Y]}return parseFloat(A)}if(32<=k&&k<=246)return k-139;if(247<=k&&k<=250)return 256*(k-247)+j.parseByte()+108;if(251<=k&&k<=254)return 256*-(k-251)-j.parseByte()-108;throw new Error("Invalid b0 "+k)}function jt(j,k,O){var A=new Ee.Parser(j,k=k!==void 0?k:0),U=[],W=[];for(O=O!==void 0?O:j.length;A.relativeOffset<O;){var Y=A.parseByte();Y<=21?(Y===12&&(Y=1200+A.parseByte()),U.push([Y,W]),W=[]):W.push(ut(A,Y))}for(var re=U,ue={},le=0;le<re.length;le+=1){var xe=re[le][0],Me=re[le][1],Se=void 0,Se=Me.length===1?Me[0]:Me;if(ue.hasOwnProperty(xe)&&!isNaN(ue[xe]))throw new Error("Object "+ue+" already has key "+xe);ue[xe]=Se}return ue}function Et(j,k){return k=k<=390?ne[k]:j[k-391]}function pt(j,k,O){for(var A,U={},W=0;W<k.length;W+=1){var Y=k[W];if(Array.isArray(Y.type)){var re=[];re.length=Y.type.length;for(var ue=0;ue<Y.type.length;ue++)(A=j[Y.op]!==void 0?j[Y.op][ue]:void 0)===void 0&&(A=Y.value!==void 0&&Y.value[ue]!==void 0?Y.value[ue]:null),Y.type[ue]==="SID"&&(A=Et(O,A)),re[ue]=A;U[Y.name]=re}else(A=j[Y.op])===void 0&&(A=Y.value!==void 0?Y.value:null),Y.type==="SID"&&(A=Et(O,A)),U[Y.name]=A}return U}var wt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],yt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Kt(j,k,O,A){return pt(jt(j,k,O),yt,A)}function er(j,k,O,A){for(var U=[],W=0;W<O.length;W+=1){var Y=new DataView(new Uint8Array(O[W]).buffer),Y=(re=A,pt(jt(Y,0,Y.byteLength),wt,re)),re=(Y._subrs=[],Y._subrsBias=0,Y.private[0]),ue=Y.private[1];re!==0&&ue!==0&&(re=Kt(j,ue+k,re,A),Y._defaultWidthX=re.defaultWidthX,Y._nominalWidthX=re.nominalWidthX,re.subrs!==0&&(ue=Xe(j,ue+re.subrs+k),Y._subrs=ue.objects,Y._subrsBias=Fe(Y._subrs)),Y._privateDict=re),U.push(Y)}return U}function Tt(j,k,O){var A,U,W,Y,re,ue,le,xe,Me,Se=new Q,pe=[],Ie=0,Pe=!1,Ae=!1,Ce=0,Oe=0,st=(Me=(j.isCIDFont?(re=j.tables.cff.topDict._fdSelect[k.index],re=j.tables.cff.topDict._fdArray[re],ue=re._subrs,le=re._subrsBias,xe=re._defaultWidthX,re):(ue=j.tables.cff.topDict._subrs,le=j.tables.cff.topDict._subrsBias,xe=j.tables.cff.topDict._defaultWidthX,j.tables.cff.topDict))._nominalWidthX,xe);function dt(it,ht){Ae&&Se.closePath(),Se.moveTo(it,ht),Ae=!0}function at(){pe.length%2==0||Pe||(st=pe.shift()+Me),Ie+=pe.length>>1,pe.length=0,Pe=!0}return function it(ht){for(var Ot,Gt,Yt,dr,fr,Qr,Ct,Lt,_t,hr,Dt,ir,Nt=0;Nt<ht.length;){var nr=ht[Nt];switch(Nt+=1,nr){case 1:case 3:at();break;case 4:1<pe.length&&!Pe&&(st=pe.shift()+Me,Pe=!0),Oe+=pe.pop(),dt(Ce,Oe);break;case 5:for(;0<pe.length;)Ce+=pe.shift(),Oe+=pe.shift(),Se.lineTo(Ce,Oe);break;case 6:for(;0<pe.length&&(Ce+=pe.shift(),Se.lineTo(Ce,Oe),pe.length!==0);)Oe+=pe.shift(),Se.lineTo(Ce,Oe);break;case 7:for(;0<pe.length&&(Oe+=pe.shift(),Se.lineTo(Ce,Oe),pe.length!==0);)Ce+=pe.shift(),Se.lineTo(Ce,Oe);break;case 8:for(;0<pe.length;)A=Ce+pe.shift(),U=Oe+pe.shift(),W=A+pe.shift(),Y=U+pe.shift(),Ce=W+pe.shift(),Oe=Y+pe.shift(),Se.curveTo(A,U,W,Y,Ce,Oe);break;case 10:fr=pe.pop()+le,(Qr=ue[fr])&&it(Qr);break;case 11:return;case 12:switch(nr=ht[Nt],Nt+=1,nr){case 35:A=Ce+pe.shift(),U=Oe+pe.shift(),W=A+pe.shift(),Y=U+pe.shift(),Ct=W+pe.shift(),Lt=Y+pe.shift(),_t=Ct+pe.shift(),hr=Lt+pe.shift(),Dt=_t+pe.shift(),ir=hr+pe.shift(),Ce=Dt+pe.shift(),Oe=ir+pe.shift(),pe.shift(),Se.curveTo(A,U,W,Y,Ct,Lt),Se.curveTo(_t,hr,Dt,ir,Ce,Oe);break;case 34:A=Ce+pe.shift(),U=Oe,W=A+pe.shift(),Y=U+pe.shift(),Ct=W+pe.shift(),Lt=Y,_t=Ct+pe.shift(),hr=Y,Dt=_t+pe.shift(),ir=Oe,Ce=Dt+pe.shift(),Se.curveTo(A,U,W,Y,Ct,Lt),Se.curveTo(_t,hr,Dt,ir,Ce,Oe);break;case 36:A=Ce+pe.shift(),U=Oe+pe.shift(),W=A+pe.shift(),Y=U+pe.shift(),Ct=W+pe.shift(),Lt=Y,_t=Ct+pe.shift(),hr=Y,Dt=_t+pe.shift(),ir=hr+pe.shift(),Ce=Dt+pe.shift(),Se.curveTo(A,U,W,Y,Ct,Lt),Se.curveTo(_t,hr,Dt,ir,Ce,Oe);break;case 37:A=Ce+pe.shift(),U=Oe+pe.shift(),W=A+pe.shift(),Y=U+pe.shift(),Ct=W+pe.shift(),Lt=Y+pe.shift(),_t=Ct+pe.shift(),hr=Lt+pe.shift(),Dt=_t+pe.shift(),ir=hr+pe.shift(),Math.abs(Dt-Ce)>Math.abs(ir-Oe)?Ce=Dt+pe.shift():Oe=ir+pe.shift(),Se.curveTo(A,U,W,Y,Ct,Lt),Se.curveTo(_t,hr,Dt,ir,Ce,Oe);break;default:console.log("Glyph "+k.index+": unknown operator 1200"+nr),pe.length=0}break;case 14:0<pe.length&&!Pe&&(st=pe.shift()+Me,Pe=!0),Ae&&(Se.closePath(),Ae=!1);break;case 18:at();break;case 19:case 20:at(),Nt+=Ie+7>>3;break;case 21:2<pe.length&&!Pe&&(st=pe.shift()+Me,Pe=!0),Oe+=pe.pop(),dt(Ce+=pe.pop(),Oe);break;case 22:1<pe.length&&!Pe&&(st=pe.shift()+Me,Pe=!0),dt(Ce+=pe.pop(),Oe);break;case 23:at();break;case 24:for(;2<pe.length;)A=Ce+pe.shift(),U=Oe+pe.shift(),W=A+pe.shift(),Y=U+pe.shift(),Ce=W+pe.shift(),Oe=Y+pe.shift(),Se.curveTo(A,U,W,Y,Ce,Oe);Ce+=pe.shift(),Oe+=pe.shift(),Se.lineTo(Ce,Oe);break;case 25:for(;6<pe.length;)Ce+=pe.shift(),Oe+=pe.shift(),Se.lineTo(Ce,Oe);A=Ce+pe.shift(),U=Oe+pe.shift(),W=A+pe.shift(),Y=U+pe.shift(),Ce=W+pe.shift(),Oe=Y+pe.shift(),Se.curveTo(A,U,W,Y,Ce,Oe);break;case 26:for(pe.length%2&&(Ce+=pe.shift());0<pe.length;)A=Ce,U=Oe+pe.shift(),W=A+pe.shift(),Y=U+pe.shift(),Ce=W,Oe=Y+pe.shift(),Se.curveTo(A,U,W,Y,Ce,Oe);break;case 27:for(pe.length%2&&(Oe+=pe.shift());0<pe.length;)A=Ce+pe.shift(),U=Oe,W=A+pe.shift(),Y=U+pe.shift(),Ce=W+pe.shift(),Oe=Y,Se.curveTo(A,U,W,Y,Ce,Oe);break;case 28:Ot=ht[Nt],Gt=ht[Nt+1],pe.push((Ot<<24|Gt<<16)>>16),Nt+=2;break;case 29:fr=pe.pop()+j.gsubrsBias,(Qr=j.gsubrs[fr])&&it(Qr);break;case 30:for(;0<pe.length&&(A=Ce,U=Oe+pe.shift(),W=A+pe.shift(),Y=U+pe.shift(),Ce=W+pe.shift(),Oe=Y+(pe.length===1?pe.shift():0),Se.curveTo(A,U,W,Y,Ce,Oe),pe.length!==0);)A=Ce+pe.shift(),U=Oe,W=A+pe.shift(),Y=U+pe.shift(),Oe=Y+pe.shift(),Ce=W+(pe.length===1?pe.shift():0),Se.curveTo(A,U,W,Y,Ce,Oe);break;case 31:for(;0<pe.length&&(A=Ce+pe.shift(),U=Oe,W=A+pe.shift(),Y=U+pe.shift(),Oe=Y+pe.shift(),Ce=W+(pe.length===1?pe.shift():0),Se.curveTo(A,U,W,Y,Ce,Oe),pe.length!==0);)A=Ce,U=Oe+pe.shift(),W=A+pe.shift(),Y=U+pe.shift(),Ce=W+pe.shift(),Oe=Y+(pe.length===1?pe.shift():0),Se.curveTo(A,U,W,Y,Ce,Oe);break;default:nr<32?console.log("Glyph "+k.index+": unknown operator "+nr):nr<247?pe.push(nr-139):nr<251?(Ot=ht[Nt],Nt+=1,pe.push(256*(nr-247)+Ot+108)):nr<255?(Ot=ht[Nt],Nt+=1,pe.push(256*-(nr-251)-Ot-108)):(Ot=ht[Nt],Gt=ht[Nt+1],Yt=ht[Nt+2],dr=ht[Nt+3],Nt+=4,pe.push((Ot<<24|Gt<<16|Yt<<8|dr)/65536))}}}(O),k.advanceWidth=st,Se}function ar(j,k){var O,A=ne.indexOf(j);return 0<=A&&(O=A),0<=(A=k.indexOf(j))?O=A+ne.length:(O=ne.length+k.length,k.push(j)),O}function Us(j,k,O){for(var A={},U=0;U<j.length;U+=1){var W=j[U],Y=k[W.name];Y===void 0||function re(ue,le){if(ue===le)return 1;if(Array.isArray(ue)&&Array.isArray(le)&&ue.length===le.length){for(var xe=0;xe<ue.length;xe+=1)if(!re(ue[xe],le[xe]))return;return 1}}(Y,W.value)||(W.type==="SID"&&(Y=ar(Y,O)),A[W.op]={name:W.name,type:W.type,value:Y})}return A}function Bs(j,k){var O=new Te.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return O.dict=Us(wt,j,k),O}function zs(j){var k=new Te.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return k.topDicts=[{name:"topDict_0",type:"TABLE",value:j}],k}function ri(j){for(var k=new Te.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),O=0;O<j.length;O+=1){var A=j.get(O),U=function(W){for(var Y=[],re=W.path,ue=(Y.push({name:"width",type:"NUMBER",value:W.advanceWidth}),0),le=0,xe=0;xe<re.commands.length;xe+=1){var Me,Se,pe,Ie,Pe=void 0,Ae=void 0,Ce=re.commands[xe];(Ce=Ce.type==="Q"?{type:"C",x:Ce.x,y:Ce.y,x1:1/3*ue+2/3*Ce.x1,y1:1/3*le+2/3*Ce.y1,x2:1/3*Ce.x+2/3*Ce.x1,y2:1/3*Ce.y+2/3*Ce.y1}:Ce).type==="M"?(Pe=Math.round(Ce.x-ue),Ae=Math.round(Ce.y-le),Y.push({name:"dx",type:"NUMBER",value:Pe}),Y.push({name:"dy",type:"NUMBER",value:Ae}),Y.push({name:"rmoveto",type:"OP",value:21}),ue=Math.round(Ce.x),le=Math.round(Ce.y)):Ce.type==="L"?(Pe=Math.round(Ce.x-ue),Ae=Math.round(Ce.y-le),Y.push({name:"dx",type:"NUMBER",value:Pe}),Y.push({name:"dy",type:"NUMBER",value:Ae}),Y.push({name:"rlineto",type:"OP",value:5}),ue=Math.round(Ce.x),le=Math.round(Ce.y)):Ce.type==="C"&&(Me=Math.round(Ce.x1-ue),Se=Math.round(Ce.y1-le),pe=Math.round(Ce.x2-Ce.x1),Ie=Math.round(Ce.y2-Ce.y1),Pe=Math.round(Ce.x-Ce.x2),Ae=Math.round(Ce.y-Ce.y2),Y.push({name:"dx1",type:"NUMBER",value:Me}),Y.push({name:"dy1",type:"NUMBER",value:Se}),Y.push({name:"dx2",type:"NUMBER",value:pe}),Y.push({name:"dy2",type:"NUMBER",value:Ie}),Y.push({name:"dx",type:"NUMBER",value:Pe}),Y.push({name:"dy",type:"NUMBER",value:Ae}),Y.push({name:"rrcurveto",type:"OP",value:8}),ue=Math.round(Ce.x),le=Math.round(Ce.y))}return Y.push({name:"endchar",type:"OP",value:14}),Y}(A);k.charStrings.push({name:A.name,type:"CHARSTRING",value:U})}return k}var Gs={parse:function(j,k,O){O.tables.cff={},re=j,A=k,(U={}).formatMajor=Ee.getCard8(re,A),U.formatMinor=Ee.getCard8(re,A+1),U.size=Ee.getCard8(re,A+2),U.offsetSize=Ee.getCard8(re,A+3),U.startOffset=A,U.endOffset=A+4;var re=Xe(j,U.endOffset,Ee.bytesToString),A=Xe(j,re.endOffset),U=Xe(j,A.endOffset,Ee.bytesToString),re=Xe(j,U.endOffset);if(O.gsubrs=re.objects,O.gsubrsBias=Fe(O.gsubrs),(re=er(j,k,A.objects,U.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+re.length);if(A=re[0],(O.tables.cff.topDict=A)._privateDict&&(O.defaultWidthX=A._privateDict.defaultWidthX,O.nominalWidthX=A._privateDict.nominalWidthX),A.ros[0]!==void 0&&A.ros[1]!==void 0&&(O.isCIDFont=!0),O.isCIDFont){var re=A.fdArray,W=A.fdSelect;if(re===0||W===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");re=er(j,k,Xe(j,re+=k).objects,U.objects),A._fdArray=re,A._fdSelect=function(Se,pe,Ie,Pe){var Ae,Ce=[],Oe=new Ee.Parser(Se,pe);if((Se=Oe.parseCard8())===0)for(var st=0;st<Ie;st++){if(Pe<=(Ae=Oe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ae+" (FD count "+Pe+")");Ce.push(Ae)}else{if(Se!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Se);var dt,at=Oe.parseCard16(),it=Oe.parseCard16();if(it!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+it);for(var ht=0;ht<at;ht++){if(Ae=Oe.parseCard8(),dt=Oe.parseCard16(),Pe<=Ae)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ae+" (FD count "+Pe+")");if(Ie<dt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+dt);for(;it<dt;it++)Ce.push(Ae);it=dt}if(dt!==Ie)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+dt)}return Ce}(j,W+=k,O.numGlyphs,re.length)}var W=k+A.private[1],re=Kt(j,W,A.private[0],U.objects),Y=(O.defaultWidthX=re.defaultWidthX,O.nominalWidthX=re.nominalWidthX,re.subrs!==0?(W=Xe(j,W+re.subrs),O.subrs=W.objects,O.subrsBias=Fe(O.subrs)):(O.subrs=[],O.subrsBias=0),Xe(j,k+A.charStrings)),re=(O.nGlyphs=Y.objects.length,function(xe,Me,Se,pe){var Ie=new Ee.Parser(xe,Me),Pe=(--Se,[".notdef"]);if((xe=Ie.parseCard8())===0)for(var Ae=0;Ae<Se;Ae+=1)Ce=Ie.parseSID(),Pe.push(Et(pe,Ce));else if(xe===1)for(;Pe.length<=Se;)for(var Ce=Ie.parseSID(),Oe=Ie.parseCard8(),st=0;st<=Oe;st+=1)Pe.push(Et(pe,Ce)),Ce+=1;else{if(xe!==2)throw new Error("Unknown charset format "+xe);for(;Pe.length<=Se;){Ce=Ie.parseSID(),Oe=Ie.parseCard16();for(var dt=0;dt<=Oe;dt+=1)Pe.push(Et(pe,Ce)),Ce+=1}}return Pe}(j,k+A.charset,O.nGlyphs,U.objects));A.encoding===0?O.cffEncoding=new ze(K,re):A.encoding===1?O.cffEncoding=new ze(ae,re):O.cffEncoding=function(xe,Me,Se){var pe={},Ie=new Ee.Parser(xe,Me);if((xe=Ie.parseCard8())===0)for(var Pe=Ie.parseCard8(),Ae=0;Ae<Pe;Ae+=1)pe[Oe=Ie.parseCard8()]=Ae;else{if(xe!==1)throw new Error("Unknown encoding format "+xe);for(var Ce=Ie.parseCard8(),Oe=1,st=0;st<Ce;st+=1)for(var dt=Ie.parseCard8(),at=Ie.parseCard8(),it=dt;it<=dt+at;it+=1)pe[it]=Oe,Oe+=1}return new ze(pe,Se)}(j,k+A.encoding,re),O.encoding=O.encoding||O.cffEncoding,O.glyphs=new rt.GlyphSet(O);for(var ue=0;ue<O.nGlyphs;ue+=1){var le=Y.objects[ue];O.glyphs.push(ue,rt.cffGlyphLoader(O,ue,Tt,le))}},make:function(j,xe){for(var O,A=new Te.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),U=1/xe.unitsPerEm,U={version:xe.version,fullName:xe.fullName,familyName:xe.familyName,weight:xe.weightName,fontBBox:xe.fontBBox||[0,0,0,0],fontMatrix:[U,0,0,U,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},W=[],Y=1;Y<j.length;Y+=1)O=j.get(Y),W.push(O.name);var re,ue,le=[],xe=(A.header=new Te.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),A.nameIndex=function(Se){var pe=new Te.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);pe.names=[];for(var Ie=0;Ie<Se.length;Ie+=1)pe.names.push({name:"name_"+Ie,type:"NAME",value:Se[Ie]});return pe}([xe.postScriptName]),Bs(U,le)),Me=(A.topDictIndex=zs(xe),A.globalSubrIndex=new Te.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),A.charsets=function(Se,pe){for(var Ie=new Te.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Pe=0;Pe<Se.length;Pe+=1){var Ae=ar(Se[Pe],pe);Ie.fields.push({name:"glyph_"+Pe,type:"SID",value:Ae})}return Ie}(W,le),A.charStringsIndex=ri(j),A.privateDict=(Me={},re=le,(ue=new Te.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Us(yt,Me,re),ue),A.stringIndex=function(Se){var pe=new Te.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);pe.strings=[];for(var Ie=0;Ie<Se.length;Ie+=1)pe.strings.push({name:"string_"+Ie,type:"STRING",value:Se[Ie]});return pe}(le),A.header.sizeOf()+A.nameIndex.sizeOf()+A.topDictIndex.sizeOf()+A.stringIndex.sizeOf()+A.globalSubrIndex.sizeOf());return U.charset=Me,U.encoding=0,U.charStrings=U.charset+A.charsets.sizeOf(),U.private[1]=U.charStrings+A.charStringsIndex.sizeOf(),xe=Bs(U,le),A.topDictIndex=zs(xe),A}},Vs={parse:function(A,k){var O={},A=new Ee.Parser(A,k);return O.version=A.parseVersion(),O.fontRevision=Math.round(1e3*A.parseFixed())/1e3,O.checkSumAdjustment=A.parseULong(),O.magicNumber=A.parseULong(),R.argument(O.magicNumber===1594834165,"Font header has wrong magic number."),O.flags=A.parseUShort(),O.unitsPerEm=A.parseUShort(),O.created=A.parseLongDateTime(),O.modified=A.parseLongDateTime(),O.xMin=A.parseShort(),O.yMin=A.parseShort(),O.xMax=A.parseShort(),O.yMax=A.parseShort(),O.macStyle=A.parseUShort(),O.lowestRecPPEM=A.parseUShort(),O.fontDirectionHint=A.parseShort(),O.indexToLocFormat=A.parseShort(),O.glyphDataFormat=A.parseShort(),O},make:function(j){var k=Math.round(new Date().getTime()/1e3)+2082844800,O=k;return j.createdTimestamp&&(O=j.createdTimestamp+2082844800),new Te.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:O},{name:"modified",type:"LONGDATETIME",value:k},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],j)}},me={parse:function(A,k){var O={},A=new Ee.Parser(A,k);return O.version=A.parseVersion(),O.ascender=A.parseShort(),O.descender=A.parseShort(),O.lineGap=A.parseShort(),O.advanceWidthMax=A.parseUShort(),O.minLeftSideBearing=A.parseShort(),O.minRightSideBearing=A.parseShort(),O.xMaxExtent=A.parseShort(),O.caretSlopeRise=A.parseShort(),O.caretSlopeRun=A.parseShort(),O.caretOffset=A.parseShort(),A.relativeOffset+=8,O.metricDataFormat=A.parseShort(),O.numberOfHMetrics=A.parseUShort(),O},make:function(j){return new Te.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],j)}},Ge={parse:function(j,k,O,A,U){for(var W,Y,re=new Ee.Parser(j,k),ue=0;ue<A;ue+=1){ue<O&&(W=re.parseUShort(),Y=re.parseShort());var le=U.get(ue);le.advanceWidth=W,le.leftSideBearing=Y}},make:function(j){for(var k=new Te.Table("hmtx",[]),O=0;O<j.length;O+=1){var U=j.get(O),A=U.advanceWidth||0,U=U.leftSideBearing||0;k.fields.push({name:"advanceWidth_"+O,type:"USHORT",value:A}),k.fields.push({name:"leftSideBearing_"+O,type:"SHORT",value:U})}return k}},et={make:function(j){for(var k=new Te.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:j.length}]),O="",A=12+4*j.length,U=0;U<j.length;++U){var W=O.indexOf(j[U]);W<0&&(W=O.length,O+=j[U]),k.fields.push({name:"offset "+U,type:"USHORT",value:A+W}),k.fields.push({name:"length "+U,type:"USHORT",value:j[U].length})}return k.fields.push({name:"stringPool",type:"CHARARRAY",value:O}),k},parse:function(j,k){for(var O=new Ee.Parser(j,k),A=O.parseULong(),U=(R.argument(A===1,"Unsupported ltag table version."),O.skip("uLong",1),O.parseULong()),W=[],Y=0;Y<U;Y++){for(var re="",ue=k+O.parseUShort(),le=O.parseUShort(),xe=ue;xe<ue+le;++xe)re+=String.fromCharCode(j.getInt8(xe));W.push(re)}return W}},Be={parse:function(A,k){var O={},A=new Ee.Parser(A,k);return O.version=A.parseVersion(),O.numGlyphs=A.parseUShort(),O.version===1&&(O.maxPoints=A.parseUShort(),O.maxContours=A.parseUShort(),O.maxCompositePoints=A.parseUShort(),O.maxCompositeContours=A.parseUShort(),O.maxZones=A.parseUShort(),O.maxTwilightPoints=A.parseUShort(),O.maxStorage=A.parseUShort(),O.maxFunctionDefs=A.parseUShort(),O.maxInstructionDefs=A.parseUShort(),O.maxStackElements=A.parseUShort(),O.maxSizeOfInstructions=A.parseUShort(),O.maxComponentElements=A.parseUShort(),O.maxComponentDepth=A.parseUShort()),O},make:function(j){return new Te.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:j}])}},mt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ue={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},bt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ze={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},vt="utf-16",Je={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ht={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Qt(j,k,O){switch(j){case 0:return vt;case 1:return Ht[O]||Je[k];case 3:if(k===1||k===10)return vt}}function zt(j){var k,O={};for(k in j)O[j[k]]=parseInt(k);return O}function tr(j,k,O,A,U,W){return new Te.Record("NameRecord",[{name:"platformID",type:"USHORT",value:j},{name:"encodingID",type:"USHORT",value:k},{name:"languageID",type:"USHORT",value:O},{name:"nameID",type:"USHORT",value:A},{name:"length",type:"USHORT",value:U},{name:"offset",type:"USHORT",value:W}])}function un(j,k){if((O=function(W,Y){var re=W.length,ue=Y.length-re+1;e:for(var le=0;le<ue;le++)for(;le<ue;le++){for(var xe=0;xe<re;xe++)if(Y[le+xe]!==W[xe])continue e;return le}return-1}(j,k))<0)for(var O=k.length,A=0,U=j.length;A<U;++A)k.push(j[A]);return O}var Cr={parse:function(j,k,O){for(var A={},U=new Ee.Parser(j,k),k=U.parseUShort(),W=U.parseUShort(),Y=U.offset+U.parseUShort(),re=0;re<W;re++){var Ie=U.parseUShort(),ue=U.parseUShort(),le=U.parseUShort(),xe=U.parseUShort(),xe=mt[xe]||xe,Me=U.parseUShort(),Se=U.parseUShort(),pe=function(Ae,Ce,Oe){switch(Ae){case 0:if(Ce===65535)return"und";if(Oe)return Oe[Ce];break;case 1:return Ue[Ce];case 3:return Ze[Ce]}}(Ie,le,O),Ie=Qt(Ie,ue,le);Ie!==void 0&&pe!==void 0&&(ue=void 0,(ue=Ie===vt?z.UTF16(j,Y+Se,Me):z.MACSTRING(j,Y+Se,Me,Ie))&&((le=(le=A[xe])===void 0?A[xe]={}:le)[pe]=ue))}return k===1&&U.parseUShort(),A},make:function(j,k){var O,A=[],U={},W=zt(mt);for(O in j){var Y=W[O];if(Y===void 0&&(Y=O),Se=parseInt(Y),isNaN(Se))throw new Error('Name table entry "'+O+'" does not exist, see nameTableNames for complete list.');U[Se]=j[O],A.push(Se)}for(var re=zt(Ue),ue=zt(Ze),le=[],xe=[],Me=0;Me<A.length;Me++){var Se,pe,Ie=U[Se=A[Me]];for(pe in Ie){var Pe=Ie[pe],dt=1,Ae=re[pe],Ce=bt[Ae],Oe=Qt(dt,Ce,Ae),Oe=q.MACSTRING(Pe,Oe),st=(Oe===void 0&&(dt=0,(Ae=k.indexOf(pe))<0&&(Ae=k.length,k.push(pe)),Ce=4,Oe=q.UTF16(Pe)),un(Oe,xe)),dt=(le.push(tr(dt,Ce,Ae,Se,Oe.length,st)),ue[pe]);dt!==void 0&&(Ae=un(Ce=q.UTF16(Pe),xe),le.push(tr(3,1,dt,Se,Ce.length,Ae)))}}le.sort(function(ht,Ot){return ht.platformID-Ot.platformID||ht.encodingID-Ot.encodingID||ht.languageID-Ot.languageID||ht.nameID-Ot.nameID});for(var at=new Te.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:le.length},{name:"stringOffset",type:"USHORT",value:6+12*le.length}]),it=0;it<le.length;it++)at.fields.push({name:"record_"+it,type:"RECORD",value:le[it]});return at.fields.push({name:"strings",type:"LITERAL",value:xe}),at}},cn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],rr={parse:function(j,k){var O={},A=new Ee.Parser(j,k);O.version=A.parseUShort(),O.xAvgCharWidth=A.parseShort(),O.usWeightClass=A.parseUShort(),O.usWidthClass=A.parseUShort(),O.fsType=A.parseUShort(),O.ySubscriptXSize=A.parseShort(),O.ySubscriptYSize=A.parseShort(),O.ySubscriptXOffset=A.parseShort(),O.ySubscriptYOffset=A.parseShort(),O.ySuperscriptXSize=A.parseShort(),O.ySuperscriptYSize=A.parseShort(),O.ySuperscriptXOffset=A.parseShort(),O.ySuperscriptYOffset=A.parseShort(),O.yStrikeoutSize=A.parseShort(),O.yStrikeoutPosition=A.parseShort(),O.sFamilyClass=A.parseShort(),O.panose=[];for(var U=0;U<10;U++)O.panose[U]=A.parseByte();return O.ulUnicodeRange1=A.parseULong(),O.ulUnicodeRange2=A.parseULong(),O.ulUnicodeRange3=A.parseULong(),O.ulUnicodeRange4=A.parseULong(),O.achVendID=String.fromCharCode(A.parseByte(),A.parseByte(),A.parseByte(),A.parseByte()),O.fsSelection=A.parseUShort(),O.usFirstCharIndex=A.parseUShort(),O.usLastCharIndex=A.parseUShort(),O.sTypoAscender=A.parseShort(),O.sTypoDescender=A.parseShort(),O.sTypoLineGap=A.parseShort(),O.usWinAscent=A.parseUShort(),O.usWinDescent=A.parseUShort(),1<=O.version&&(O.ulCodePageRange1=A.parseULong(),O.ulCodePageRange2=A.parseULong()),2<=O.version&&(O.sxHeight=A.parseShort(),O.sCapHeight=A.parseShort(),O.usDefaultChar=A.parseUShort(),O.usBreakChar=A.parseUShort(),O.usMaxContent=A.parseUShort()),O},make:function(j){return new Te.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],j)},unicodeRanges:cn,getUnicodeRange:function(j){for(var k=0;k<cn.length;k+=1){var O=cn[k];if(j>=O.begin&&j<O.end)return k}return-1}},xf={parse:function(j,k){var O={},A=new Ee.Parser(j,k);switch(O.version=A.parseVersion(),O.italicAngle=A.parseFixed(),O.underlinePosition=A.parseShort(),O.underlineThickness=A.parseShort(),O.isFixedPitch=A.parseULong(),O.minMemType42=A.parseULong(),O.maxMemType42=A.parseULong(),O.minMemType1=A.parseULong(),O.maxMemType1=A.parseULong(),O.version){case 1:O.names=be.slice();break;case 2:O.numberOfGlyphs=A.parseUShort(),O.glyphNameIndex=new Array(O.numberOfGlyphs);for(var U=0;U<O.numberOfGlyphs;U++)O.glyphNameIndex[U]=A.parseUShort();O.names=[];for(var W,Y=0;Y<O.numberOfGlyphs;Y++)O.glyphNameIndex[Y]>=be.length&&(W=A.parseChar(),O.names.push(A.parseString(W)));break;case 2.5:O.numberOfGlyphs=A.parseUShort(),O.offset=new Array(O.numberOfGlyphs);for(var re=0;re<O.numberOfGlyphs;re++)O.offset[re]=A.parseChar()}return O},make:function(){return new Te.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Xr=new Array(9),Ho=(Xr[1]=function(){var j=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{substFormat:1,coverage:this.parsePointer(_e.coverage),deltaGlyphId:this.parseUShort()}:k===2?{substFormat:2,coverage:this.parsePointer(_e.coverage),substitute:this.parseOffset16List()}:void R.assert(!1,"0x"+j.toString(16)+": lookup type 1 format must be 1 or 2.")},Xr[2]=function(){var j=this.parseUShort();return R.argument(j===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:j,coverage:this.parsePointer(_e.coverage),sequences:this.parseListOfLists()}},Xr[3]=function(){var j=this.parseUShort();return R.argument(j===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:j,coverage:this.parsePointer(_e.coverage),alternateSets:this.parseListOfLists()}},Xr[4]=function(){var j=this.parseUShort();return R.argument(j===1,"GSUB ligature table identifier-format must be 1"),{substFormat:j,coverage:this.parsePointer(_e.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:_e.uShort,lookupListIndex:_e.uShort});Xr[5]=function(){var j,k,O=this.offset+this.relativeOffset,A=this.parseUShort();return A===1?{substFormat:A,coverage:this.parsePointer(_e.coverage),ruleSets:this.parseListOfLists(function(){var U=this.parseUShort(),W=this.parseUShort();return{input:this.parseUShortList(U-1),lookupRecords:this.parseRecordList(W,Ho)}})}:A===2?{substFormat:A,coverage:this.parsePointer(_e.coverage),classDef:this.parsePointer(_e.classDef),classSets:this.parseListOfLists(function(){var U=this.parseUShort(),W=this.parseUShort();return{classes:this.parseUShortList(U-1),lookupRecords:this.parseRecordList(W,Ho)}})}:A===3?(j=this.parseUShort(),k=this.parseUShort(),{substFormat:A,coverages:this.parseList(j,_e.pointer(_e.coverage)),lookupRecords:this.parseRecordList(k,Ho)}):void R.assert(!1,"0x"+O.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Xr[6]=function(){var j=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{substFormat:1,coverage:this.parsePointer(_e.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ho)}})}:k===2?{substFormat:2,coverage:this.parsePointer(_e.coverage),backtrackClassDef:this.parsePointer(_e.classDef),inputClassDef:this.parsePointer(_e.classDef),lookaheadClassDef:this.parsePointer(_e.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ho)}})}:k===3?{substFormat:3,backtrackCoverage:this.parseList(_e.pointer(_e.coverage)),inputCoverage:this.parseList(_e.pointer(_e.coverage)),lookaheadCoverage:this.parseList(_e.pointer(_e.coverage)),lookupRecords:this.parseRecordList(Ho)}:void R.assert(!1,"0x"+j.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Xr[7]=function(){var j=this.parseUShort(),j=(R.argument(j===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),k=new _e(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:j,extension:Xr[j].call(k)}},Xr[8]=function(){var j=this.parseUShort();return R.argument(j===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:j,coverage:this.parsePointer(_e.coverage),backtrackCoverage:this.parseList(_e.pointer(_e.coverage)),lookaheadCoverage:this.parseList(_e.pointer(_e.coverage)),substitutes:this.parseUShortList()}};var ni=new Array(9);ni[1]=function(j){return j.substFormat===1?new Te.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Te.Coverage(j.coverage)},{name:"deltaGlyphID",type:"USHORT",value:j.deltaGlyphId}]):new Te.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Te.Coverage(j.coverage)}].concat(Te.ushortList("substitute",j.substitute)))},ni[3]=function(j){return R.assert(j.substFormat===1,"Lookup type 3 substFormat must be 1."),new Te.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Te.Coverage(j.coverage)}].concat(Te.tableList("altSet",j.alternateSets,function(k){return new Te.Table("alternateSetTable",Te.ushortList("alternate",k))})))},ni[4]=function(j){return R.assert(j.substFormat===1,"Lookup type 4 substFormat must be 1."),new Te.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Te.Coverage(j.coverage)}].concat(Te.tableList("ligSet",j.ligatureSets,function(k){return new Te.Table("ligatureSetTable",Te.tableList("ligature",k,function(O){return new Te.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:O.ligGlyph}].concat(Te.ushortList("component",O.components,O.components.length+1)))}))})))};var wf={parse:function(j,k){return k=(j=new _e(j,k=k||0)).parseVersion(1),R.argument(k===1||k===1.1,"Unsupported GSUB table version."),k===1?{version:k,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(Xr)}:{version:k,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(Xr),variations:j.parseFeatureVariationsList()}},make:function(j){return new Te.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Te.ScriptList(j.scripts)},{name:"features",type:"TABLE",value:new Te.FeatureList(j.features)},{name:"lookups",type:"TABLE",value:new Te.LookupList(j.lookups,ni)}])}},jf={parse:function(j,k){for(var O=new Ee.Parser(j,k),A=O.parseULong(),U=(R.argument(A===1,"Unsupported META table version."),O.parseULong(),O.parseULong(),O.parseULong()),W={},Y=0;Y<U;Y++){var re=O.parseTag(),le=O.parseULong(),ue=O.parseULong(),le=z.UTF8(j,k+le,ue);W[re]=le}return W},make:function(j){var k,O=Object.keys(j).length,A="",U=16+12*O,W=new Te.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:U},{name:"numTags",type:"ULONG",value:O}]);for(k in j){var Y=A.length;A+=j[k],W.fields.push({name:"tag "+k,type:"TAG",value:k}),W.fields.push({name:"offset "+k,type:"ULONG",value:U+Y}),W.fields.push({name:"length "+k,type:"ULONG",value:j[k].length})}return W.fields.push({name:"stringPool",type:"CHARARRAY",value:A}),W}};function _f(j){return Math.log(j)/Math.log(2)|0}function ru(j){for(;j.length%4!=0;)j.push(0);for(var k=0,O=0;O<j.length;O+=4)k+=(j[O]<<24)+(j[O+1]<<16)+(j[O+2]<<8)+j[O+3];return k%=Math.pow(2,32)}function Sf(j,k,O,A){return new Te.Record("Table Record",[{name:"tag",type:"TAG",value:j!==void 0?j:""},{name:"checkSum",type:"ULONG",value:k!==void 0?k:0},{name:"offset",type:"ULONG",value:O!==void 0?O:0},{name:"length",type:"ULONG",value:A!==void 0?A:0}])}function kf(j){for(var k=new Te.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),O=(k.tables=j,k.numTables=j.length,Math.pow(2,_f(k.numTables))),A=(k.searchRange=16*O,k.entrySelector=_f(O),k.rangeShift=16*k.numTables-k.searchRange,[]),U=[],W=k.sizeOf()+Sf().sizeOf()*k.numTables;W%4!=0;)W+=1,U.push({name:"padding",type:"BYTE",value:0});for(var Y=0;Y<j.length;Y+=1){var re=j[Y],ue=(R.argument(re.tableName.length===4,"Table name"+re.tableName+" is invalid."),re.sizeOf()),le=Sf(re.tableName,ru(re.encode()),W,ue);for(A.push({name:le.tag+" Table Record",type:"RECORD",value:le}),U.push({name:re.tableName+" table",type:"RECORD",value:re}),W+=ue,R.argument(!isNaN(W),"Something went wrong calculating the offset.");W%4!=0;)W+=1,U.push({name:"padding",type:"BYTE",value:0})}return A.sort(function(xe,Me){return xe.value.tag>Me.value.tag?1:-1}),k.fields=k.fields.concat(A),k.fields=k.fields.concat(U),k}function Ef(j,k,O){for(var A=0;A<k.length;A+=1){var U=j.charToGlyphIndex(k[A]);if(0<U)return j.glyphs.get(U).getMetrics()}return O}var gv={make:kf,fontToTable:function(j){for(var k,O=[],A=[],U=[],W=[],Y=[],re=[],ue=[],le=0,xe=0,Me=0,Se=0,pe=0,Ie=0;Ie<j.glyphs.length;Ie+=1){var Pe=j.glyphs.get(Ie),Ae=0|Pe.unicode;if(isNaN(Pe.advanceWidth))throw new Error("Glyph "+Pe.name+" ("+Ie+"): advanceWidth is not a number.");(Ae<k||k===void 0)&&0<Ae&&(k=Ae),le<Ae&&(le=Ae);var Ae=rr.getUnicodeRange(Ae);if(Ae<32)xe|=1<<Ae;else if(Ae<64)Me|=1<<Ae-32;else if(Ae<96)Se|=1<<Ae-64;else{if(!(Ae<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");pe|=1<<Ae-96}Pe.name!==".notdef"&&(Ae=Pe.getMetrics(),O.push(Ae.xMin),A.push(Ae.yMin),U.push(Ae.xMax),W.push(Ae.yMax),re.push(Ae.leftSideBearing),ue.push(Ae.rightSideBearing),Y.push(Pe.advanceWidth))}var Ce,Oe={xMin:Math.min.apply(null,O),yMin:Math.min.apply(null,A),xMax:Math.max.apply(null,U),yMax:Math.max.apply(null,W),advanceWidthMax:Math.max.apply(null,Y),advanceWidthAvg:function(nr){for(var $s=0,$o=0;$o<nr.length;$o+=1)$s+=nr[$o];return $s/nr.length}(Y),minLeftSideBearing:Math.min.apply(null,re),maxLeftSideBearing:Math.max.apply(null,re),minRightSideBearing:Math.min.apply(null,ue)},st=(Oe.ascender=j.ascender,Oe.descender=j.descender,Vs.make({flags:3,unitsPerEm:j.unitsPerEm,xMin:Oe.xMin,yMin:Oe.yMin,xMax:Oe.xMax,yMax:Oe.yMax,lowestRecPPEM:3,createdTimestamp:j.createdTimestamp})),dt=me.make({ascender:Oe.ascender,descender:Oe.descender,advanceWidthMax:Oe.advanceWidthMax,minLeftSideBearing:Oe.minLeftSideBearing,minRightSideBearing:Oe.minRightSideBearing,xMaxExtent:Oe.maxLeftSideBearing+(Oe.xMax-Oe.xMin),numberOfHMetrics:j.glyphs.length}),at=Be.make(j.glyphs.length),it=rr.make({xAvgCharWidth:Math.round(Oe.advanceWidthAvg),usWeightClass:j.tables.os2.usWeightClass,usWidthClass:j.tables.os2.usWidthClass,usFirstCharIndex:k,usLastCharIndex:le,ulUnicodeRange1:xe,ulUnicodeRange2:Me,ulUnicodeRange3:Se,ulUnicodeRange4:pe,fsSelection:j.tables.os2.fsSelection,sTypoAscender:Oe.ascender,sTypoDescender:Oe.descender,sTypoLineGap:0,usWinAscent:Oe.yMax,usWinDescent:Math.abs(Oe.yMin),ulCodePageRange1:1,sxHeight:Ef(j,"xyvw",{yMax:Math.round(Oe.ascender/2)}).yMax,sCapHeight:Ef(j,"HIKLEFJMNTZBDPRAGOQSUVWXY",Oe).yMax,usDefaultChar:j.hasChar(" ")?32:0,usBreakChar:j.hasChar(" ")?32:0}),ht=Ge.make(j.glyphs),Ot=J.make(j.glyphs),Lt=j.getEnglishName("fontFamily"),_t=j.getEnglishName("fontSubfamily"),Ct=Lt+" "+_t,Gt=(Gt=j.getEnglishName("postScriptName"))||Lt.replace(/\s/g,"")+"-"+_t,Yt={};for(Ce in j.names)Yt[Ce]=j.names[Ce];Yt.uniqueID||(Yt.uniqueID={en:j.getEnglishName("manufacturer")+":"+Ct}),Yt.postScriptName||(Yt.postScriptName={en:Gt}),Yt.preferredFamily||(Yt.preferredFamily=j.names.fontFamily),Yt.preferredSubfamily||(Yt.preferredSubfamily=j.names.fontSubfamily);var fr=[],dr=Cr.make(Yt,fr),fr=0<fr.length?et.make(fr):void 0,Qr=xf.make(),Ct=Gs.make(j.glyphs,{version:j.getEnglishName("version"),fullName:Ct,familyName:Lt,weightName:_t,postScriptName:Gt,unitsPerEm:j.unitsPerEm,fontBBox:[0,Oe.yMin,Oe.ascender,Oe.advanceWidthMax]}),Lt=j.metas&&0<Object.keys(j.metas).length?jf.make(j.metas):void 0,_t=[st,dt,at,it,dr,Ot,Qr,Ct,ht];fr&&_t.push(fr),j.tables.gsub&&_t.push(wf.make(j.tables.gsub)),Lt&&_t.push(Lt);for(var hr=ru((Gt=kf(_t)).encode()),Dt=Gt.fields,ir=!1,Nt=0;Nt<Dt.length;Nt+=1)if(Dt[Nt].name==="head table"){Dt[Nt].value.checkSumAdjustment=2981146554-hr,ir=!0;break}if(ir)return Gt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:ru};function nu(j,k){for(var O=0,A=j.length-1;O<=A;){var U=O+A>>>1,W=j[U].tag;if(W===k)return U;W<k?O=1+U:A=U-1}return-O-1}function Tf(j,k){for(var O=0,A=j.length-1;O<=A;){var U=O+A>>>1,W=j[U];if(W===k)return U;W<k?O=1+U:A=U-1}return-O-1}function Mf(j,k){for(var O=0,A=j.length-1;O<=A;){var U,W=O+A>>>1,Y=(U=j[W]).start;if(Y===k)return U;Y<k?O=1+W:A=W-1}if(0<O)return k>(U=j[O-1]).end?0:U}function oi(j,k){this.font=j,this.tableName=k}function si(j){oi.call(this,j,"gpos")}function dn(j){oi.call(this,j,"gsub")}function Cf(j,k,O){for(var A=j.subtables,U=0;U<A.length;U++){var W=A[U];if(W.substFormat===k)return W}if(O)return A.push(O),O}function Of(j){for(var k=new ArrayBuffer(j.length),O=new Uint8Array(k),A=0;A<j.length;++A)O[A]=j[A];return k}function Wo(j,k){if(!j)throw k}function Pf(j,k,O,A,U){var W=0<(k&A)?(W=j.parseByte(),O+(W=k&U?W:-W)):0<(k&U)?O:O+j.parseShort();return W}function yv(j,k,O){var A,U=new Ee.Parser(k,O);if(j.numberOfContours=U.parseShort(),j._xMin=U.parseShort(),j._yMin=U.parseShort(),j._xMax=U.parseShort(),j._yMax=U.parseShort(),0<j.numberOfContours){for(var W=j.endPointIndices=[],Y=0;Y<j.numberOfContours;Y+=1)W.push(U.parseUShort());j.instructionLength=U.parseUShort(),j.instructions=[];for(var re=0;re<j.instructionLength;re+=1)j.instructions.push(U.parseByte());for(var ue=W[W.length-1]+1,le=[],xe=0;xe<ue;xe+=1)if(A=U.parseByte(),le.push(A),0<(8&A))for(var Me=U.parseByte(),Se=0;Se<Me;Se+=1)le.push(A),xe+=1;if(R.argument(le.length===ue,"Bad flags."),0<W.length){var pe,Ie=[];if(0<ue){for(var Pe=0;Pe<ue;Pe+=1)A=le[Pe],(pe={}).onCurve=!!(1&A),pe.lastPointOfContour=0<=W.indexOf(Pe),Ie.push(pe);for(var Ae=0,Ce=0;Ce<ue;Ce+=1)A=le[Ce],(pe=Ie[Ce]).x=Pf(U,A,Ae,2,16),Ae=pe.x;for(var Oe=0,st=0;st<ue;st+=1)A=le[st],(pe=Ie[st]).y=Pf(U,A,Oe,4,32),Oe=pe.y}j.points=Ie}else j.points=[]}else if(j.numberOfContours===0)j.points=[];else{j.isComposite=!0,j.points=[],j.components=[];for(var dt=!0;dt;){le=U.parseUShort();var at={glyphIndex:U.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&le)?0<(2&le)?(at.dx=U.parseShort(),at.dy=U.parseShort()):at.matchedPoints=[U.parseUShort(),U.parseUShort()]:0<(2&le)?(at.dx=U.parseChar(),at.dy=U.parseChar()):at.matchedPoints=[U.parseByte(),U.parseByte()],0<(8&le)?at.xScale=at.yScale=U.parseF2Dot14():0<(64&le)?(at.xScale=U.parseF2Dot14(),at.yScale=U.parseF2Dot14()):0<(128&le)&&(at.xScale=U.parseF2Dot14(),at.scale01=U.parseF2Dot14(),at.scale10=U.parseF2Dot14(),at.yScale=U.parseF2Dot14()),j.components.push(at),dt=!!(32&le)}if(256&le){j.instructionLength=U.parseUShort(),j.instructions=[];for(var it=0;it<j.instructionLength;it+=1)j.instructions.push(U.parseByte())}}}function ou(j,k){for(var O=[],A=0;A<j.length;A+=1){var U=j[A],U={x:k.xScale*U.x+k.scale01*U.y+k.dx,y:k.scale10*U.x+k.yScale*U.y+k.dy,onCurve:U.onCurve,lastPointOfContour:U.lastPointOfContour};O.push(U)}return O}function Lf(j){var k=new Q;if(j)for(var O=function(Me){for(var Se=[],pe=[],Ie=0;Ie<Me.length;Ie+=1){var Pe=Me[Ie];pe.push(Pe),Pe.lastPointOfContour&&(Se.push(pe),pe=[])}return R.argument(pe.length===0,"There are still points left in the current contour."),Se}(j),A=0;A<O.length;++A){var U,W=O[A],Y=W[W.length-1],re=W[0];Y.onCurve?k.moveTo(Y.x,Y.y):re.onCurve?k.moveTo(re.x,re.y):(U={x:.5*(Y.x+re.x),y:.5*(Y.y+re.y)},k.moveTo(U.x,U.y));for(var ue=0;ue<W.length;++ue){var le,xe=Y,Y=re,re=W[(ue+1)%W.length];Y.onCurve?k.lineTo(Y.x,Y.y):(le=re,xe.onCurve||(Y.x,xe.x,Y.y,xe.y),re.onCurve||(le={x:.5*(Y.x+re.x),y:.5*(Y.y+re.y)}),k.quadraticCurveTo(Y.x,Y.y,le.x,le.y))}k.closePath()}return k}function vv(j,k){if(k.isComposite)for(var O=0;O<k.components.length;O+=1){var A=k.components[O],U=j.get(A.glyphIndex);if(U.getPath(),U.points){var W=void 0;if(A.matchedPoints===void 0)W=ou(U.points,A);else{if(A.matchedPoints[0]>k.points.length-1||A.matchedPoints[1]>U.points.length-1)throw Error("Matched points out of range in "+k.name);var Y=k.points[A.matchedPoints[0]],re=U.points[A.matchedPoints[1]],A={xScale:A.xScale,scale01:A.scale01,scale10:A.scale10,yScale:A.yScale,dx:0,dy:0},re=ou([re],A)[0];A.dx=Y.x-re.x,A.dy=Y.y-re.y,W=ou(U.points,A)}k.points=k.points.concat(W)}}return Lf(k.points)}(si.prototype=oi.prototype={searchTag:nu,binSearch:Tf,getTable:function(j){var k=this.font.tables[this.tableName];return k=!k&&j?this.font.tables[this.tableName]=this.createDefaultTable():k},getScriptNames:function(){var j=this.getTable();return j?j.scripts.map(function(k){return k.tag}):[]},getDefaultScriptName:function(){var j=this.getTable();if(j){for(var k=!1,O=0;O<j.scripts.length;O++){var A=j.scripts[O].tag;if(A==="DFLT")return A;A==="latn"&&(k=!0)}return k?"latn":void 0}},getScriptTable:function(j,k){var O,A=this.getTable(k);if(A)return O=A.scripts,0<=(A=nu(A.scripts,j=j||"DFLT"))?O[A].script:k?(O.splice(-1-A,0,k={tag:j,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),k.script):void 0},getLangSysTable:function(U,k,O){var A,U=this.getScriptTable(U,O);if(U)return k&&k!=="dflt"&&k!=="DFLT"?0<=(A=nu(U.langSysRecords,k))?U.langSysRecords[A].langSys:O?(U.langSysRecords.splice(-1-A,0,O={tag:k,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),O.langSys):void 0:U.defaultLangSys},getFeatureTable:function(j,k,O,A){if(j=this.getLangSysTable(j,k,A),j){for(var U,W=j.featureIndexes,Y=this.font.tables[this.tableName].features,re=0;re<W.length;re++)if((U=Y[W[re]]).tag===O)return U.feature;if(A)return k=Y.length,R.assert(k===0||O>=Y[k-1].tag,"Features must be added in alphabetical order."),Y.push(U={tag:O,feature:{params:0,lookupListIndexes:[]}}),W.push(k),U.feature}},getLookupTables:function(W,k,O,A,U){var W=this.getFeatureTable(W,k,O,U),Y=[];if(W){for(var re,ue=W.lookupListIndexes,le=this.font.tables[this.tableName].lookups,xe=0;xe<ue.length;xe++)(re=le[ue[xe]]).lookupType===A&&Y.push(re);if(Y.length===0&&U)return k=le.length,le.push(re={lookupType:A,lookupFlag:0,subtables:[],markFilteringSet:void 0}),ue.push(k),[re]}return Y},getGlyphClass:function(j,k){switch(j.format){case 1:return j.startGlyph<=k&&k<j.startGlyph+j.classes.length?j.classes[k-j.startGlyph]:0;case 2:var O=Mf(j.ranges,k);return O?O.classId:0}},getCoverageIndex:function(j,k){switch(j.format){case 1:var O=Tf(j.glyphs,k);return 0<=O?O:-1;case 2:return O=Mf(j.ranges,k),O?O.index+k-O.start:-1}},expandCoverage:function(j){if(j.format===1)return j.glyphs;for(var k=[],O=j.ranges,A=0;A<O.length;A++)for(var U=O[A],W=U.start,Y=U.end,re=W;re<=Y;re++)k.push(re);return k}}).init=function(){var j=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(j)},si.prototype.getKerningValue=function(j,k,O){for(var A=0;A<j.length;A++)for(var U=j[A].subtables,W=0;W<U.length;W++){var Y=U[W],re=this.getCoverageIndex(Y.coverage,k);if(!(re<0))switch(Y.posFormat){case 1:for(var ue=Y.pairSets[re],le=0;le<ue.length;le++){var xe=ue[le];if(xe.secondGlyph===O)return xe.value1&&xe.value1.xAdvance||0}break;case 2:var Se=this.getGlyphClass(Y.classDef1,k),Me=this.getGlyphClass(Y.classDef2,O),Se=Y.classRecords[Se][Me];return Se.value1&&Se.value1.xAdvance||0}}return 0},si.prototype.getKerningTables=function(j,k){if(this.font.tables.gpos)return this.getLookupTables(j,k,"kern",2)},(dn.prototype=oi.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},dn.prototype.getSingle=function(j,k,O){for(var A=[],U=this.getLookupTables(k,O,j,1),W=0;W<U.length;W++)for(var Y=U[W].subtables,re=0;re<Y.length;re++){var ue=Y[re],le=this.expandCoverage(ue.coverage),xe=void 0;if(ue.substFormat===1)for(var Me=ue.deltaGlyphId,xe=0;xe<le.length;xe++){var Se=le[xe];A.push({sub:Se,by:Se+Me})}else{var pe=ue.substitute;for(xe=0;xe<le.length;xe++)A.push({sub:le[xe],by:pe[xe]})}}return A},dn.prototype.getAlternates=function(j,k,O){for(var A=[],U=this.getLookupTables(k,O,j,3),W=0;W<U.length;W++)for(var Y=U[W].subtables,re=0;re<Y.length;re++)for(var ue=Y[re],le=this.expandCoverage(ue.coverage),xe=ue.alternateSets,Me=0;Me<le.length;Me++)A.push({sub:le[Me],by:xe[Me]});return A},dn.prototype.getLigatures=function(j,k,O){for(var A=[],U=this.getLookupTables(k,O,j,4),W=0;W<U.length;W++)for(var Y=U[W].subtables,re=0;re<Y.length;re++)for(var ue=Y[re],le=this.expandCoverage(ue.coverage),xe=ue.ligatureSets,Me=0;Me<le.length;Me++)for(var Se=le[Me],pe=xe[Me],Ie=0;Ie<pe.length;Ie++){var Pe=pe[Ie];A.push({sub:[Se].concat(Pe.components),by:Pe.ligGlyph})}return A},dn.prototype.addSingle=function(j,k,O,A){O=Cf(this.getLookupTables(O,A,j,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),R.assert(O.coverage.format===1,"Ligature: unable to modify coverage table format "+O.coverage.format),A=k.sub,j=this.binSearch(O.coverage.glyphs,A),j<0&&(O.coverage.glyphs.splice(j=-1-j,0,A),O.substitute.splice(j,0,0)),O.substitute[j]=k.by},dn.prototype.addAlternate=function(j,k,O,A){O=Cf(this.getLookupTables(O,A,j,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),R.assert(O.coverage.format===1,"Ligature: unable to modify coverage table format "+O.coverage.format),A=k.sub,j=this.binSearch(O.coverage.glyphs,A),j<0&&(O.coverage.glyphs.splice(j=-1-j,0,A),O.alternateSets.splice(j,0,0)),O.alternateSets[j]=k.by},dn.prototype.addLigature=function(W,ue,re,U){var re=this.getLookupTables(re,U,W,4,!0)[0],U=re.subtables[0],W=(U||(re.subtables[0]=U={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),R.assert(U.coverage.format===1,"Ligature: unable to modify coverage table format "+U.coverage.format),ue.sub[0]),Y=ue.sub.slice(1),re={ligGlyph:ue.by,components:Y},ue=this.binSearch(U.coverage.glyphs,W);if(0<=ue){for(var le=U.ligatureSets[ue],xe=0;xe<le.length;xe++)if(function(Me,Se){var pe=Me.length;if(pe===Se.length){for(var Ie=0;Ie<pe;Ie++)if(Me[Ie]!==Se[Ie])return;return 1}}(le[xe].components,Y))return;le.push(re)}else U.coverage.glyphs.splice(ue=-1-ue,0,W),U.ligatureSets.splice(ue,0,[re])},dn.prototype.getFeature=function(j,k,O){if(/ss\d\d/.test(j))return this.getSingle(j,k,O);switch(j){case"aalt":case"salt":return this.getSingle(j,k,O).concat(this.getAlternates(j,k,O));case"dlig":case"liga":case"rlig":return this.getLigatures(j,k,O)}},dn.prototype.add=function(j,k,O,A){if(/ss\d\d/.test(j))return this.addSingle(j,k,O,A);switch(j){case"aalt":case"salt":return typeof k.by=="number"?this.addSingle(j,k,O,A):this.addAlternate(j,k,O,A);case"dlig":case"liga":case"rlig":return this.addLigature(j,k,O,A)}};var Nf={getPath:Lf,parse:function(j,k,O,A){for(var U=new rt.GlyphSet(A),W=0;W<O.length-1;W+=1){var Y=O[W];Y!==O[W+1]?U.push(W,rt.ttfGlyphLoader(A,W,yv,j,k+Y,vv)):U.push(W,rt.glyphLoader(A,W))}return U}};function Af(j){this.font=j,this.getCommands=function(k){return Nf.getPath(k).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function bv(j){return j}function Rf(j){return Math.sign(j)*Math.round(Math.abs(j))}function xv(j){return Math.sign(j)*Math.round(Math.abs(2*j))/2}function wv(j){return Math.sign(j)*(Math.round(Math.abs(j)+.5)-.5)}function jv(j){return Math.sign(j)*Math.ceil(Math.abs(j))}function _v(j){return Math.sign(j)*Math.floor(Math.abs(j))}function If(j){var k=this.srPeriod,O=this.srPhase,A=1;return j<0&&(j=-j,A=-1),j+=this.srThreshold-O,j=Math.trunc(j/k)*k,(j+=O)<0?O*A:j*A}var fn={x:1,y:0,axis:"x",distance:function(j,k,O,A){return(O?j.xo:j.x)-(A?k.xo:k.x)},interpolate:function(j,k,O,A){var U,W,Y,re,ue,le,xe;if(!A||A===this)return U=j.xo-k.xo,W=j.xo-O.xo,ue=k.x-k.xo,le=O.x-O.xo,(xe=(Y=Math.abs(U))+(re=Math.abs(W)))===0?void(j.x=j.xo+(ue+le)/2):void(j.x=j.xo+(ue*re+le*Y)/xe);U=A.distance(j,k,!0,!0),W=A.distance(j,O,!0,!0),ue=A.distance(k,k,!1,!0),le=A.distance(O,O,!1,!0),(xe=(Y=Math.abs(U))+(re=Math.abs(W)))===0?fn.setRelative(j,j,(ue+le)/2,A,!0):fn.setRelative(j,j,(ue*re+le*Y)/xe,A,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(j,k,O,A,U){var W,Y;A&&A!==this?(W=U?k.xo:k.x,Y=U?k.yo:k.y,W+=O*A.x,Y+=O*A.y,j.x=W+(j.y-Y)/A.normalSlope):j.x=(U?k.xo:k.x)+O},slope:0,touch:function(j){j.xTouched=!0},touched:function(j){return j.xTouched},untouch:function(j){j.xTouched=!1}},jn={x:0,y:1,axis:"y",distance:function(j,k,O,A){return(O?j.yo:j.y)-(A?k.yo:k.y)},interpolate:function(j,k,O,A){var U,W,Y,re,ue,le,xe;if(!A||A===this)return U=j.yo-k.yo,W=j.yo-O.yo,ue=k.y-k.yo,le=O.y-O.yo,(xe=(Y=Math.abs(U))+(re=Math.abs(W)))===0?void(j.y=j.yo+(ue+le)/2):void(j.y=j.yo+(ue*re+le*Y)/xe);U=A.distance(j,k,!0,!0),W=A.distance(j,O,!0,!0),ue=A.distance(k,k,!1,!0),le=A.distance(O,O,!1,!0),(xe=(Y=Math.abs(U))+(re=Math.abs(W)))===0?jn.setRelative(j,j,(ue+le)/2,A,!0):jn.setRelative(j,j,(ue*re+le*Y)/xe,A,!0)},normalSlope:0,setRelative:function(j,k,O,A,U){var W,Y;A&&A!==this?(W=U?k.xo:k.x,Y=U?k.yo:k.y,W+=O*A.x,Y+=O*A.y,j.y=Y+A.normalSlope*(j.x-W)):j.y=(U?k.yo:k.y)+O},slope:Number.POSITIVE_INFINITY,touch:function(j){j.yTouched=!0},touched:function(j){return j.yTouched},untouch:function(j){j.yTouched=!1}};function Hs(j,k){this.x=j,this.y=k,this.axis=void 0,this.slope=k/j,this.normalSlope=-j/k,Object.freeze(this)}function Ws(j,k){var O=Math.sqrt(j*j+k*k);return k/=O,(j/=O)===1&&k===0?fn:j===0&&k===1?jn:new Hs(j,k)}function _n(j,k,O,A){this.x=this.xo=Math.round(64*j)/64,this.y=this.yo=Math.round(64*k)/64,this.lastPointOfContour=O,this.onCurve=A,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(fn),Object.freeze(jn),Hs.prototype.distance=function(j,k,O,A){return this.x*fn.distance(j,k,O,A)+this.y*jn.distance(j,k,O,A)},Hs.prototype.interpolate=function(j,U,W,A){var Y=A.distance(j,U,!0,!0),re=A.distance(j,W,!0,!0),U=A.distance(U,U,!1,!0),W=A.distance(W,W,!1,!0),Y=Math.abs(Y),re=Math.abs(re),ue=Y+re;ue===0?this.setRelative(j,j,(U+W)/2,A,!0):this.setRelative(j,j,(U*re+W*Y)/ue,A,!0)},Hs.prototype.setRelative=function(j,W,ue,le,re){var Y=re?W.xo:W.x,re=re?W.yo:W.y,W=Y+ue*(le=le||this).x,Y=re+ue*le.y,re=le.normalSlope,ue=this.slope,le=j.x,xe=j.y;j.x=(ue*le-re*W+Y-xe)/(ue-re),j.y=ue*(j.x-le)+xe},Hs.prototype.touch=function(j){j.xTouched=!0,j.yTouched=!0},_n.prototype.nextTouched=function(j){for(var k=this.nextPointOnContour;!j.touched(k)&&k!==this;)k=k.nextPointOnContour;return k},_n.prototype.prevTouched=function(j){for(var k=this.prevPointOnContour;!j.touched(k)&&k!==this;)k=k.prevPointOnContour;return k};var qs=Object.freeze(new _n(0,0)),Sv={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function In(j,k){switch(this.env=j,this.stack=[],this.prog=k,j){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=fn,this.round=Rf}}function ai(j){for(var k=j.tZone=new Array(j.gZone.length),O=0;O<k.length;O++)k[O]=new _n(0,0)}function Df(j,k){var O,A=j.prog,U=j.ip,W=1;do if((O=A[++U])===88)W++;else if(O===89)W--;else if(O===64)U+=A[U+1]+1;else if(O===65)U+=2*A[U+1]+1;else if(176<=O&&O<=183)U+=O-176+1;else if(184<=O&&O<=191)U+=2*(O-184+1);else if(k&&W===1&&O===27)break;while(0<W);j.ip=U}function Ff(j,k){p.DEBUG&&console.log(k.step,"SVTCA["+j.axis+"]"),k.fv=k.pv=k.dpv=j}function Uf(j,k){p.DEBUG&&console.log(k.step,"SPVTCA["+j.axis+"]"),k.pv=k.dpv=j}function Bf(j,k){p.DEBUG&&console.log(k.step,"SFVTCA["+j.axis+"]"),k.fv=j}function zf(j,k){var O,U=k.stack,A=U.pop(),U=U.pop(),W=k.z2[A],Y=k.z1[U];p.DEBUG&&console.log("SPVTL["+j+"]",A,U),A=j?(O=W.y-Y.y,Y.x-W.x):(O=Y.x-W.x,Y.y-W.y),k.pv=k.dpv=Ws(O,A)}function Gf(j,k){var O,U=k.stack,A=U.pop(),U=U.pop(),W=k.z2[A],Y=k.z1[U];p.DEBUG&&console.log("SFVTL["+j+"]",A,U),A=j?(O=W.y-Y.y,Y.x-W.x):(O=Y.x-W.x,Y.y-W.y),k.fv=Ws(O,A)}function su(j){p.DEBUG&&console.log(j.step,"POP[]"),j.stack.pop()}function Vf(j,k){var O=k.stack.pop(),A=k.z0[O],U=k.fv,W=k.pv,Y=(p.DEBUG&&console.log(k.step,"MDAP["+j+"]",O),W.distance(A,qs));j&&(Y=k.round(Y)),U.setRelative(A,qs,Y,W),U.touch(A),k.rp0=k.rp1=O}function Hf(j,k){var O,A,U,W=k.z2,Y=W.length-2;p.DEBUG&&console.log(k.step,"IUP["+j.axis+"]");for(var re=0;re<Y;re++)O=W[re],j.touched(O)||(A=O.prevTouched(j))!==O&&(A===(U=O.nextTouched(j))&&j.setRelative(O,O,j.distance(A,A,!1,!0),j,!0),j.interpolate(O,A,U,j))}function Wf(j,k){for(var O=k.stack,A=j?k.rp1:k.rp2,U=(j?k.z0:k.z1)[A],W=k.fv,Y=k.pv,re=k.loop,ue=k.z2;re--;){var le=O.pop(),xe=ue[le],Me=Y.distance(U,U,!1,!0);W.setRelative(xe,xe,Me,Y),W.touch(xe),p.DEBUG&&console.log(k.step,(1<k.loop?"loop "+(k.loop-re)+": ":"")+"SHP["+(j?"rp1":"rp2")+"]",le)}k.loop=1}function qf(j,k){for(var O=k.stack,Y=j?k.rp1:k.rp2,A=(j?k.z0:k.z1)[Y],U=k.fv,W=k.pv,Y=O.pop(),re=k.z2[k.contours[Y]],ue=re,le=(p.DEBUG&&console.log(k.step,"SHC["+j+"]",Y),W.distance(A,A,!1,!0));ue!==A&&U.setRelative(ue,ue,le,W),(ue=ue.nextPointOnContour)!==re;);}function $f(j,k){var O,A,re=k.stack,U=j?k.rp1:k.rp2,U=(j?k.z0:k.z1)[U],W=k.fv,Y=k.pv,re=re.pop();switch(p.DEBUG&&console.log(k.step,"SHZ["+j+"]",re),re){case 0:O=k.tZone;break;case 1:O=k.gZone;break;default:throw new Error("Invalid zone")}for(var ue=Y.distance(U,U,!1,!0),le=O.length-2,xe=0;xe<le;xe++)A=O[xe],W.setRelative(A,A,ue,Y)}function Yf(j,k){var A=k.stack,O=A.pop()/64,A=A.pop(),U=k.z1[A],W=k.z0[k.rp0],Y=k.fv,re=k.pv;Y.setRelative(U,W,O,re),Y.touch(U),p.DEBUG&&console.log(k.step,"MSIRP["+j+"]",O,A),k.rp1=k.rp0,k.rp2=A,j&&(k.rp0=A)}function Xf(j,k){var O=k.stack,re=O.pop(),O=O.pop(),A=k.z0[O],U=k.fv,W=k.pv,Y=k.cvt[re],re=(p.DEBUG&&console.log(k.step,"MIAP["+j+"]",re,"(",Y,")",O),W.distance(A,qs));j&&(Math.abs(re-Y)<k.cvCutIn&&(re=Y),re=k.round(re)),U.setRelative(A,qs,re,W),k.zp0===0&&(A.xo=A.x,A.yo=A.y),U.touch(A),k.rp0=k.rp1=O}function Kf(j,k){var O=k.stack,A=O.pop(),U=k.z2[A];p.DEBUG&&console.log(k.step,"GC["+j+"]",A),O.push(64*k.dpv.distance(U,qs,j,!1))}function Qf(j,k){var A=k.stack,O=A.pop(),A=A.pop(),U=k.z1[O],W=k.z0[A],W=k.dpv.distance(W,U,j,j);p.DEBUG&&console.log(k.step,"MD["+j+"]",O,A,"->",W),k.stack.push(Math.round(64*W))}function au(j,k){var O=k.stack,A=O.pop(),U=k.fv,W=k.pv,Y=k.ppem,re=k.deltaBase+16*(j-1),ue=k.deltaShift,le=k.z0;p.DEBUG&&console.log(k.step,"DELTAP["+j+"]",A,O);for(var xe=0;xe<A;xe++){var Me=O.pop(),Se=O.pop();re+((240&Se)>>4)===Y&&(0<=(Se=(15&Se)-8)&&Se++,p.DEBUG&&console.log(k.step,"DELTAPFIX",Me,"by",Se*ue),Me=le[Me],U.setRelative(Me,Me,Se*ue,W))}}function ii(j,k){var O=k.stack,A=O.pop();p.DEBUG&&console.log(k.step,"ROUND[]"),O.push(64*k.round(A/64))}function iu(j,k){var O=k.stack,A=O.pop(),U=k.ppem,W=k.deltaBase+16*(j-1),Y=k.deltaShift;p.DEBUG&&console.log(k.step,"DELTAC["+j+"]",A,O);for(var re=0;re<A;re++){var ue=O.pop(),le=O.pop();W+((240&le)>>4)===U&&(0<=(le=(15&le)-8)&&le++,le=le*Y,p.DEBUG&&console.log(k.step,"DELTACFIX",ue,"by",le),k.cvt[ue]+=le)}}function Zf(j,k){var O,U=k.stack,A=U.pop(),U=U.pop(),W=k.z2[A],Y=k.z1[U];p.DEBUG&&console.log(k.step,"SDPVTL["+j+"]",A,U),A=j?(O=W.y-Y.y,Y.x-W.x):(O=Y.x-W.x,Y.y-W.y),k.dpv=Ws(O,A)}function Dn(j,k){var O=k.stack,A=k.prog,U=k.ip;p.DEBUG&&console.log(k.step,"PUSHB["+j+"]");for(var W=0;W<j;W++)O.push(A[++U]);k.ip=U}function Fn(j,k){var O=k.ip,A=k.prog,U=k.stack;p.DEBUG&&console.log(k.ip,"PUSHW["+j+"]");for(var W=0;W<j;W++){var Y=A[++O]<<8|A[++O];32768&Y&&(Y=-(1+(65535^Y))),U.push(Y)}k.ip=O}function ot(j,k,O,A,U,W){var Y,re,le=W.stack,ue=j&&le.pop(),le=le.pop(),xe=W.rp0,xe=W.z0[xe],Me=W.z1[le],Se=W.minDis,pe=W.fv,Ie=W.dpv,Pe=Y=Ie.distance(Me,xe,!0,!0),Ae=0<=Pe?1:-1;Pe=Math.abs(Pe),j&&(re=W.cvt[ue],A&&Math.abs(Pe-re)<W.cvCutIn&&(Pe=re)),O&&Pe<Se&&(Pe=Se),A&&(Pe=W.round(Pe)),pe.setRelative(Me,xe,Ae*Pe,Ie),pe.touch(Me),p.DEBUG&&console.log(W.step,(j?"MIRP[":"MDRP[")+(k?"M":"m")+(O?">":"_")+(A?"R":"_")+(U===0?"Gr":U===1?"Bl":U===2?"Wh":"")+"]",j?ue+"("+W.cvt[ue]+","+re+")":"",le,"(d =",Y,"->",Ae*Pe,")"),W.rp1=W.rp0,W.rp2=le,k&&(W.rp0=le)}Af.prototype.exec=function(j,k){if(typeof k!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var O=this.font,A=this._prepState;if(!A||A.ppem!==k){var U=this._fpgmState;if(!U){In.prototype=Sv,(U=this._fpgmState=new In("fpgm",O.tables.fpgm)).funcs=[],U.font=O,p.DEBUG&&(console.log("---EXEC FPGM---"),U.step=-1);try{qo(U)}catch(le){return console.log("Hinting error in FPGM:"+le),void(this._errorState=3)}}In.prototype=U,(A=this._prepState=new In("prep",O.tables.prep)).ppem=k;var W=O.tables.cvt;if(W)for(var Y=A.cvt=new Array(W.length),re=k/O.unitsPerEm,ue=0;ue<W.length;ue++)Y[ue]=W[ue]*re;else A.cvt=[];p.DEBUG&&(console.log("---EXEC PREP---"),A.step=-1);try{qo(A)}catch(le){this._errorState<2&&console.log("Hinting error in PREP:"+le),this._errorState=2}}if(!(1<this._errorState))try{return kv(j,A)}catch(le){this._errorState<1&&(console.log("Hinting error:"+le),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var kv=function(j,k){var O=k.ppem/k.font.unitsPerEm,A=O,U=j.components;if(In.prototype=k,U){for(var W=k.font,Y=[],re=[],ue=0;ue<U.length;ue++){var le=U[ue],xe=W.glyphs.get(le.glyphIndex),Me=new In("glyf",xe.instructions);p.DEBUG&&(console.log("---EXEC COMP "+ue+"---"),Me.step=-1),Jf(xe,Me,O,A);for(var Se=Math.round(le.dx*O),pe=Math.round(le.dy*A),Ie=Me.gZone,Pe=Me.contours,Ae=0;Ae<Ie.length;Ae++){var Ce=Ie[Ae];Ce.xTouched=Ce.yTouched=!1,Ce.xo=Ce.x=Ce.x+Se,Ce.yo=Ce.y=Ce.y+pe}var Oe=Y.length;Y.push.apply(Y,Ie);for(var st=0;st<Pe.length;st++)re.push(Pe[st]+Oe)}j.instructions&&!Me.inhibitGridFit&&((Me=new In("glyf",j.instructions)).gZone=Me.z0=Me.z1=Me.z2=Y,Me.contours=re,Y.push(new _n(0,0),new _n(Math.round(j.advanceWidth*O),0)),p.DEBUG&&(console.log("---EXEC COMPOSITE---"),Me.step=-1),qo(Me),Y.length-=2)}else Me=new In("glyf",j.instructions),p.DEBUG&&(console.log("---EXEC GLYPH---"),Me.step=-1),Jf(j,Me,O,A),Y=Me.gZone;return Y},Jf=function(j,k,O,A){for(var U,W,Y,re=j.points||[],ue=re.length,le=k.gZone=k.z0=k.z1=k.z2=[],xe=k.contours=[],Me=0;Me<ue;Me++)U=re[Me],le[Me]=new _n(U.x*O,U.y*A,U.lastPointOfContour,U.onCurve);for(var Se=0;Se<ue;Se++)U=le[Se],W||(W=U,xe.push(Se)),U.lastPointOfContour?((U.nextPointOnContour=W).prevPointOnContour=U,W=void 0):(Y=le[Se+1],(U.nextPointOnContour=Y).prevPointOnContour=U);if(!k.inhibitGridFit){if(p.DEBUG){console.log("PROCESSING GLYPH",k.stack);for(var pe=0;pe<ue;pe++)console.log(pe,le[pe].x,le[pe].y)}if(le.push(new _n(0,0),new _n(Math.round(j.advanceWidth*O),0)),qo(k),le.length-=2,p.DEBUG){console.log("FINISHED GLYPH",k.stack);for(var Ie=0;Ie<ue;Ie++)console.log(Ie,le[Ie].x,le[Ie].y)}}},qo=function(j){var k=j.prog;if(k){var O,A=k.length;for(j.ip=0;j.ip<A;j.ip++){if(p.DEBUG&&j.step++,!(O=Ev[k[j.ip]]))throw new Error("unknown instruction: 0x"+Number(k[j.ip]).toString(16));O(j)}}},Ev=[Ff.bind(void 0,jn),Ff.bind(void 0,fn),Uf.bind(void 0,jn),Uf.bind(void 0,fn),Bf.bind(void 0,jn),Bf.bind(void 0,fn),zf.bind(void 0,0),zf.bind(void 0,1),Gf.bind(void 0,0),Gf.bind(void 0,1),function(j){var k=(O=j.stack).pop(),O=O.pop();p.DEBUG&&console.log(j.step,"SPVFS[]",k,O),j.pv=j.dpv=Ws(O,k)},function(j){var k=(O=j.stack).pop(),O=O.pop();p.DEBUG&&console.log(j.step,"SPVFS[]",k,O),j.fv=Ws(O,k)},function(j){var k=j.stack,O=j.pv;p.DEBUG&&console.log(j.step,"GPV[]"),k.push(16384*O.x),k.push(16384*O.y)},function(j){var k=j.stack,O=j.fv;p.DEBUG&&console.log(j.step,"GFV[]"),k.push(16384*O.x),k.push(16384*O.y)},function(j){j.fv=j.pv,p.DEBUG&&console.log(j.step,"SFVTPV[]")},function(k){var O=(Y=k.stack).pop(),A=Y.pop(),U=Y.pop(),W=Y.pop(),Y=Y.pop(),ue=k.z0,xe=k.z1,re=ue[O],ue=ue[A],le=xe[U],xe=xe[W],k=k.z2[Y],O=(p.DEBUG&&console.log("ISECT[], ",O,A,U,W,Y),re.x),A=re.y,U=ue.x,W=ue.y,Y=le.x,re=le.y,ue=xe.x,le=xe.y,xe=(O-U)*(re-le)-(A-W)*(Y-ue),Me=O*W-A*U,Se=Y*le-re*ue;k.x=(Me*(Y-ue)-Se*(O-U))/xe,k.y=(Me*(re-le)-Se*(A-W))/xe},function(j){j.rp0=j.stack.pop(),p.DEBUG&&console.log(j.step,"SRP0[]",j.rp0)},function(j){j.rp1=j.stack.pop(),p.DEBUG&&console.log(j.step,"SRP1[]",j.rp1)},function(j){j.rp2=j.stack.pop(),p.DEBUG&&console.log(j.step,"SRP2[]",j.rp2)},function(j){var k=j.stack.pop();switch(p.DEBUG&&console.log(j.step,"SZP0[]",k),j.zp0=k){case 0:j.tZone||ai(j),j.z0=j.tZone;break;case 1:j.z0=j.gZone;break;default:throw new Error("Invalid zone pointer")}},function(j){var k=j.stack.pop();switch(p.DEBUG&&console.log(j.step,"SZP1[]",k),j.zp1=k){case 0:j.tZone||ai(j),j.z1=j.tZone;break;case 1:j.z1=j.gZone;break;default:throw new Error("Invalid zone pointer")}},function(j){var k=j.stack.pop();switch(p.DEBUG&&console.log(j.step,"SZP2[]",k),j.zp2=k){case 0:j.tZone||ai(j),j.z2=j.tZone;break;case 1:j.z2=j.gZone;break;default:throw new Error("Invalid zone pointer")}},function(j){var k=j.stack.pop();switch(p.DEBUG&&console.log(j.step,"SZPS[]",k),j.zp0=j.zp1=j.zp2=k){case 0:j.tZone||ai(j),j.z0=j.z1=j.z2=j.tZone;break;case 1:j.z0=j.z1=j.z2=j.gZone;break;default:throw new Error("Invalid zone pointer")}},function(j){j.loop=j.stack.pop(),p.DEBUG&&console.log(j.step,"SLOOP[]",j.loop)},function(j){p.DEBUG&&console.log(j.step,"RTG[]"),j.round=Rf},function(j){p.DEBUG&&console.log(j.step,"RTHG[]"),j.round=wv},function(j){var k=j.stack.pop();p.DEBUG&&console.log(j.step,"SMD[]",k),j.minDis=k/64},function(j){p.DEBUG&&console.log(j.step,"ELSE[]"),Df(j,!1)},function(j){var k=j.stack.pop();p.DEBUG&&console.log(j.step,"JMPR[]",k),j.ip+=k-1},function(j){var k=j.stack.pop();p.DEBUG&&console.log(j.step,"SCVTCI[]",k),j.cvCutIn=k/64},void 0,void 0,function(j){var k=j.stack;p.DEBUG&&console.log(j.step,"DUP[]"),k.push(k[k.length-1])},su,function(j){p.DEBUG&&console.log(j.step,"CLEAR[]"),j.stack.length=0},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"SWAP[]"),k.push(O),k.push(A)},function(j){var k=j.stack;p.DEBUG&&console.log(j.step,"DEPTH[]"),k.push(k.length)},function(j){var k=j.stack,O=k.pop();p.DEBUG&&console.log(j.step,"CINDEX[]",O),k.push(k[k.length-O])},function(j){var k=j.stack,O=k.pop();p.DEBUG&&console.log(j.step,"MINDEX[]",O),k.push(k.splice(k.length-O,1)[0])},void 0,void 0,void 0,function(j){var k=(A=j.stack).pop(),O=A.pop(),A=(p.DEBUG&&console.log(j.step,"LOOPCALL[]",k,O),j.ip),U=j.prog;j.prog=j.funcs[k];for(var W=0;W<O;W++)qo(j),p.DEBUG&&console.log(++j.step,W+1<O?"next loopcall":"done loopcall",W);j.ip=A,j.prog=U},function(j){var k=j.stack.pop(),O=(p.DEBUG&&console.log(j.step,"CALL[]",k),j.ip),A=j.prog;j.prog=j.funcs[k],qo(j),j.ip=O,j.prog=A,p.DEBUG&&console.log(++j.step,"returning from",k)},function(j){if(j.env!=="fpgm")throw new Error("FDEF not allowed here");var A=j.stack,k=j.prog,O=j.ip,A=A.pop(),U=O;for(p.DEBUG&&console.log(j.step,"FDEF[]",A);k[++O]!==45;);j.ip=O,j.funcs[A]=k.slice(U+1,O)},void 0,Vf.bind(void 0,0),Vf.bind(void 0,1),Hf.bind(void 0,jn),Hf.bind(void 0,fn),Wf.bind(void 0,0),Wf.bind(void 0,1),qf.bind(void 0,0),qf.bind(void 0,1),$f.bind(void 0,0),$f.bind(void 0,1),function(j){for(var k=j.stack,O=j.loop,A=j.fv,U=k.pop()/64,W=j.z2;O--;){var Y=k.pop(),re=W[Y];p.DEBUG&&console.log(j.step,(1<j.loop?"loop "+(j.loop-O)+": ":"")+"SHPIX[]",Y,U),A.setRelative(re,re,U),A.touch(re)}j.loop=1},function(j){for(var k=j.stack,O=j.rp1,A=j.rp2,U=j.loop,W=j.z0[O],Y=j.z1[A],re=j.fv,ue=j.dpv,le=j.z2;U--;){var xe=k.pop(),Me=le[xe];p.DEBUG&&console.log(j.step,(1<j.loop?"loop "+(j.loop-U)+": ":"")+"IP[]",xe,O,"<->",A),re.interpolate(Me,W,Y,ue),re.touch(Me)}j.loop=1},Yf.bind(void 0,0),Yf.bind(void 0,1),function(j){for(var k=j.stack,O=j.rp0,A=j.z0[O],U=j.loop,W=j.fv,Y=j.pv,re=j.z1;U--;){var ue=k.pop(),le=re[ue];p.DEBUG&&console.log(j.step,(1<j.loop?"loop "+(j.loop-U)+": ":"")+"ALIGNRP[]",ue),W.setRelative(le,A,0,Y),W.touch(le)}j.loop=1},function(j){p.DEBUG&&console.log(j.step,"RTDG[]"),j.round=xv},Xf.bind(void 0,0),Xf.bind(void 0,1),function(j){var k=j.prog,O=j.ip,A=j.stack,U=k[++O];p.DEBUG&&console.log(j.step,"NPUSHB[]",U);for(var W=0;W<U;W++)A.push(k[++O]);j.ip=O},function(j){var k=j.ip,O=j.prog,A=j.stack,U=O[++k];p.DEBUG&&console.log(j.step,"NPUSHW[]",U);for(var W=0;W<U;W++){var Y=O[++k]<<8|O[++k];32768&Y&&(Y=-(1+(65535^Y))),A.push(Y)}j.ip=k},function(j){var A=j.stack,k=(k=j.store)||(j.store=[]),O=A.pop(),A=A.pop();p.DEBUG&&console.log(j.step,"WS",O,A),k[A]=O},function(U){var k=U.stack,O=U.store,A=k.pop(),U=(p.DEBUG&&console.log(U.step,"RS",A),O&&O[A]||0);k.push(U)},function(j){var k=(O=j.stack).pop(),O=O.pop();p.DEBUG&&console.log(j.step,"WCVTP",k,O),j.cvt[O]=k/64},function(j){var k=j.stack,O=k.pop();p.DEBUG&&console.log(j.step,"RCVT",O),k.push(64*j.cvt[O])},Kf.bind(void 0,0),Kf.bind(void 0,1),void 0,Qf.bind(void 0,0),Qf.bind(void 0,1),function(j){p.DEBUG&&console.log(j.step,"MPPEM[]"),j.stack.push(j.ppem)},void 0,function(j){p.DEBUG&&console.log(j.step,"FLIPON[]"),j.autoFlip=!0},void 0,void 0,function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"LT[]",O,A),k.push(A<O?1:0)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"LTEQ[]",O,A),k.push(A<=O?1:0)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"GT[]",O,A),k.push(O<A?1:0)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"GTEQ[]",O,A),k.push(O<=A?1:0)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"EQ[]",O,A),k.push(O===A?1:0)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"NEQ[]",O,A),k.push(O!==A?1:0)},function(j){var k=j.stack,O=k.pop();p.DEBUG&&console.log(j.step,"ODD[]",O),k.push(Math.trunc(O)%2?1:0)},function(j){var k=j.stack,O=k.pop();p.DEBUG&&console.log(j.step,"EVEN[]",O),k.push(Math.trunc(O)%2?0:1)},function(j){var k=j.stack.pop();p.DEBUG&&console.log(j.step,"IF[]",k),k||(Df(j,!0),p.DEBUG&&console.log(j.step,"EIF[]"))},function(j){p.DEBUG&&console.log(j.step,"EIF[]")},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"AND[]",O,A),k.push(O&&A?1:0)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"OR[]",O,A),k.push(O||A?1:0)},function(j){var k=j.stack,O=k.pop();p.DEBUG&&console.log(j.step,"NOT[]",O),k.push(O?0:1)},au.bind(void 0,1),function(j){var k=j.stack.pop();p.DEBUG&&console.log(j.step,"SDB[]",k),j.deltaBase=k},function(j){var k=j.stack.pop();p.DEBUG&&console.log(j.step,"SDS[]",k),j.deltaShift=Math.pow(.5,k)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"ADD[]",O,A),k.push(A+O)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"SUB[]",O,A),k.push(A-O)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"DIV[]",O,A),k.push(64*A/O)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"MUL[]",O,A),k.push(A*O/64)},function(j){var k=j.stack,O=k.pop();p.DEBUG&&console.log(j.step,"ABS[]",O),k.push(Math.abs(O))},function(j){var k=j.stack,O=k.pop();p.DEBUG&&console.log(j.step,"NEG[]",O),k.push(-O)},function(j){var k=j.stack,O=k.pop();p.DEBUG&&console.log(j.step,"FLOOR[]",O),k.push(64*Math.floor(O/64))},function(j){var k=j.stack,O=k.pop();p.DEBUG&&console.log(j.step,"CEILING[]",O),k.push(64*Math.ceil(O/64))},ii.bind(void 0,0),ii.bind(void 0,1),ii.bind(void 0,2),ii.bind(void 0,3),void 0,void 0,void 0,void 0,function(j){var k=(O=j.stack).pop(),O=O.pop();p.DEBUG&&console.log(j.step,"WCVTF[]",k,O),j.cvt[O]=k*j.ppem/j.font.unitsPerEm},au.bind(void 0,2),au.bind(void 0,3),iu.bind(void 0,1),iu.bind(void 0,2),iu.bind(void 0,3),function(j){var k,O=j.stack.pop();switch(p.DEBUG&&console.log(j.step,"SROUND[]",O),j.round=If,192&O){case 0:k=.5;break;case 64:k=1;break;case 128:k=2;break;default:throw new Error("invalid SROUND value")}switch(j.srPeriod=k,48&O){case 0:j.srPhase=0;break;case 16:j.srPhase=.25*k;break;case 32:j.srPhase=.5*k;break;case 48:j.srPhase=.75*k;break;default:throw new Error("invalid SROUND value")}j.srThreshold=(O&=15)===0?0:(O/8-.5)*k},function(j){var k,O=j.stack.pop();switch(p.DEBUG&&console.log(j.step,"S45ROUND[]",O),j.round=If,192&O){case 0:k=Math.sqrt(2)/2;break;case 64:k=Math.sqrt(2);break;case 128:k=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(j.srPeriod=k,48&O){case 0:j.srPhase=0;break;case 16:j.srPhase=.25*k;break;case 32:j.srPhase=.5*k;break;case 48:j.srPhase=.75*k;break;default:throw new Error("invalid S45ROUND value")}j.srThreshold=(O&=15)===0?0:(O/8-.5)*k},void 0,void 0,function(j){p.DEBUG&&console.log(j.step,"ROFF[]"),j.round=bv},void 0,function(j){p.DEBUG&&console.log(j.step,"RUTG[]"),j.round=jv},function(j){p.DEBUG&&console.log(j.step,"RDTG[]"),j.round=_v},su,su,void 0,void 0,void 0,void 0,void 0,function(j){var k=j.stack.pop();p.DEBUG&&console.log(j.step,"SCANCTRL[]",k)},Zf.bind(void 0,0),Zf.bind(void 0,1),function(j){var k=j.stack,O=k.pop(),A=0;p.DEBUG&&console.log(j.step,"GETINFO[]",O),1&O&&(A=35),32&O&&(A|=4096),k.push(A)},void 0,function(j){var k=j.stack,O=k.pop(),A=k.pop(),U=k.pop();p.DEBUG&&console.log(j.step,"ROLL[]"),k.push(A),k.push(O),k.push(U)},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"MAX[]",O,A),k.push(Math.max(A,O))},function(j){var k=j.stack,O=k.pop(),A=k.pop();p.DEBUG&&console.log(j.step,"MIN[]",O,A),k.push(Math.min(A,O))},function(j){var k=j.stack.pop();p.DEBUG&&console.log(j.step,"SCANTYPE[]",k)},function(j){var k=j.stack.pop(),O=j.stack.pop();switch(p.DEBUG&&console.log(j.step,"INSTCTRL[]",k,O),k){case 1:return void(j.inhibitGridFit=!!O);case 2:return void(j.ignoreCvt=!!O);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Dn.bind(void 0,1),Dn.bind(void 0,2),Dn.bind(void 0,3),Dn.bind(void 0,4),Dn.bind(void 0,5),Dn.bind(void 0,6),Dn.bind(void 0,7),Dn.bind(void 0,8),Fn.bind(void 0,1),Fn.bind(void 0,2),Fn.bind(void 0,3),Fn.bind(void 0,4),Fn.bind(void 0,5),Fn.bind(void 0,6),Fn.bind(void 0,7),Fn.bind(void 0,8),ot.bind(void 0,0,0,0,0,0),ot.bind(void 0,0,0,0,0,1),ot.bind(void 0,0,0,0,0,2),ot.bind(void 0,0,0,0,0,3),ot.bind(void 0,0,0,0,1,0),ot.bind(void 0,0,0,0,1,1),ot.bind(void 0,0,0,0,1,2),ot.bind(void 0,0,0,0,1,3),ot.bind(void 0,0,0,1,0,0),ot.bind(void 0,0,0,1,0,1),ot.bind(void 0,0,0,1,0,2),ot.bind(void 0,0,0,1,0,3),ot.bind(void 0,0,0,1,1,0),ot.bind(void 0,0,0,1,1,1),ot.bind(void 0,0,0,1,1,2),ot.bind(void 0,0,0,1,1,3),ot.bind(void 0,0,1,0,0,0),ot.bind(void 0,0,1,0,0,1),ot.bind(void 0,0,1,0,0,2),ot.bind(void 0,0,1,0,0,3),ot.bind(void 0,0,1,0,1,0),ot.bind(void 0,0,1,0,1,1),ot.bind(void 0,0,1,0,1,2),ot.bind(void 0,0,1,0,1,3),ot.bind(void 0,0,1,1,0,0),ot.bind(void 0,0,1,1,0,1),ot.bind(void 0,0,1,1,0,2),ot.bind(void 0,0,1,1,0,3),ot.bind(void 0,0,1,1,1,0),ot.bind(void 0,0,1,1,1,1),ot.bind(void 0,0,1,1,1,2),ot.bind(void 0,0,1,1,1,3),ot.bind(void 0,1,0,0,0,0),ot.bind(void 0,1,0,0,0,1),ot.bind(void 0,1,0,0,0,2),ot.bind(void 0,1,0,0,0,3),ot.bind(void 0,1,0,0,1,0),ot.bind(void 0,1,0,0,1,1),ot.bind(void 0,1,0,0,1,2),ot.bind(void 0,1,0,0,1,3),ot.bind(void 0,1,0,1,0,0),ot.bind(void 0,1,0,1,0,1),ot.bind(void 0,1,0,1,0,2),ot.bind(void 0,1,0,1,0,3),ot.bind(void 0,1,0,1,1,0),ot.bind(void 0,1,0,1,1,1),ot.bind(void 0,1,0,1,1,2),ot.bind(void 0,1,0,1,1,3),ot.bind(void 0,1,1,0,0,0),ot.bind(void 0,1,1,0,0,1),ot.bind(void 0,1,1,0,0,2),ot.bind(void 0,1,1,0,0,3),ot.bind(void 0,1,1,0,1,0),ot.bind(void 0,1,1,0,1,1),ot.bind(void 0,1,1,0,1,2),ot.bind(void 0,1,1,0,1,3),ot.bind(void 0,1,1,1,0,0),ot.bind(void 0,1,1,1,0,1),ot.bind(void 0,1,1,1,0,2),ot.bind(void 0,1,1,1,0,3),ot.bind(void 0,1,1,1,1,0),ot.bind(void 0,1,1,1,1,1),ot.bind(void 0,1,1,1,1,2),ot.bind(void 0,1,1,1,1,3)],Tv=Array.from||function(j){return j.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Mt(j){(j=j||{}).empty||(Wo(j.familyName,"When creating a new Font object, familyName is required."),Wo(j.styleName,"When creating a new Font object, styleName is required."),Wo(j.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Wo(j.ascender,"When creating a new Font object, ascender is required."),Wo(j.descender,"When creating a new Font object, descender is required."),Wo(j.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:j.familyName||" "},fontSubfamily:{en:j.styleName||" "},fullName:{en:j.fullName||j.familyName+" "+j.styleName},postScriptName:{en:j.postScriptName||(j.familyName+j.styleName).replace(/\s/g,"")},designer:{en:j.designer||" "},designerURL:{en:j.designerURL||" "},manufacturer:{en:j.manufacturer||" "},manufacturerURL:{en:j.manufacturerURL||" "},license:{en:j.license||" "},licenseURL:{en:j.licenseURL||" "},version:{en:j.version||"Version 0.1"},description:{en:j.description||" "},copyright:{en:j.copyright||" "},trademark:{en:j.trademark||" "}},this.unitsPerEm=j.unitsPerEm||1e3,this.ascender=j.ascender,this.descender=j.descender,this.createdTimestamp=j.createdTimestamp,this.tables={os2:{usWeightClass:j.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:j.widthClass||this.usWidthClasses.MEDIUM,fsSelection:j.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new rt.GlyphSet(this,j.glyphs||[]),this.encoding=new ke(this),this.position=new si(this),this.substitution=new dn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new Af(this):void 0)}})}function eh(j,k){var O,A=JSON.stringify(j),U=256;for(O in k){var W=parseInt(O);if(W&&!(W<256)){if(JSON.stringify(k[O])===A)return W;U<=W&&(U=W+1)}}return k[U]=j,U}Mt.prototype.hasChar=function(j){return this.encoding.charToGlyphIndex(j)!==null},Mt.prototype.charToGlyphIndex=function(j){return this.encoding.charToGlyphIndex(j)},Mt.prototype.charToGlyph=function(j){return j=this.charToGlyphIndex(j),this.glyphs.get(j)||this.glyphs.get(0)},Mt.prototype.stringToGlyphs=function(j,k){k=k||this.defaultRenderOptions;for(var O=Tv(j),A=[],U=0;U<O.length;U+=1){var W=O[U];A.push(this.charToGlyphIndex(W))}var Y=A.length;if(k.features){var j=k.script||this.substitution.getDefaultScriptName(),re=[];k.features.liga&&(re=re.concat(this.substitution.getFeature("liga",j,k.language))),k.features.rlig&&(re=re.concat(this.substitution.getFeature("rlig",j,k.language)));for(var ue=0;ue<Y;ue+=1)for(var le=0;le<re.length;le++){for(var xe=re[le],Me=xe.sub,Se=Me.length,pe=0;pe<Se&&Me[pe]===A[ue+pe];)pe++;pe===Se&&(A.splice(ue,Se,xe.by),Y=Y-Se+1)}}for(var Ie=new Array(Y),Pe=this.glyphs.get(0),Ae=0;Ae<Y;Ae+=1)Ie[Ae]=this.glyphs.get(A[Ae])||Pe;return Ie},Mt.prototype.nameToGlyphIndex=function(j){return this.glyphNames.nameToGlyphIndex(j)},Mt.prototype.nameToGlyph=function(j){return j=this.nameToGlyphIndex(j),this.glyphs.get(j)||this.glyphs.get(0)},Mt.prototype.glyphIndexToName=function(j){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(j):""},Mt.prototype.getKerningValue=function(j,k){j=j.index||j,k=k.index||k;var O=this.position.defaultKerningTables;return O?this.position.getKerningValue(O,j,k):this.kerningPairs[j+","+k]||0},Mt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Mt.prototype.forEachGlyph=function(j,k,O,A,U,W){k=k!==void 0?k:0,O=O!==void 0?O:0,U=U||this.defaultRenderOptions;var Y,re=1/this.unitsPerEm*(A=A!==void 0?A:72),ue=this.stringToGlyphs(j,U);U.kerning&&(j=U.script||this.position.getDefaultScriptName(),Y=this.position.getKerningTables(j,U.language));for(var le=0;le<ue.length;le+=1){var xe=ue[le];W.call(this,xe,k,O,A,U),xe.advanceWidth&&(k+=xe.advanceWidth*re),U.kerning&&le<ue.length-1&&(k+=(Y?this.position.getKerningValue(Y,xe.index,ue[le+1].index):this.getKerningValue(xe,ue[le+1]))*re),U.letterSpacing?k+=U.letterSpacing*A:U.tracking&&(k+=U.tracking/1e3*A)}return k},Mt.prototype.getPath=function(j,k,O,A,U){var W=new Q;return this.forEachGlyph(j,k,O,A,U,function(Y,re,ue,le){Y=Y.getPath(re,ue,le,U,this),W.extend(Y)}),W},Mt.prototype.getPaths=function(j,k,O,A,U){var W=[];return this.forEachGlyph(j,k,O,A,U,function(Y,re,ue,le){Y=Y.getPath(re,ue,le,U,this),W.push(Y)}),W},Mt.prototype.getAdvanceWidth=function(j,k,O){return this.forEachGlyph(j,0,0,k,O,function(){})},Mt.prototype.draw=function(j,k,O,A,U,W){this.getPath(k,O,A,U,W).draw(j)},Mt.prototype.drawPoints=function(j,k,O,A,U,W){this.forEachGlyph(k,O,A,U,W,function(Y,re,ue,le){Y.drawPoints(j,re,ue,le)})},Mt.prototype.drawMetrics=function(j,k,O,A,U,W){this.forEachGlyph(k,O,A,U,W,function(Y,re,ue,le){Y.drawMetrics(j,re,ue,le)})},Mt.prototype.getEnglishName=function(j){if(j=this.names[j],j)return j.en},Mt.prototype.validate=function(){var j=this;function k(O){O=j.getEnglishName(O),O&&O.trim().length}k("fontFamily"),k("weightName"),k("manufacturer"),k("copyright"),k("version"),this.unitsPerEm},Mt.prototype.toTables=function(){return gv.fontToTable(this)},Mt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Mt.prototype.toArrayBuffer=function(){for(var j=this.toTables().encode(),k=new ArrayBuffer(j.length),O=new Uint8Array(k),A=0;A<j.length;A++)O[A]=j[A];return k},Mt.prototype.download=function(j){var k=this.getEnglishName("fontFamily"),O=this.getEnglishName("fontSubfamily"),A=(j=j||k.replace(/\s/g,"")+"-"+O+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,A.byteLength,function(U){U.root.getFile(j,{create:!0},function(W){W.createWriter(function(Y){var re=new DataView(A),re=new Blob([re],{type:"font/opentype"});Y.write(re),Y.addEventListener("writeend",function(){location.href=W.toURL()},!1)})})},function(U){throw new Error(U.name+": "+U.message)})):(k=t("fs"),O=function(U){for(var W=new a(U.byteLength),Y=new Uint8Array(U),re=0;re<W.length;++re)W[re]=Y[re];return W}(A),k.writeFileSync(j,O))},Mt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Mt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Mt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Mv={make:function(j,k){var O=new Te.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:j.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:j.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*j.axes.length}]);O.offsetToData=O.sizeOf();for(var A,U,W,Y=0;Y<j.axes.length;Y++)O.fields=O.fields.concat((A=Y,U=j.axes[Y],W=k,W=eh(U.name,k),[{name:"tag_"+A,type:"TAG",value:U.tag},{name:"minValue_"+A,type:"FIXED",value:U.minValue<<16},{name:"defaultValue_"+A,type:"FIXED",value:U.defaultValue<<16},{name:"maxValue_"+A,type:"FIXED",value:U.maxValue<<16},{name:"flags_"+A,type:"USHORT",value:0},{name:"nameID_"+A,type:"USHORT",value:W}]));for(var re=0;re<j.instances.length;re++)O.fields=O.fields.concat(function(ue,le,xe,Me){for(var Se=[{name:"nameID_"+ue,type:"USHORT",value:eh(le.name,Me)},{name:"flags_"+ue,type:"USHORT",value:0}],pe=0;pe<xe.length;++pe){var Ie=xe[pe].tag;Se.push({name:"axis_"+ue+" "+Ie,type:"FIXED",value:le.coordinates[Ie]<<16})}return Se}(re,j.instances[re],j.axes,k));return O},parse:function(j,k,O){for(var A,U,W,Y,re=new Ee.Parser(j,k),ue=re.parseULong(),le=(R.argument(ue===65536,"Unsupported fvar table version."),re.parseOffset16()),xe=(re.skip("uShort",1),re.parseUShort()),Me=re.parseUShort(),Se=re.parseUShort(),pe=re.parseUShort(),Ie=[],Pe=0;Pe<xe;Pe++)Ie.push((A=j,U=k+le+Pe*Me,W=O,Y={},A=new Ee.Parser(A,U),Y.tag=A.parseTag(),Y.minValue=A.parseFixed(),Y.defaultValue=A.parseFixed(),Y.maxValue=A.parseFixed(),A.skip("uShort",1),Y.name=W[A.parseUShort()]||{},Y));for(var Ae=[],Ce=k+le+xe*Me,Oe=0;Oe<Se;Oe++)Ae.push(function(st,dt,at,it){var ht={},Ot=new Ee.Parser(st,dt);ht.name=it[Ot.parseUShort()]||{},Ot.skip("uShort",1),ht.coordinates={};for(var Gt=0;Gt<at.length;++Gt)ht.coordinates[at[Gt].tag]=Ot.parseFixed();return ht}(j,Ce+Oe*pe,Ie,O));return{axes:Ie,instances:Ae}}},Kr=new Array(10);Kr[1]=function(){var j=this.offset+this.relativeOffset,k=this.parseUShort();return k===1?{posFormat:1,coverage:this.parsePointer(_e.coverage),value:this.parseValueRecord()}:k===2?{posFormat:2,coverage:this.parsePointer(_e.coverage),values:this.parseValueRecordList()}:void R.assert(!1,"0x"+j.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Kr[2]=function(){var j,k,O,A,W=this.offset+this.relativeOffset,U=this.parseUShort(),W=(R.assert(U===1||U===2,"0x"+W.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(_e.coverage)),Y=this.parseUShort(),re=this.parseUShort();return U===1?{posFormat:U,coverage:W,valueFormat1:Y,valueFormat2:re,pairSets:this.parseList(_e.pointer(_e.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Y),value2:this.parseValueRecord(re)}})))}:U===2?(j=this.parsePointer(_e.classDef),k=this.parsePointer(_e.classDef),O=this.parseUShort(),A=this.parseUShort(),{posFormat:U,coverage:W,valueFormat1:Y,valueFormat2:re,classDef1:j,classDef2:k,class1Count:O,class2Count:A,classRecords:this.parseList(O,_e.list(A,function(){return{value1:this.parseValueRecord(Y),value2:this.parseValueRecord(re)}}))}):void 0},Kr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Kr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Kr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Kr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Kr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Kr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Kr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Cv=new Array(10),Ov={parse:function(j,k){return k=(j=new _e(j,k=k||0)).parseVersion(1),R.argument(k===1||k===1.1,"Unsupported GPOS table version "+k),k===1?{version:k,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(Kr)}:{version:k,scripts:j.parseScriptList(),features:j.parseFeatureList(),lookups:j.parseLookupList(Kr),variations:j.parseFeatureVariationsList()}},make:function(j){return new Te.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Te.ScriptList(j.scripts)},{name:"features",type:"TABLE",value:new Te.FeatureList(j.features)},{name:"lookups",type:"TABLE",value:new Te.LookupList(j.lookups,Cv)}])}},Pv={parse:function(j,k){if(j=new Ee.Parser(j,k),(k=j.parseUShort())===0){var O=j,A={},Me=(O.skip("uShort"),O.parseUShort()),U=(R.argument(Me===0,"Unsupported kern sub-table version."),O.skip("uShort",2),O.parseUShort());O.skip("uShort",3);for(var W=0;W<U;W+=1){var Y=O.parseUShort(),re=O.parseUShort(),ue=O.parseShort();A[Y+","+re]=ue}return A}if(k!==1)throw new Error("Unsupported kern table version ("+k+").");var le=j,xe={},Me=(le.skip("uShort"),1<le.parseULong()&&console.warn("Only the first kern subtable is supported."),le.skip("uLong"),255&le.parseUShort());if(le.skip("uShort"),Me==0){var Se=le.parseUShort();le.skip("uShort",3);for(var pe=0;pe<Se;pe+=1){var Ie=le.parseUShort(),Pe=le.parseUShort(),Ae=le.parseShort();xe[Ie+","+Pe]=Ae}}return xe}},Lv={parse:function(j,k,O,A){for(var U=new Ee.Parser(j,k),W=A?U.parseUShort:U.parseULong,Y=[],re=0;re<O+1;re+=1){var ue=W.call(U);A&&(ue*=2),Y.push(ue)}return Y}};function Nv(j,k){t("fs").readFile(j,function(O,A){if(O)return k(O.message);k(null,Of(A))})}function Av(j,k){var O=new XMLHttpRequest;O.open("get",j,!0),O.responseType="arraybuffer",O.onload=function(){return O.response?k(null,O.response):k("Font could not be loaded: "+O.statusText)},O.onerror=function(){k("Font could not be loaded")},O.send()}function th(j,k){for(var O=[],A=12,U=0;U<k;U+=1){var W=Ee.getTag(j,A),Y=Ee.getULong(j,A+4),re=Ee.getULong(j,A+8),ue=Ee.getULong(j,A+12);O.push({tag:W,checksum:Y,offset:re,length:ue,compression:!1}),A+=16}return O}function $t(O,k){if(k.compression!=="WOFF")return{data:O,offset:k.offset};var O=new Uint8Array(O.buffer,k.offset+2,k.compressedLength-2),A=new Uint8Array(k.length);if(V(O,A),A.byteLength!==k.length)throw new Error("Decompression error: "+k.tag+" decompressed length doesn't match recorded length");return{data:new DataView(A.buffer,0),offset:0}}function lu(Oe){var k,O,A,U,W,Y,re,ue,le,xe,Me,Se,pe,Ie,Pe=new Mt({empty:!0}),Ae=new DataView(Oe,0),Ce=[],Oe=Ee.getTag(Ae,0);if(Oe==="\0\0\0"||Oe==="true"||Oe==="typ1")Pe.outlinesFormat="truetype",Ce=th(Ae,A=Ee.getUShort(Ae,4));else if(Oe==="OTTO")Pe.outlinesFormat="cff",Ce=th(Ae,A=Ee.getUShort(Ae,4));else{if(Oe!=="wOFF")throw new Error("Unsupported OpenType signature "+Oe);var st=Ee.getTag(Ae,4);if(st==="\0\0\0")Pe.outlinesFormat="truetype";else{if(st!=="OTTO")throw new Error("Unsupported OpenType flavor "+Oe);Pe.outlinesFormat="cff"}Ce=function(Lt,_t){for(var hr=[],Dt=44,ir=0;ir<_t;ir+=1){var Nt=Ee.getTag(Lt,Dt),nr=Ee.getULong(Lt,Dt+4),$s=Ee.getULong(Lt,Dt+8),$o=Ee.getULong(Lt,Dt+12),rh=void 0,rh=$s<$o&&"WOFF";hr.push({tag:Nt,offset:nr,compression:rh,compressedLength:$s,length:$o}),Dt+=20}return hr}(Ae,A=Ee.getUShort(Ae,12))}for(var dt=0;dt<A;dt+=1){var at=Ce[dt],it=void 0;switch(at.tag){case"cmap":it=$t(Ae,at),Pe.tables.cmap=J.parse(it.data,it.offset),Pe.encoding=new Le(Pe.tables.cmap);break;case"cvt ":it=$t(Ae,at),Ie=new Ee.Parser(it.data,it.offset),Pe.tables.cvt=Ie.parseShortList(at.length/2);break;case"fvar":W=at;break;case"fpgm":it=$t(Ae,at),Ie=new Ee.Parser(it.data,it.offset),Pe.tables.fpgm=Ie.parseByteList(at.length);break;case"head":it=$t(Ae,at),Pe.tables.head=Vs.parse(it.data,it.offset),Pe.unitsPerEm=Pe.tables.head.unitsPerEm,k=Pe.tables.head.indexToLocFormat;break;case"hhea":it=$t(Ae,at),Pe.tables.hhea=me.parse(it.data,it.offset),Pe.ascender=Pe.tables.hhea.ascender,Pe.descender=Pe.tables.hhea.descender,Pe.numberOfHMetrics=Pe.tables.hhea.numberOfHMetrics;break;case"hmtx":le=at;break;case"ltag":it=$t(Ae,at),O=et.parse(it.data,it.offset);break;case"maxp":it=$t(Ae,at),Pe.tables.maxp=Be.parse(it.data,it.offset),Pe.numGlyphs=Pe.tables.maxp.numGlyphs;break;case"name":Se=at;break;case"OS/2":it=$t(Ae,at),Pe.tables.os2=rr.parse(it.data,it.offset);break;case"post":it=$t(Ae,at),Pe.tables.post=xf.parse(it.data,it.offset),Pe.glyphNames=new Ve(Pe.tables.post);break;case"prep":it=$t(Ae,at),Ie=new Ee.Parser(it.data,it.offset),Pe.tables.prep=Ie.parseByteList(at.length);break;case"glyf":Y=at;break;case"loca":Me=at;break;case"CFF ":U=at;break;case"kern":xe=at;break;case"GPOS":re=at;break;case"GSUB":ue=at;break;case"meta":pe=at}}if(st=$t(Ae,Se),Pe.tables.name=Cr.parse(st.data,st.offset,O),Pe.names=Pe.tables.name,Y&&Me)Oe=k===0,st=$t(Ae,Me),st=Lv.parse(st.data,st.offset,Pe.numGlyphs,Oe),Oe=$t(Ae,Y),Pe.glyphs=Nf.parse(Oe.data,Oe.offset,st,Pe);else{if(!U)throw new Error("Font doesn't contain TrueType or CFF outlines.");Oe=$t(Ae,U),Gs.parse(Oe.data,Oe.offset,Pe)}for(var st=$t(Ae,le),ht=(Ge.parse(st.data,st.offset,Pe.numberOfHMetrics,Pe.numGlyphs,Pe.glyphs),Pe),Ot=ht.tables.cmap.glyphIndexMap,Gt=Object.keys(Ot),Yt=0;Yt<Gt.length;Yt+=1){var dr,fr=Gt[Yt],Qr=Ot[fr];(dr=ht.glyphs.get(Qr)).addUnicode(parseInt(fr))}for(var Ct=0;Ct<ht.glyphs.length;Ct+=1)dr=ht.glyphs.get(Ct),ht.cffEncoding?ht.isCIDFont?dr.name="gid"+Ct:dr.name=ht.cffEncoding.charset[Ct]:ht.glyphNames.names&&(dr.name=ht.glyphNames.glyphIndexToName(Ct));return xe?(Oe=$t(Ae,xe),Pe.kerningPairs=Pv.parse(Oe.data,Oe.offset)):Pe.kerningPairs={},re&&(st=$t(Ae,re),Pe.tables.gpos=Ov.parse(st.data,st.offset),Pe.position.init()),ue&&(Oe=$t(Ae,ue),Pe.tables.gsub=wf.parse(Oe.data,Oe.offset)),W&&(st=$t(Ae,W),Pe.tables.fvar=Mv.parse(st.data,st.offset,Pe.names)),pe&&(Oe=$t(Ae,pe),Pe.tables.meta=jf.parse(Oe.data,Oe.offset),Pe.metas=Pe.tables.meta),Pe}p.Font=Mt,p.Glyph=Qe,p.Path=Q,p.BoundingBox=X,p._parse=Ee,p.parse=lu,p.load=function(j,k){(typeof window>"u"?Nv:Av)(j,function(O,A){if(O)return k(O);var U;try{U=lu(A)}catch(W){return k(W,null)}return k(null,U)})},p.loadSync=function(j){return lu(Of(t("fs").readFileSync(j)))},Object.defineProperty(p,"__esModule",{value:!0})},s(typeof c=="object"&&m!==void 0?c:h.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,m,c){(function(a){function h(b,v){for(var i=0,f=b.length-1;0<=f;f--){var u=b[f];u==="."?b.splice(f,1):u===".."?(b.splice(f,1),i++):i&&(b.splice(f,1),i--)}if(v)for(;i--;)b.unshift("..");return b}function s(b,v){if(b.filter)return b.filter(v);for(var i=[],f=0;f<b.length;f++)v(b[f],f,b)&&i.push(b[f]);return i}c.resolve=function(){for(var b="",v=!1,i=arguments.length-1;-1<=i&&!v;i--){var f=0<=i?arguments[i]:a.cwd();if(typeof f!="string")throw new TypeError("Arguments to path.resolve must be strings");f&&(b=f+"/"+b,v=f.charAt(0)==="/")}return(v?"/":"")+(b=h(s(b.split("/"),function(u){return!!u}),!v).join("/"))||"."},c.normalize=function(b){var v=c.isAbsolute(b),i=p(b,-1)==="/";return(b=(b=h(s(b.split("/"),function(f){return!!f}),!v).join("/"))||v?b:".")&&i&&(b+="/"),(v?"/":"")+b},c.isAbsolute=function(b){return b.charAt(0)==="/"},c.join=function(){var b=Array.prototype.slice.call(arguments,0);return c.normalize(s(b,function(v,i){if(typeof v!="string")throw new TypeError("Arguments to path.join must be strings");return v}).join("/"))},c.relative=function(b,v){function i(w){for(var x=0;x<w.length&&w[x]==="";x++);for(var _=w.length-1;0<=_&&w[_]==="";_--);return _<x?[]:w.slice(x,_-x+1)}b=c.resolve(b).substr(1),v=c.resolve(v).substr(1);for(var f=i(b.split("/")),u=i(v.split("/")),g=Math.min(f.length,u.length),y=g,d=0;d<g;d++)if(f[d]!==u[d]){y=d;break}for(var l=[],d=y;d<f.length;d++)l.push("..");return(l=l.concat(u.slice(y))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(b){if(typeof b!="string"&&(b+=""),b.length===0)return".";for(var v=b.charCodeAt(0)===47,i=-1,f=!0,u=b.length-1;1<=u;--u)if(b.charCodeAt(u)===47){if(!f){i=u;break}}else f=!1;return i===-1?v?"/":".":v&&i===1?"/":b.slice(0,i)},c.basename=function(b,v){return b=function(i){typeof i!="string"&&(i+="");for(var f=0,u=-1,g=!0,y=i.length-1;0<=y;--y)if(i.charCodeAt(y)===47){if(!g){f=y+1;break}}else u===-1&&(g=!1,u=y+1);return u===-1?"":i.slice(f,u)}(b),b=v&&b.substr(-1*v.length)===v?b.substr(0,b.length-v.length):b},c.extname=function(b){typeof b!="string"&&(b+="");for(var v=-1,i=0,f=-1,u=!0,g=0,y=b.length-1;0<=y;--y){var d=b.charCodeAt(y);if(d===47){if(u)continue;i=y+1;break}f===-1&&(u=!1,f=y+1),d===46?v===-1?v=y:g!==1&&(g=1):v!==-1&&(g=-1)}return v===-1||f===-1||g===0||g===1&&v===f-1&&v===i+1?"":b.slice(v,f)};var p="ab".substr(-1)==="b"?function(b,v,i){return b.substr(v,i)}:function(b,v,i){return v<0&&(v=b.length+v),b.substr(v,i)}}).call(this,t("_process"))},{_process:259}],259:[function(t,s,c){var a,h,s=s.exports={};function p(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}try{a=typeof setTimeout=="function"?setTimeout:p}catch{a=p}try{h=typeof clearTimeout=="function"?clearTimeout:b}catch{h=b}function v(x){if(a===setTimeout)return setTimeout(x,0);if((a===p||!a)&&setTimeout)return(a=setTimeout)(x,0);try{return a(x,0)}catch{try{return a.call(null,x,0)}catch{return a.call(this,x,0)}}}var i,f=[],u=!1,g=-1;function y(){u&&i&&(u=!1,i.length?f=i.concat(f):g=-1,f.length&&d())}function d(){if(!u){for(var x=v(y),_=(u=!0,f.length);_;){for(i=f,f=[];++g<_;)i&&i[g].run();g=-1,_=f.length}i=null,u=!1,function(T){if(h===clearTimeout)return clearTimeout(T);if((h===b||!h)&&clearTimeout)return(h=clearTimeout)(T);try{h(T)}catch{try{return h.call(null,T)}catch{return h.call(this,T)}}}(x)}}function l(x,_){this.fun=x,this.array=_}function w(){}s.nextTick=function(x){var _=new Array(arguments.length-1);if(1<arguments.length)for(var T=1;T<arguments.length;T++)_[T-1]=arguments[T];f.push(new l(x,_)),f.length!==1||u||v(d)},l.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=w,s.addListener=w,s.once=w,s.off=w,s.removeListener=w,s.removeAllListeners=w,s.emit=w,s.prependListener=w,s.prependOnceListener=w,s.listeners=function(x){return[]},s.binding=function(x){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(x){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],260:[function(t,m,c){m=function(a){var h,s=Object.prototype,p=s.hasOwnProperty,E=typeof Symbol=="function"?Symbol:{},b=E.iterator||"@@iterator",v=E.asyncIterator||"@@asyncIterator",i=E.toStringTag||"@@toStringTag";function f($,z,H,q){var Q,se,M,R,z=z&&z.prototype instanceof x?z:x,z=Object.create(z.prototype),q=new F(q||[]);return z._invoke=(Q=$,se=H,M=q,R=g,function(Z,te){if(R===d)throw new Error("Generator is already running");if(R===l){if(Z==="throw")throw te;return B()}for(M.method=Z,M.arg=te;;){var ie=M.delegate;if(ie&&(ie=function he(oe,fe){var ce=oe.iterator[fe.method];if(ce===h){if(fe.delegate=null,fe.method==="throw"){if(oe.iterator.return&&(fe.method="return",fe.arg=h,he(oe,fe),fe.method==="throw"))return w;fe.method="throw",fe.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}if(ce=u(ce,oe.iterator,fe.arg),ce.type==="throw")return fe.method="throw",fe.arg=ce.arg,fe.delegate=null,w;if(ce=ce.arg,!ce)return fe.method="throw",fe.arg=new TypeError("iterator result is not an object"),fe.delegate=null,w;{if(!ce.done)return ce;fe[oe.resultName]=ce.value,fe.next=oe.nextLoc,fe.method!=="return"&&(fe.method="next",fe.arg=h)}return fe.delegate=null,w}(ie,M),ie)){if(ie===w)continue;return ie}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(R===g)throw R=l,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);if(R=d,ie=u(Q,se,M),ie.type==="normal"){if(R=M.done?l:y,ie.arg!==w)return{value:ie.arg,done:M.done}}else ie.type==="throw"&&(R=l,M.method="throw",M.arg=ie.arg)}}),z}function u($,V,H){try{return{type:"normal",arg:$.call(V,H)}}catch(X){return{type:"throw",arg:X}}}a.wrap=f;var g="suspendedStart",y="suspendedYield",d="executing",l="completed",w={};function x(){}function _(){}function T(){}var E={},S=(E[b]=function(){return this},Object.getPrototypeOf),S=S&&S(S(D([]))),P=(S&&S!==s&&p.call(S,b)&&(E=S),T.prototype=x.prototype=Object.create(E));function N($){["next","throw","return"].forEach(function(V){$[V]=function(H){return this._invoke(V,H)}})}function C($){var V;this._invoke=function(H,X){function Q(){return new Promise(function(se,M){(function R(he,q,Z,te){var ie,he=u($[he],$,q);if(he.type!=="throw")return(q=(ie=he.arg).value)&&typeof q=="object"&&p.call(q,"__await")?Promise.resolve(q.__await).then(function(oe){R("next",oe,Z,te)},function(oe){R("throw",oe,Z,te)}):Promise.resolve(q).then(function(oe){ie.value=oe,Z(ie)},function(oe){return R("throw",oe,Z,te)});te(he.arg)})(H,X,se,M)})}return V=V?V.then(Q,Q):Q()}}function I($){var V={tryLoc:$[0]};1 in $&&(V.catchLoc=$[1]),2 in $&&(V.finallyLoc=$[2],V.afterLoc=$[3]),this.tryEntries.push(V)}function L($){var V=$.completion||{};V.type="normal",delete V.arg,$.completion=V}function F($){this.tryEntries=[{tryLoc:"root"}],$.forEach(I,this),this.reset(!0)}function D($){if($){var V,H=$[b];if(H)return H.call($);if(typeof $.next=="function")return $;if(!isNaN($.length))return V=-1,(H=function X(){for(;++V<$.length;)if(p.call($,V))return X.value=$[V],X.done=!1,X;return X.value=h,X.done=!0,X}).next=H}return{next:B}}function B(){return{value:h,done:!0}}return(_.prototype=P.constructor=T).constructor=_,T[i]=_.displayName="GeneratorFunction",a.isGeneratorFunction=function($){return $=typeof $=="function"&&$.constructor,!!$&&($===_||($.displayName||$.name)==="GeneratorFunction")},a.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,T):($.__proto__=T,i in $||($[i]="GeneratorFunction")),$.prototype=Object.create(P),$},a.awrap=function($){return{__await:$}},N(C.prototype),C.prototype[v]=function(){return this},a.AsyncIterator=C,a.async=function($,V,H,X){var Q=new C(f($,V,H,X));return a.isGeneratorFunction(V)?Q:Q.next().then(function(se){return se.done?se.value:Q.next()})},N(P),P[i]="Generator",P[b]=function(){return this},P.toString=function(){return"[object Generator]"},a.keys=function($){var V,H=[];for(V in $)H.push(V);return H.reverse(),function X(){for(;H.length;){var Q=H.pop();if(Q in $)return X.value=Q,X.done=!1,X}return X.done=!0,X}},a.values=D,F.prototype={constructor:F,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(L),!$)for(var V in this)V.charAt(0)==="t"&&p.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=h)},stop:function(){this.done=!0;var $=this.tryEntries[0].completion;if($.type==="throw")throw $.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var V=this;function H(z,q){return se.type="throw",se.arg=$,V.next=z,q&&(V.method="next",V.arg=h),!!q}for(var X=this.tryEntries.length-1;0<=X;--X){var Q=this.tryEntries[X],se=Q.completion;if(Q.tryLoc==="root")return H("end");if(Q.tryLoc<=this.prev){var M=p.call(Q,"catchLoc"),R=p.call(Q,"finallyLoc");if(M&&R){if(this.prev<Q.catchLoc)return H(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return H(Q.finallyLoc)}else if(M){if(this.prev<Q.catchLoc)return H(Q.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return H(Q.finallyLoc)}}}},abrupt:function($,V){for(var H=this.tryEntries.length-1;0<=H;--H){var X=this.tryEntries[H];if(X.tryLoc<=this.prev&&p.call(X,"finallyLoc")&&this.prev<X.finallyLoc){var Q=X;break}}var se=(Q=Q&&($==="break"||$==="continue")&&Q.tryLoc<=V&&V<=Q.finallyLoc?null:Q)?Q.completion:{};return se.type=$,se.arg=V,Q?(this.method="next",this.next=Q.finallyLoc,w):this.complete(se)},complete:function($,V){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&V&&(this.next=V),w},finish:function($){for(var V=this.tryEntries.length-1;0<=V;--V){var H=this.tryEntries[V];if(H.finallyLoc===$)return this.complete(H.completion,H.afterLoc),L(H),w}},catch:function($){for(var V=this.tryEntries.length-1;0<=V;--V){var H,X,Q=this.tryEntries[V];if(Q.tryLoc===$)return(H=Q.completion).type==="throw"&&(X=H.arg,L(Q)),X}throw new Error("illegal catch attempt")},delegateYield:function($,V,H){return this.delegate={iterator:D($),resultName:V,nextLoc:H},this.method==="next"&&(this.arg=h),w}},a}(typeof m=="object"?m.exports:{});try{regeneratorRuntime=m}catch{Function("r","regeneratorRuntime = r")(m)}},{}],261:[function(t,m,c){(function(a){var h,s,p,b,v,i,f,u,g,y;function d(L){if(typeof L!="string"&&(L=String(L)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(L))throw new TypeError("Invalid character in header field name");return L.toLowerCase()}function l(L){return L=typeof L!="string"?String(L):L}function w(L){var F={next:function(){var D=L.shift();return{done:D===void 0,value:D}}};return s&&(F[Symbol.iterator]=function(){return F}),F}function x(L){this.map={},L instanceof x?L.forEach(function(F,D){this.append(D,F)},this):Array.isArray(L)?L.forEach(function(F){this.append(F[0],F[1])},this):L&&Object.getOwnPropertyNames(L).forEach(function(F){this.append(F,L[F])},this)}function _(L){if(L.bodyUsed)return Promise.reject(new TypeError("Already read"));L.bodyUsed=!0}function T(L){return new Promise(function(F,D){L.onload=function(){F(L.result)},L.onerror=function(){D(L.error)}})}function E(L){var F=new FileReader,D=T(F);return F.readAsArrayBuffer(L),D}function S(L){var F;return L.slice?L.slice(0):((F=new Uint8Array(L.byteLength)).set(new Uint8Array(L)),F.buffer)}function P(){return this.bodyUsed=!1,this._initBody=function(L){if(this._bodyInit=L)if(typeof L=="string")this._bodyText=L;else if(p&&Blob.prototype.isPrototypeOf(L))this._bodyBlob=L;else if(b&&FormData.prototype.isPrototypeOf(L))this._bodyFormData=L;else if(h&&URLSearchParams.prototype.isPrototypeOf(L))this._bodyText=L.toString();else if(v&&p&&f(L))this._bodyArrayBuffer=S(L.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v||!ArrayBuffer.prototype.isPrototypeOf(L)&&!u(L))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=S(L)}else this._bodyText="";this.headers.get("content-type")||(typeof L=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h&&URLSearchParams.prototype.isPrototypeOf(L)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p&&(this.blob=function(){var L=_(this);if(L)return L;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var L,F,D=_(this);if(D)return D;if(this._bodyBlob)return D=this._bodyBlob,L=new FileReader,F=T(L),L.readAsText(D),F;if(this._bodyArrayBuffer)return Promise.resolve(function(B){for(var $=new Uint8Array(B),V=new Array($.length),H=0;H<$.length;H++)V[H]=String.fromCharCode($[H]);return V.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}function N(L,F){var D,B=(F=F||{}).body;if(L instanceof N){if(L.bodyUsed)throw new TypeError("Already read");this.url=L.url,this.credentials=L.credentials,F.headers||(this.headers=new x(L.headers)),this.method=L.method,this.mode=L.mode,B||L._bodyInit==null||(B=L._bodyInit,L.bodyUsed=!0)}else this.url=String(L);if(this.credentials=F.credentials||this.credentials||"omit",!F.headers&&this.headers||(this.headers=new x(F.headers)),this.method=(L=F.method||this.method||"GET",D=L.toUpperCase(),-1<g.indexOf(D)?D:L),this.mode=F.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}function C(L){var F=new FormData;return L.trim().split("&").forEach(function(D){var B;D&&(B=(D=D.split("=")).shift().replace(/\+/g," "),D=D.join("=").replace(/\+/g," "),F.append(decodeURIComponent(B),decodeURIComponent(D)))}),F}function I(L,F){F=F||{},this.type="default",this.status=F.status===void 0?200:F.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in F?F.statusText:"OK",this.headers=new x(F.headers),this.url=F.url||"",this._initBody(L)}a.fetch||(h="URLSearchParams"in a,s="Symbol"in a&&"iterator"in Symbol,p="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),b="FormData"in a,(v="ArrayBuffer"in a)&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=function(L){return L&&DataView.prototype.isPrototypeOf(L)},u=ArrayBuffer.isView||function(L){return L&&-1<i.indexOf(Object.prototype.toString.call(L))}),x.prototype.append=function(L,F){L=d(L),F=l(F);var D=this.map[L];this.map[L]=D?D+","+F:F},x.prototype.delete=function(L){delete this.map[d(L)]},x.prototype.get=function(L){return L=d(L),this.has(L)?this.map[L]:null},x.prototype.has=function(L){return this.map.hasOwnProperty(d(L))},x.prototype.set=function(L,F){this.map[d(L)]=l(F)},x.prototype.forEach=function(L,F){for(var D in this.map)this.map.hasOwnProperty(D)&&L.call(F,this.map[D],D,this)},x.prototype.keys=function(){var L=[];return this.forEach(function(F,D){L.push(D)}),w(L)},x.prototype.values=function(){var L=[];return this.forEach(function(F){L.push(F)}),w(L)},x.prototype.entries=function(){var L=[];return this.forEach(function(F,D){L.push([D,F])}),w(L)},s&&(x.prototype[Symbol.iterator]=x.prototype.entries),g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],N.prototype.clone=function(){return new N(this,{body:this._bodyInit})},P.call(N.prototype),P.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},I.error=function(){var L=new I(null,{status:0,statusText:""});return L.type="error",L},y=[301,302,303,307,308],I.redirect=function(L,F){if(y.indexOf(F)===-1)throw new RangeError("Invalid status code");return new I(null,{status:F,headers:{location:L}})},a.Headers=x,a.Request=N,a.Response=I,a.fetch=function(L,F){return new Promise(function(D,B){var $=new N(L,F),V=new XMLHttpRequest;V.onload=function(){var H,X={status:V.status,statusText:V.statusText,headers:(X=V.getAllResponseHeaders()||"",H=new x,X.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(M){var M=M.split(":"),R=M.shift().trim();R&&(M=M.join(":").trim(),H.append(R,M))}),H)},Q=(X.url="responseURL"in V?V.responseURL:X.headers.get("X-Request-URL"),"response"in V?V.response:V.responseText);D(new I(Q,X))},V.onerror=function(){B(new TypeError("Network request failed"))},V.ontimeout=function(){B(new TypeError("Network request failed"))},V.open($.method,$.url,!0),$.credentials==="include"?V.withCredentials=!0:$.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&p&&(V.responseType="blob"),$.headers.forEach(function(H,X){V.setRequestHeader(X,H)}),V.send($._bodyInit===void 0?null:$._bodyInit)})},a.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,m,c){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a,h=p(t("../core/main")),s=p(t("../color/color_conversion"));function p(i){return i&&i.__esModule?i:{default:i}}var b=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],v=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];h.default.prototype._rgbColorName=function(g){var f,u,g=s.default._rgbaToHSBA(g),y=[(a=g)[0],g[1],g[2]];y[0]!==0&&(y[0]=Math.round(100*y[0]),(g=y[0].toString().split(""))[u=g.length-1]=parseInt(g[u]),g[u]<2.5?g[u]=0:2.5<=g[u]&&g[u]<7.5&&(g[u]=5),g.length===2?(g[0]=parseInt(g[0]),7.5<=g[u]&&(g[u]=0,g[0]=g[0]+1),y[0]=10*g[0]+g[1]):7.5<=g[u]?y[0]=10:y[0]=g[u]),y[2]=y[2]/255;for(var d=y.length-1;1<=d;d--)y[d]<=.25?y[d]=0:.25<y[d]&&y[d]<.75?y[d]=.5:y[d]=1;if(y[0]===0&&y[1]===0&&y[2]===1){for(var l=2;0<=l;l--)a[l]=Math.round(1e4*a[l])/1e4;for(var w=0;w<b.length;w++){if(b[w].h===a[0]&&b[w].s===a[1]&&b[w].b===a[2]){f=b[w].name;break}f="white"}}else for(var x=0;x<v.length;x++)if(v[x].h===y[0]&&v[x].s===y[1]&&v[x].b===y[2]){f=v[x].name;break}return f},t=h.default,c.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,m,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t},h="_Description",s="_fallbackDesc",p="_fallbackTable",b="_Label",v="_labelDesc",i="_labelTable";function f(u){if(u==="label"||u==="fallback")throw new Error("description should not be LABEL or FALLBACK");return u.endsWith(".")||u.endsWith(";")||u.endsWith(",")||u.endsWith("?")||u.endsWith("!")||(u+="."),u}a.default.prototype.describe=function(u,g){var y;a.default._validateParameters("describe",arguments),typeof u=="string"&&(y=this.canvas.id,u=f(u),this.dummyDOM||(this.dummyDOM=document.getElementById(y).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==u&&(this.descriptions.fallback.innerHTML=u):this._describeHTML("fallback",u),g===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==u&&(this.descriptions.label.innerHTML=u):this._describeHTML("label",u)))},a.default.prototype.describeElement=function(u,g,y){var d,l;a.default._validateParameters("describeElement",arguments),typeof g=="string"&&typeof u=="string"&&(d=this.canvas.id,g=f(g),l=function(w){if(w==="label"||w==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return w.endsWith(".")||w.endsWith(";")||w.endsWith(",")?w=w.replace(/.$/,":"):w.endsWith(":")||(w+=":"),w}(u),u=u.replace(/[^a-zA-Z0-9]/g,""),l='<th scope="row">'.concat(l,"</th><td>").concat(g,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[u]?this.descriptions.fallbackElements[u].innerHTML!==l&&(this.descriptions.fallbackElements[u].innerHTML=l):this._describeElementHTML("fallback",u,l),y===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[u]?this.descriptions.labelElements[u].innerHTML!==l&&(this.descriptions.labelElements[u].innerHTML=l):this._describeElementHTML("label",u,l)))},a.default.prototype._describeHTML=function(u,g){var y,d=this.canvas.id;u==="fallback"?(this.dummyDOM.querySelector("#".concat(d+h))?this.dummyDOM.querySelector("#"+d+p).insertAdjacentHTML("beforebegin",'<p id="'.concat(d+s,'"></p>')):(y='<div id="'.concat(d).concat(h,'" role="region" aria-label="Canvas Description"><p id="').concat(d).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutput")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#".concat(d)).innerHTML=y),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(d).concat(s)),this.descriptions.fallback.innerHTML=g):u==="label"&&(this.dummyDOM.querySelector("#".concat(d+b))?this.dummyDOM.querySelector("#".concat(d+i))&&this.dummyDOM.querySelector("#".concat(d+i)).insertAdjacentHTML("beforebegin",'<p id="'.concat(d).concat(v,'"></p>')):(y='<div id="'.concat(d).concat(b,'" class="p5Label"><p id="').concat(d).concat(v,'"></p></div>'),this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(d,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+d).insertAdjacentHTML("afterend",y)),this.descriptions.label=this.dummyDOM.querySelector("#"+d+v),this.descriptions.label.innerHTML=g)},a.default.prototype._describeElementHTML=function(u,g,y){var d,l=this.canvas.id;u==="fallback"?(this.dummyDOM.querySelector("#".concat(l+h))?this.dummyDOM.querySelector("#"+l+p)||this.dummyDOM.querySelector("#"+l+s).insertAdjacentHTML("afterend",'<table id="'.concat(l).concat(p,'"><caption>Canvas elements and their descriptions</caption></table>')):(d='<div id="'.concat(l).concat(h,'" role="region" aria-label="Canvas Description"><table id="').concat(l).concat(p,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutput")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+l).innerHTML=d),(d=document.createElement("tr")).id=l+"_fte_"+g,this.dummyDOM.querySelector("#"+l+p).appendChild(d),this.descriptions.fallbackElements[g]=this.dummyDOM.querySelector("#".concat(l).concat("_fte_").concat(g)),this.descriptions.fallbackElements[g].innerHTML=y):u==="label"&&(this.dummyDOM.querySelector("#".concat(l+b))?this.dummyDOM.querySelector("#".concat(l+i))||this.dummyDOM.querySelector("#"+l+v).insertAdjacentHTML("afterend",'<table id="'.concat(l+i,'"></table>')):(d='<div id="'.concat(l).concat(b,'" class="p5Label"><table id="').concat(l).concat(i,'"></table></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",d):this.dummyDOM.querySelector("#"+l).insertAdjacentHTML("afterend",d)),(u=document.createElement("tr")).id=l+"_lte_"+g,this.dummyDOM.querySelector("#"+l+i).appendChild(u),this.descriptions.labelElements[g]=this.dummyDOM.querySelector("#".concat(l).concat("_lte_").concat(g)),this.descriptions.labelElements[g].innerHTML=y)},t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,m,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(a){var h,s,p,b;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(h=this._accessibleOutputs[a],p=function(v,i,f,u){return i="".concat(i," canvas, ").concat(f," by ").concat(u," pixels, contains ").concat(v[0]),i=(v[0]===1?"".concat(i," shape: "):"".concat(i," shapes: ")).concat(v[1]),i}((s=function(v,i){var f,u="",g="",y=0;for(f in i){var d,l=0;for(d in i[f]){var w='<li id="'.concat(v,"shape").concat(y,'">').concat(i[f][d].color," ").concat(f,",");f==="line"?w+=" location = ".concat(i[f][d].pos,", length = ").concat(i[f][d].length," pixels"):(w+=" location = ".concat(i[f][d].pos),f!=="point"&&(w+=", area = ".concat(i[f][d].area," %")),w+="</li>"),u+=w,l++,y++}g=1<l?"".concat(g," ").concat(l," ").concat(f,"s"):"".concat(g," ").concat(l," ").concat(f)}return{numShapes:[y,g],details:u}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),b=function(v,i){var f,u,g=0,y="",d=Array.from(Array(10),function(){return Array(10)});for(f in i)for(var l in i[f]){var w=void 0;w=f!=="line"?'<a href="#'.concat(v,"shape").concat(g,'">').concat(i[f][l].color," ").concat(f,"</a>"):'<a href="#'.concat(v,"shape").concat(g,'">').concat(i[f][l].color," ").concat(f," midpoint</a>"),i[f][l].loc.locY<d.length&&i[f][l].loc.locX<d[i[f][l].loc.locY].length&&(d[i[f][l].loc.locY][i[f][l].loc.locX]?d[i[f][l].loc.locY][i[f][l].loc.locX]=d[i[f][l].loc.locY][i[f][l].loc.locX]+"  "+w:d[i[f][l].loc.locY][i[f][l].loc.locX]=w,g++)}for(u in d){var x,_="<tr>";for(x in d[u])_+="<td>",d[u][x]!==void 0&&(_+=d[u][x]),_+="</td>";y=y+_+"</tr>"}return y}(a,this.ingredients.shapes),p!==h.summary.innerHTML&&(h.summary.innerHTML=p),b!==h.map.innerHTML&&(h.map.innerHTML=b),s.details!==h.shapeDetails.innerHTML&&(h.shapeDetails.innerHTML=s.details),this._accessibleOutputs[a]=h)},t=t.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,m,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(p){return function(b){if(Array.isArray(b)){for(var v=0,i=new Array(b.length);v<b.length;v++)i[v]=b[v];return i}}(p)||function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(i,u,v){var f=i[0],i=i[1],f=Math.floor(f/u*10),u=Math.floor(i/v*10);return{locX:Math.min(Math.max(f,0),9),locY:Math.min(Math.max(u,0),9)}}a.default.prototype.textOutput=function(p){a.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),p===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},a.default.prototype.gridOutput=function(p){a.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),p===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},a.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},a.default.prototype._createOutput=function(p,b){var v,i,f,u=this.canvas.id,g=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(u).parentNode),"");b==="Fallback"?(v=u+p,this.dummyDOM.querySelector("#".concat(i=u+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(u,"_Description"))?this.dummyDOM.querySelector("#".concat(u,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(u)).innerHTML='<div id="'.concat(i,'" role="region" aria-label="Canvas Outputs"></div>'))):b==="Label"&&(v=u+p+(g=b),this.dummyDOM.querySelector("#".concat(i=u+"accessibleOutput"+b))||(this.dummyDOM.querySelector("#".concat(u,"_Label"))?this.dummyDOM.querySelector("#".concat(u,"_Label")):this.dummyDOM.querySelector("#".concat(u))).insertAdjacentHTML("afterend",'<div id="'.concat(i,'"></div>'))),this._accessibleOutputs[v]={},p==="textOutput"?(g="#".concat(u,"gridOutput").concat(g),f='<div id="'.concat(v,'">Text Output<div id="').concat(v,'Summary" aria-label="text output summary"><p id="').concat(v,'_summary"></p><ul id="').concat(v,'_list"></ul></div><table id="').concat(v,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("beforebegin",f):this.dummyDOM.querySelector("#".concat(i)).innerHTML=f,this._accessibleOutputs[v].list=this.dummyDOM.querySelector("#".concat(v,"_list"))):p==="gridOutput"&&(g="#".concat(u,"textOutput").concat(g),f='<div id="'.concat(v,'">Grid Output<p id="').concat(v,'_summary" aria-label="grid output summary"><table id="').concat(v,'_map" summary="grid output content"></table><ul id="').concat(v,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("afterend",f):this.dummyDOM.querySelector("#".concat(i)).innerHTML=f,this._accessibleOutputs[v].map=this.dummyDOM.querySelector("#".concat(v,"_map"))),this._accessibleOutputs[v].shapeDetails=this.dummyDOM.querySelector("#".concat(v,"_shapeDetails")),this._accessibleOutputs[v].summary=this.dummyDOM.querySelector("#".concat(v,"_summary"))},a.default.prototype._updateAccsOutput=function(){var p=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(p+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(p+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(p+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(p+"gridOutputLabel"))},a.default.prototype._accsBackground=function(p){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==p&&(this.ingredients.colors.backgroundRGBA=p,this.ingredients.colors.background=this._rgbColorName(p))},a.default.prototype._accsCanvasColors=function(p,b){p==="fill"?this.ingredients.colors.fillRGBA!==b&&(this.ingredients.colors.fillRGBA=b,this.ingredients.colors.fill=this._rgbColorName(b)):p==="stroke"&&this.ingredients.colors.strokeRGBA!==b&&(this.ingredients.colors.strokeRGBA=b,this.ingredients.colors.stroke=this._rgbColorName(b))},a.default.prototype._accsOutput=function(p,b){p==="ellipse"&&b[2]===b[3]?p="circle":p==="rectangle"&&b[2]===b[3]&&(p="square");var v,i,f={},u=!0,g=function(d,l){var w;return d=d==="rectangle"||d==="ellipse"||d==="arc"||d==="circle"||d==="square"?(w=Math.round(l[0]+l[2]/2),Math.round(l[1]+l[3]/2)):d==="triangle"?(w=(l[0]+l[2]+l[4])/3,(l[1]+l[3]+l[5])/3):d==="quadrilateral"?(w=(l[0]+l[2]+l[4]+l[6])/4,(l[1]+l[3]+l[5]+l[7])/4):d==="line"?(w=(l[0]+l[2])/2,(l[1]+l[3])/2):(w=l[0],l[1]),[w,d]}(p,b);if(p==="line"?(f.color=this.ingredients.colors.stroke,f.length=Math.round(this.dist(b[0],b[1],b[2],b[3])),v=this._getPos(b[0],[1]),i=this._getPos(b[2],[3]),f.loc=s(g,this.width,this.height),f.pos=v===i?"at ".concat(v):"from ".concat(v," to ").concat(i)):(p==="point"?f.color=this.ingredients.colors.stroke:(f.color=this.ingredients.colors.fill,f.area=this._getArea(p,b)),f.pos=this._getPos.apply(this,h(g)),f.loc=s(g,this.width,this.height)),this.ingredients.shapes[p]){if(this.ingredients.shapes[p]!==[f]){for(var y in this.ingredients.shapes[p])JSON.stringify(this.ingredients.shapes[p][y])===JSON.stringify(f)&&(u=!1);u===!0&&this.ingredients.shapes[p].push(f)}}else this.ingredients.shapes[p]=[f]},a.default.prototype._getPos=function(i,v){var i=new DOMPointReadOnly(i,v),v=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),i=i.matrixTransform(v),v=i.x,i=i.y,f=this.width*this._pixelDensity,u=this.height*this._pixelDensity;return v<.4*f?i<.4*u?"top left":.6*u<i?"bottom left":"mid left":.6*f<v?i<.4*u?"top right":.6*u<i?"bottom right":"mid right":i<.4*u?"top middle":.6*u<i?"bottom middle":"middle"},a.default.prototype._getArea=function(p,b){var v,i,f=0,u=(p==="arc"?(f=(v=((b[5]-b[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*b[2]*b[3]/8,b[6]!=="open"&&b[6]!=="chord"||(i=b[0],l=b[1],u=b[0]+b[2]/2*Math.cos(b[4]).toFixed(2),w=b[1]+b[3]/2*Math.sin(b[4]).toFixed(2),y=b[0]+b[2]/2*Math.cos(b[5]).toFixed(2),g=b[1]+b[3]/2*Math.sin(b[5]).toFixed(2),i=Math.abs(i*(w-g)+u*(g-l)+y*(l-w))/2,v>Math.PI?f+=i:f-=i)):p==="ellipse"||p==="circle"?f=3.14*b[2]/2*b[3]/2:p==="line"||p==="point"?f=0:p==="quadrilateral"?f=Math.abs((b[6]+b[0])*(b[7]-b[1])+(b[0]+b[2])*(b[1]-b[3])+(b[2]+b[4])*(b[3]-b[5])+(b[4]+b[6])*(b[5]-b[7]))/2:p==="rectangle"||p==="square"?f=b[2]*b[3]:p==="triangle"&&(f=Math.abs(b[0]*(b[3]-b[5])+b[2]*(b[5]-b[1])+b[4]*(b[1]-b[3]))/2),this.width*this._pixelDensity),g=this.height*this._pixelDensity,y=[new DOMPoint(0,0),new DOMPoint(u,0),new DOMPoint(u,g),new DOMPoint(0,g)],d=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),l=y.map(function(x){return x.matrixTransform(d)}),w=Math.abs((l[3].x+l[0].x)*(l[3].y-l[0].y)+(l[0].x+l[1].x)*(l[0].y-l[1].y)+(l[1].x+l[2].x)*(l[1].y-l[2].y)+(l[2].x+l[3].x)*(l[2].y-l[3].y))/2;return Math.round(100*f/w)},t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,m,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(a){var h,s,p,b;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(h=this._accessibleOutputs[a],p=function(v,i,f,u){return f="Your output is a, ".concat(f," by ").concat(u," pixels, ").concat(i," canvas containing the following"),f=v===1?"".concat(f," shape:"):"".concat(f," ").concat(v," shapes:"),f}((s=function(v,i){var f,u="",g=0;for(f in i)for(var y in i[f]){var d='<li><a href="#'.concat(v,"shape").concat(g,'">').concat(i[f][y].color," ").concat(f,"</a>");f==="line"?d+=", ".concat(i[f][y].pos,", ").concat(i[f][y].length," pixels long.</li>"):(d+=", at ".concat(i[f][y].pos),f!=="point"&&(d+=", covering ".concat(i[f][y].area,"% of the canvas")),d+=".</li>"),u+=d,g++}return{numShapes:g,listShapes:u}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),b=function(v,i){var f,u="",g=0;for(f in i)for(var y in i[f]){var d='<tr id="'.concat(v,"shape").concat(g,'"><th>').concat(i[f][y].color," ").concat(f,"</th>");f==="line"?d+="<td>location = ".concat(i[f][y].pos,"</td><td>length = ").concat(i[f][y].length," pixels</td></tr>"):(d+="<td>location = ".concat(i[f][y].pos,"</td>"),f!=="point"&&(d+="<td> area = ".concat(i[f][y].area,"%</td>")),d+="</tr>"),u+=d,g++}return u}(a,this.ingredients.shapes),p!==h.summary.innerHTML&&(h.summary.innerHTML=p),s.listShapes!==h.list.innerHTML&&(h.list.innerHTML=s.listShapes),b!==h.shapeDetails.innerHTML&&(h.shapeDetails.innerHTML=b),this._accessibleOutputs[a]=h)},t=t.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,m,c){var a=(a=t("./core/main"))&&a.__esModule?a:{default:a};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),m.exports=a.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(a){var h=a[0],s=a[1],p=a[2],b=(2-s)*p/2;return b!=0&&(b==1?s=0:b<.5?s/=2-s:s=s*p/(2-2*b)),[h,s,b,a[3]]},_hsbaToRGBA:function(a){var h,s,p,b,v,i=6*a[0],f=a[1],u=a[2];return f===0?[u,u,u,a[3]]:(s=u*(1-f),p=u*(1-f*(i-(h=Math.floor(i)))),f=u*(1-f*(1+h-i)),i=h===1?(b=p,v=u,s):h===2?(b=s,v=u,f):h===3?(b=s,v=p,u):h===4?(b=f,v=s,u):h===5?(b=u,v=s,p):(b=u,v=f,s),[b,v,i,a[3]])},_hslaToHSBA:function(a){var h=a[0],s=a[1],p=a[2],b=p<.5?(1+s)*p:p+s-p*s;return[h,s=2*(b-p)/b,b,a[3]]},_hslaToRGBA:function(a){var h,s=6*a[0],p=a[1],b=a[2];return p===0?[b,b,b,a[3]]:[(h=function(v,i,f){return v<0?v+=6:6<=v&&(v-=6),v<1?i+(f-i)*v:v<3?f:v<4?i+(f-i)*(4-v):i})(2+s,p=2*b-(b=b<.5?(1+p)*b:b+p-b*p),b),h(s,p,b),h(s-2,p,b),a[3]]},_rgbaToHSBA:function(a){var h,s,p=a[0],b=a[1],v=a[2],i=Math.max(p,b,v),f=i-Math.min(p,b,v);return f==0?s=h=0:(s=f/i,p===i?h=(b-v)/f:b===i?h=2+(v-p)/f:v===i&&(h=4+(p-b)/f),h<0?h+=6:6<=h&&(h-=6)),[h/6,s,i,a[3]]},_rgbaToHSLA:function(a){var h,s,p=a[0],b=a[1],v=a[2],i=Math.max(p,b,v),u=Math.min(p,b,v),f=i+u,u=i-u;return u==0?s=h=0:(s=f<1?u/f:u/(2-f),p===i?h=(b-v)/u:b===i?h=2+(v-p)/u:v===i&&(h=4+(p-b)/u),h<0?h+=6:6<=h&&(h-=6)),[h/6,s,f/2,a[3]]}},t=t.default.ColorConversion,c.default=t},{"../core/main":283}],269:[function(t,m,c){function a(i){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}function h(i){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(v=t("../core/main"))&&v.__esModule?v:{default:v},p=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var f=b();if(f&&f.has(i))return f.get(i);var u,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var d;Object.prototype.hasOwnProperty.call(i,u)&&((d=y?Object.getOwnPropertyDescriptor(i,u):null)&&(d.get||d.set)?Object.defineProperty(g,u,d):g[u]=i[u])}return g.default=i,f&&f.set(i,g),g}(t("../core/constants"));function b(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,b=function(){return i},i)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(i){return s.default._validateParameters("alpha",arguments),this.color(i)._getAlpha()},s.default.prototype.blue=function(i){return s.default._validateParameters("blue",arguments),this.color(i)._getBlue()},s.default.prototype.brightness=function(i){return s.default._validateParameters("brightness",arguments),this.color(i)._getBrightness()},s.default.prototype.color=function(){for(var i,f=arguments.length,u=new Array(f),g=0;g<f;g++)u[g]=arguments[g];return s.default._validateParameters("color",u),u[0]instanceof s.default.Color?u[0]:(i=Array.isArray(u[0])?u[0]:u,new s.default.Color(this,i))},s.default.prototype.green=function(i){return s.default._validateParameters("green",arguments),this.color(i)._getGreen()},s.default.prototype.hue=function(i){return s.default._validateParameters("hue",arguments),this.color(i)._getHue()},s.default.prototype.lerpColor=function(i,f,u){s.default._validateParameters("lerpColor",arguments),i instanceof s.default.Color||(i=color(i)),f instanceof s.default.Color||(f=color(f));var g,y,d,l=this._colorMode,w=this._colorMaxes;if(l===p.RGB)y=i.levels.map(function(x){return x/255}),d=f.levels.map(function(x){return x/255});else if(l===p.HSB)i._getBrightness(),f._getBrightness(),y=i.hsba,d=f.hsba;else{if(l!==p.HSL)throw new Error("".concat(l," cannot be used for interpolation."));i._getLightness(),f._getLightness(),y=i.hsla,d=f.hsla}return u=Math.max(Math.min(u,1),0),this.lerp===void 0&&(this.lerp=function(x,_,T){return T*(_-x)+x}),l===p.RGB?g=this.lerp(y[0],d[0],u):(.5<Math.abs(y[0]-d[0])&&(y[0]>d[0]?d[0]+=1:y[0]+=1),1<=(g=this.lerp(y[0],d[0],u))&&--g),i=this.lerp(y[1],d[1],u),f=this.lerp(y[2],d[2],u),y=this.lerp(y[3],d[3],u),g*=w[l][0],i*=w[l][1],f*=w[l][2],y*=w[l][3],this.color(g,i,f,y)},s.default.prototype.paletteLerp=function(i,f){var u=i[0];if(f<u[1])return this.color(u[0]);for(var g=1;g<i.length;g++){var y,d=i[g];if(f<d[1])return y=i[g-1],this.lerpColor(this.color(y[0]),this.color(d[0]),(f-y[1])/(d[1]-y[1]))}return this.color(i[i.length-1][0])},s.default.prototype.lightness=function(i){return s.default._validateParameters("lightness",arguments),this.color(i)._getLightness()},s.default.prototype.red=function(i){return s.default._validateParameters("red",arguments),this.color(i)._getRed()},s.default.prototype.saturation=function(i){return s.default._validateParameters("saturation",arguments),this.color(i)._getSaturation()};var v=s.default;c.default=v},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(g,m,c){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}function h(x){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(x)}g("core-js/modules/es.symbol"),g("core-js/modules/es.symbol.description"),g("core-js/modules/es.symbol.iterator"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.map"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.get-own-property-descriptor"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.constructor"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.iterator"),g("core-js/modules/es.string.trim"),g("core-js/modules/es.weak-map"),g("core-js/modules/web.dom-collections.iterator"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.map"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.constructor"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.trim"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=i(g("../core/main")),p=function(x){if(x&&x.__esModule)return x;if(x===null||h(x)!=="object"&&typeof x!="function")return{default:x};var _=v();if(_&&_.has(x))return _.get(x);var T,E={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in x){var P;Object.prototype.hasOwnProperty.call(x,T)&&((P=S?Object.getOwnPropertyDescriptor(x,T):null)&&(P.get||P.set)?Object.defineProperty(E,T,P):E[T]=x[T])}return E.default=x,_&&_.set(x,E),E}(g("../core/constants")),b=i(g("./color_conversion"));function v(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,v=function(){return x},x)}function i(x){return x&&x.__esModule?x:{default:x}}function f(x,_){for(var T=0;T<_.length;T++){var E=_[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}var u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},g=/\s*/,w=/(\d{1,3})/,y=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,d=new RegExp("".concat(y.source,"%")),l={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",w.source,",",w.source,",",w.source,"\\)$"].join(g.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(g.source),"i"),RGBA:new RegExp(["^rgba\\(",w.source,",",w.source,",",w.source,",",y.source,"\\)$"].join(g.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",y.source,"\\)$"].join(g.source),"i"),HSL:new RegExp(["^hsl\\(",w.source,",",d.source,",",d.source,"\\)$"].join(g.source),"i"),HSLA:new RegExp(["^hsla\\(",w.source,",",d.source,",",d.source,",",y.source,"\\)$"].join(g.source),"i"),HSB:new RegExp(["^hsb\\(",w.source,",",d.source,",",d.source,"\\)$"].join(g.source),"i"),HSBA:new RegExp(["^hsba\\(",w.source,",",d.source,",",d.source,",",y.source,"\\)$"].join(g.source),"i")},w=(s.default.Color=function(){function x(S,P){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(S._colorMode,S._colorMaxes),![p.RGB,p.HSL,p.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=x._parseInputs.apply(this,P),this._calculateLevels()}var _,T,E;return _=x,E=[{key:"_parseInputs",value:function(S,P,N,C){var I,L=arguments.length,F=this.mode,D=this.maxes[F],B=[];if(3<=L){for(B[0]=S/D[0],B[1]=P/D[1],B[2]=N/D[2],B[3]=typeof C=="number"?C/D[3]:1,I=B.length-1;0<=I;--I){var $=B[I];$<0?B[I]=0:1<$&&(B[I]=1)}return F===p.HSL?b.default._hslaToRGBA(B):F===p.HSB?b.default._hsbaToRGBA(B):B}if(L===1&&typeof S=="string"){if(N=S.trim().toLowerCase(),u[N])return x._parseInputs.call(this,u[N]);if(l.HEX3.test(N))return(B=l.HEX3.exec(N).slice(1).map(function(V){return parseInt(V+V,16)/255}))[3]=1,B;if(l.HEX6.test(N))return(B=l.HEX6.exec(N).slice(1).map(function(V){return parseInt(V,16)/255}))[3]=1,B;if(l.HEX4.test(N))return B=l.HEX4.exec(N).slice(1).map(function(V){return parseInt(V+V,16)/255});if(l.HEX8.test(N))return B=l.HEX8.exec(N).slice(1).map(function(V){return parseInt(V,16)/255});if(l.RGB.test(N))return(B=l.RGB.exec(N).slice(1).map(function(V){return V/255}))[3]=1,B;if(l.RGB_PERCENT.test(N))return(B=l.RGB_PERCENT.exec(N).slice(1).map(function(V){return parseFloat(V)/100}))[3]=1,B;if(l.RGBA.test(N))return B=l.RGBA.exec(N).slice(1).map(function(V,H){return H===3?parseFloat(V):V/255});if(l.RGBA_PERCENT.test(N))return B=l.RGBA_PERCENT.exec(N).slice(1).map(function(V,H){return H===3?parseFloat(V):parseFloat(V)/100});if(l.HSL.test(N)?(B=l.HSL.exec(N).slice(1).map(function(V,H){return H===0?parseInt(V,10)/360:parseInt(V,10)/100}))[3]=1:l.HSLA.test(N)&&(B=l.HSLA.exec(N).slice(1).map(function(V,H){return H===0?parseInt(V,10)/360:H===3?parseFloat(V):parseInt(V,10)/100})),(B=B.map(function(V){return Math.max(Math.min(V,1),0)})).length)return b.default._hslaToRGBA(B);if(l.HSB.test(N)?(B=l.HSB.exec(N).slice(1).map(function(V,H){return H===0?parseInt(V,10)/360:parseInt(V,10)/100}))[3]=1:l.HSBA.test(N)&&(B=l.HSBA.exec(N).slice(1).map(function(V,H){return H===0?parseInt(V,10)/360:H===3?parseFloat(V):parseInt(V,10)/100})),B.length){for(I=B.length-1;0<=I;--I)B[I]=Math.max(Math.min(B[I],1),0);return b.default._hsbaToRGBA(B)}B=[1,1,1,1]}else{if(L!==1&&L!==2||typeof S!="number")throw new Error("".concat(arguments,"is not a valid color representation."));B[0]=S/D[2],B[1]=S/D[2],B[2]=S/D[2],B[3]=typeof P=="number"?P/D[3]:1,B=B.map(function(V){return Math.max(Math.min(V,1),0)})}return B}}],(T=[{key:"toString",value:function(S){var P=this.levels,N=this._array,C=N[3];switch(S){case"#rrggbb":return"#".concat(P[0]<16?"0".concat(P[0].toString(16)):P[0].toString(16),P[1]<16?"0".concat(P[1].toString(16)):P[1].toString(16),P[2]<16?"0".concat(P[2].toString(16)):P[2].toString(16));case"#rrggbbaa":return"#".concat(P[0]<16?"0".concat(P[0].toString(16)):P[0].toString(16),P[1]<16?"0".concat(P[1].toString(16)):P[1].toString(16),P[2]<16?"0".concat(P[2].toString(16)):P[2].toString(16),P[3]<16?"0".concat(P[3].toString(16)):P[3].toString(16));case"#rgb":return"#".concat(Math.round(15*N[0]).toString(16),Math.round(15*N[1]).toString(16),Math.round(15*N[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*N[0]).toString(16),Math.round(15*N[1]).toString(16),Math.round(15*N[2]).toString(16),Math.round(15*N[3]).toString(16));case"rgb":return"rgb(".concat(P[0],", ",P[1],", ",P[2],")");case"rgb%":return"rgb(".concat((100*N[0]).toPrecision(3),"%, ",(100*N[1]).toPrecision(3),"%, ",(100*N[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*N[0]).toPrecision(3),"%, ",(100*N[1]).toPrecision(3),"%, ",(100*N[2]).toPrecision(3),"%, ",(100*N[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[p.HSB][0],", ",this.hsba[1]*this.maxes[p.HSB][1],", ",this.hsba[2]*this.maxes[p.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[p.HSB][0],", ",this.hsba[1]*this.maxes[p.HSB][1],", ",this.hsba[2]*this.maxes[p.HSB][2],", ",C,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*C).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[p.HSL][0],", ",this.hsla[1]*this.maxes[p.HSL][1],", ",this.hsla[2]*this.maxes[p.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[p.HSL][0],", ",this.hsla[1]*this.maxes[p.HSL][1],", ",this.hsla[2]*this.maxes[p.HSL][2],", ",C,")");case"hsla%":return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*C).toPrecision(3),"%)");default:return"rgba(".concat(P[0],",",P[1],",",P[2],",",C,")")}}},{key:"setRed",value:function(S){this._array[0]=S/this.maxes[p.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(S){this._array[1]=S/this.maxes[p.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(S){this._array[2]=S/this.maxes[p.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(S){this._array[3]=S/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var S=this._array,P=this.levels=new Array(S.length),N=S.length-1;0<=N;--N)P[N]=Math.round(255*S[N]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(S,P){this.mode=S,this.maxes=P}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[p.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[p.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[p.RGB][1]}},{key:"_getHue",value:function(){return this.mode===p.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[p.HSB][0]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[p.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[p.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[p.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===p.HSB?(this.hsba||(this.hsba=b.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[p.HSB][1]):(this.hsla||(this.hsla=b.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[p.HSL][1])}}])&&f(_.prototype,T),E&&f(_,E),x}(),s.default.Color);c.default=w},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,m,c){function a(i){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}function h(i){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(v=t("../core/main"))&&v.__esModule?v:{default:v},p=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var f=b();if(f&&f.has(i))return f.get(i);var u,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var d;Object.prototype.hasOwnProperty.call(i,u)&&((d=y?Object.getOwnPropertyDescriptor(i,u):null)&&(d.get||d.set)?Object.defineProperty(g,u,d):g[u]=i[u])}return g.default=i,f&&f.set(i,g),g}(t("../core/constants"));function b(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,b=function(){return i},i)}t("./p5.Color"),s.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},s.default.prototype.endClip=function(){this._renderer.endClip()},s.default.prototype.clip=function(i,f){this._renderer.beginClip(f),i(),this._renderer.endClip(f)},s.default.prototype.background=function(){var i;return(i=this._renderer).background.apply(i,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(i,f,u,g,y){return s.default._validateParameters("colorMode",arguments),i!==p.RGB&&i!==p.HSB&&i!==p.HSL||(this._colorMode=i,i=this._colorMaxes[i],arguments.length===2?(i[0]=f,i[1]=f,i[2]=f,i[3]=f):arguments.length===4?(i[0]=f,i[1]=u,i[2]=g):arguments.length===5&&(i[0]=f,i[1]=u,i[2]=g,i[3]=y)),this},s.default.prototype.fill=function(){var i;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(i=this._renderer).fill.apply(i,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var i;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(i=this._renderer).stroke.apply(i,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var v=s.default;c.default=v},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.QUADRATIC=c.LINEAR=c._CTX_MIDDLE=c._DEFAULT_LEADMULT=c._DEFAULT_TEXT_FILL=c.WORD=c.CHAR=c.BOLDITALIC=c.BOLD=c.ITALIC=c.NORMAL=c.BLUR=c.ERODE=c.DILATE=c.POSTERIZE=c.INVERT=c.OPAQUE=c.GRAY=c.THRESHOLD=c.BURN=c.DODGE=c.SOFT_LIGHT=c.HARD_LIGHT=c.OVERLAY=c.REPLACE=c.SCREEN=c.MULTIPLY=c.EXCLUSION=c.SUBTRACT=c.DIFFERENCE=c.LIGHTEST=c.DARKEST=c.ADD=c.REMOVE=c.BLEND=c.UP_ARROW=c.TAB=c.SHIFT=c.RIGHT_ARROW=c.RETURN=c.OPTION=c.LEFT_ARROW=c.ESCAPE=c.ENTER=c.DOWN_ARROW=c.DELETE=c.CONTROL=c.BACKSPACE=c.ALT=c.AUTO=c.HSL=c.HSB=c.RGB=c.MITER=c.BEVEL=c.ROUND=c.SQUARE=c.PROJECT=c.PIE=c.CHORD=c.OPEN=c.CLOSE=c.TESS=c.QUAD_STRIP=c.QUADS=c.TRIANGLE_STRIP=c.TRIANGLE_FAN=c.TRIANGLES=c.LINE_LOOP=c.LINE_STRIP=c.LINES=c.POINTS=c.BASELINE=c.BOTTOM=c.TOP=c.CENTER=c.LEFT=c.RIGHT=c.RADIUS=c.CORNERS=c.CORNER=c.RAD_TO_DEG=c.DEG_TO_RAD=c.RADIANS=c.DEGREES=c.TWO_PI=c.TAU=c.QUARTER_PI=c.PI=c.HALF_PI=c.WAIT=c.TEXT=c.MOVE=c.HAND=c.CROSS=c.ARROW=c.WEBGL2=c.WEBGL=c.P2D=c.VERSION=void 0,c.RGBA=c.HALF_FLOAT=c.FLOAT=c.UNSIGNED_INT=c.UNSIGNED_BYTE=c.COVER=c.CONTAIN=c.FALLBACK=c.LABEL=c.AXES=c.GRID=c._DEFAULT_FILL=c._DEFAULT_STROKE=c.PORTRAIT=c.LANDSCAPE=c.SMOOTH=c.FLAT=c.MIRROR=c.CLAMP=c.REPEAT=c.NEAREST=c.IMAGE=c.IMMEDIATE=c.TEXTURE=c.FILL=c.STROKE=c.CURVE=c.BEZIER=void 0;var a=Math.PI,h=(c.VERSION="1.11.10",c.P2D="p2d",c.WEBGL="webgl",c.WEBGL2="webgl2",c.ARROW="default",c.CROSS="crosshair",c.HAND="pointer",c.MOVE="move",c.TEXT="text",c.WAIT="wait",a/2),h=(c.HALF_PI=h,a),h=(c.PI=h,a/4),h=(c.QUARTER_PI=h,2*a),h=(c.TAU=h,2*a),h=(c.TWO_PI=h,c.DEGREES="degrees",c.RADIANS="radians",a/180),h=(c.DEG_TO_RAD=h,180/a);c.RAD_TO_DEG=h,c.CORNER="corner",c.CORNERS="corners",c.RADIUS="radius",c.RIGHT="right",c.LEFT="left",c.CENTER="center",c.TOP="top",c.BOTTOM="bottom",c.BASELINE="alphabetic",c.POINTS=0,c.LINES=1,c.LINE_STRIP=3,c.LINE_LOOP=2,c.TRIANGLES=4,c.TRIANGLE_FAN=6,c.TRIANGLE_STRIP=5,c.QUADS="quads",c.QUAD_STRIP="quad_strip",c.TESS="tess",c.CLOSE="close",c.OPEN="open",c.CHORD="chord",c.PIE="pie",c.PROJECT="square",c.SQUARE="butt",c.ROUND="round",c.BEVEL="bevel",c.MITER="miter",c.RGB="rgb",c.HSB="hsb",c.HSL="hsl",c.AUTO="auto",c.ALT=18,c.BACKSPACE=8,c.CONTROL=17,c.DELETE=46,c.DOWN_ARROW=40,c.ENTER=13,c.ESCAPE=27,c.LEFT_ARROW=37,c.OPTION=18,c.RETURN=13,c.RIGHT_ARROW=39,c.SHIFT=16,c.TAB=9,c.UP_ARROW=38,c.BLEND="source-over",c.REMOVE="destination-out",c.ADD="lighter",c.DARKEST="darken",c.LIGHTEST="lighten",c.DIFFERENCE="difference",c.SUBTRACT="subtract",c.EXCLUSION="exclusion",c.MULTIPLY="multiply",c.SCREEN="screen",c.REPLACE="copy",c.OVERLAY="overlay",c.HARD_LIGHT="hard-light",c.SOFT_LIGHT="soft-light",c.DODGE="color-dodge",c.BURN="color-burn",c.THRESHOLD="threshold",c.GRAY="gray",c.OPAQUE="opaque",c.INVERT="invert",c.POSTERIZE="posterize",c.DILATE="dilate",c.ERODE="erode",c.BLUR="blur",c.NORMAL="normal",c.ITALIC="italic",c.BOLD="bold",c.BOLDITALIC="bold italic",c.CHAR="CHAR",c.WORD="WORD",c._DEFAULT_TEXT_FILL="#000000",c._DEFAULT_LEADMULT=1.25,c._CTX_MIDDLE="middle",c.LINEAR="linear",c.QUADRATIC="quadratic",c.BEZIER="bezier",c.CURVE="curve",c.STROKE="stroke",c.FILL="fill",c.TEXTURE="texture",c.IMMEDIATE="immediate",c.IMAGE="image",c.NEAREST="nearest",c.REPEAT="repeat",c.CLAMP="clamp",c.MIRROR="mirror",c.FLAT="flat",c.SMOOTH="smooth",c.LANDSCAPE="landscape",c.PORTRAIT="portrait",c._DEFAULT_STROKE="#000000",c._DEFAULT_FILL="#FFFFFF",c.GRID="grid",c.AXES="axes",c.LABEL="label",c.FALLBACK="fallback",c.CONTAIN="contain",c.COVER="cover",c.UNSIGNED_BYTE="unsigned-byte",c.UNSIGNED_INT="unsigned-int",c.FLOAT="float",c.HALF_FLOAT="half-float",c.RGBA="rgba"},{}],273:[function(t,m,c){function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(y)}function h(y){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(d){return a(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":a(d)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(p=t("./main"))&&p.__esModule?p:{default:p},p=function(y){if(y&&y.__esModule)return y;if(y===null||h(y)!=="object"&&typeof y!="function")return{default:y};var d=b();if(d&&d.has(y))return d.get(y);var l,w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in y){var _;Object.prototype.hasOwnProperty.call(y,l)&&((_=x?Object.getOwnPropertyDescriptor(y,l):null)&&(_.get||_.set)?Object.defineProperty(w,l,_):w[l]=y[l])}return w.default=y,d&&d.set(y,w),w}(t("./constants"));function b(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,b=function(){return y},y)}var v=[p.ARROW,p.CROSS,p.HAND,p.MOVE,p.TEXT,p.WAIT],i=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print),f=!1;function u(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function g(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var y;arguments.length?(y=console).log.apply(y,arguments):f||(i(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(f=!0))},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(y,d,l){var w,x="auto",_=this._curElement.elt;v.includes(y)?x=y:typeof y=="string"&&(w="",d&&l&&typeof d=="number"&&typeof l=="number"&&(w="".concat(d," ").concat(l)),x=y.substring(0,7)==="http://"||y.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(y)?"url(".concat(y,") ").concat(w,", auto"):y),_.style.cursor=x},s.default.prototype.frameRate=function(y){return s.default._validateParameters("frameRate",arguments),typeof y!="number"||y<0?this._frameRate:(this._setProperty("_targetFrameRate",y),y===0&&this._setProperty("_frameRate",y),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(y){return this.frameRate(y)},s.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.webglVersion=p.P2D,s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=0,s.default.prototype.windowHeight=0,s.default.prototype._onresize=function(y){this._setProperty("windowWidth",u()),this._setProperty("windowHeight",g());var d=this._isGlobal?window:this;typeof d.windowResized!="function"||(d=d.windowResized(y))===void 0||d||y.preventDefault()},s.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",u()),this._setProperty("windowHeight",g())},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(y){if(s.default._validateParameters("fullscreen",arguments),y===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(y){if(y=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");y.requestFullscreen?y.requestFullscreen():y.mozRequestFullScreen?y.mozRequestFullScreen():y.webkitRequestFullscreen?y.webkitRequestFullscreen():y.msRequestFullscreen&&y.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(y){var d;return s.default._validateParameters("pixelDensity",arguments),typeof y=="number"?(y!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=y),(d=this).resizeCanvas(this.width,this.height,!0)):d=this._pixelDensity,d},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(y){return y!==""})},s.default.prototype.getURLParams=function(){for(var y,d=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,l={};(y=d.exec(location.search))!=null;)y.index===d.lastIndex&&d.lastIndex++,l[y[1]]=y[2];return l},t=s.default,c.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,m,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(v=t("../main"))&&v.__esModule?v:{default:v};t("../internationalization");function h(i,f){f=f||console.log.bind(console),s||b(),s.some(function(u){var g;if(i.message&&i.message.match("\\W?".concat(u.name,"\\W"))!==null)return g=u.type==="function"?"".concat(u.name,"()"):u.name,f("Did you just try to use p5.js's ".concat(g," ").concat(u.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(p)),!0})}var s=null,b=null,p=(a.default._friendlyError=a.default._checkForUserDefinedFunctions=a.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),b=function(){function i(u){return Object.getOwnPropertyNames(u).filter(function(g){return g[0]!=="_"&&!(g in f)&&(f[g]=!0)}).map(function(g){var y=typeof u[g]=="function"?"function":g===g.toUpperCase()?"constant":"variable";return{name:g,type:y}})}var f={};(s=[].concat(i(a.default.prototype),i(t("../constants")))).sort(function(u,g){return g.name.length-u.name.length})},v=(a.default.prototype._helpForMisusedAtTopLevelCode=h,document.readyState!=="complete"&&(window.addEventListener("error",h,!1),window.addEventListener("load",function(){window.removeEventListener("error",h,!1)})),a.default);c.default=v},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(a=t("../main"))&&a.__esModule?a:{default:a};t("../internationalization"),a.default._friendlyFileLoadError=function(){},t=a.default,c.default=t},{"../internationalization":281,"../main":283}],276:[function(t,m,c){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function h(f){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(u){return a(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":a(u)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=v(t("../main"));t("../internationalization"),b(t("../constants"));function p(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,p=function(){return f},f)}function b(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var u=p();if(u&&u.has(f))return u.get(f);var g,y,d={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&((y=l?Object.getOwnPropertyDescriptor(f,g):null)&&(y.get||y.set)?Object.defineProperty(d,g,y):d[g]=f[g]);return d.default=f,u&&u.set(f,d),d}function v(f){return f&&f.__esModule?f:{default:f}}s.default._fesCodeReader=function(){};var i=s.default;c.default=i},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,m,c){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function a(){var h=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,p=/^(eval@)?(\[native code])?$/;return{parse:function(b){return b.stacktrace!==void 0||b["opera#sourceloc"]!==void 0?this.parseOpera(b):b.stack&&b.stack.match(s)?this.parseV8OrIE(b):b.stack?this.parseFFOrSafari(b):void 0},extractLocation:function(b){return b.indexOf(":")===-1?[b]:[(b=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(b.replace(/[()]/g,"")))[1],b[2]||void 0,b[3]||void 0]},parseV8OrIE:function(b){return b.stack.split(`
`).filter(function(v){return!!v.match(s)},this).map(function(v){var i=(v=-1<v.indexOf("(eval ")?v.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):v).replace(/^\s+/,"").replace(/\(eval code/g,"("),f=i.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(i=f?i.replace(f[0],""):i).split(/\s+/).slice(1),f=this.extractLocation(f?f[1]:i.pop());return{functionName:i.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(f[0])?void 0:f[0],lineNumber:f[1],columnNumber:f[2],source:v}},this)},parseFFOrSafari:function(b){return b.stack.split(`
`).filter(function(v){return!v.match(p)},this).map(function(v){var i,f;return(v=-1<v.indexOf(" > eval")?v.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):v).indexOf("@")===-1&&v.indexOf(":")===-1?{functionName:v}:{functionName:(f=v.match(i=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&f[1]?f[1]:void 0,fileName:(f=this.extractLocation(v.replace(i,"")))[0],lineNumber:f[1],columnNumber:f[2],source:v}},this)},parseOpera:function(b){return!b.stacktrace||-1<b.message.indexOf(`
`)&&b.message.split(`
`).length>b.stacktrace.split(`
`).length?this.parseOpera9(b):b.stack?this.parseOpera11(b):this.parseOpera10(b)},parseOpera9:function(b){for(var v=/Line (\d+).*script (?:in )?(\S+)/i,i=b.message.split(`
`),f=[],u=2,g=i.length;u<g;u+=2){var y=v.exec(i[u]);y&&f.push({fileName:y[2],lineNumber:y[1],source:i[u]})}return f},parseOpera10:function(b){for(var v=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=b.stacktrace.split(`
`),f=[],u=0,g=i.length;u<g;u+=2){var y=v.exec(i[u]);y&&f.push({functionName:y[3]||void 0,fileName:y[2],lineNumber:y[1],source:i[u]})}return f},parseOpera11:function(b){return b.stack.split(`
`).filter(function(v){return!!v.match(h)&&!v.match(/^Error created at/)},this).map(function(v){var i,u=v.split("@"),f=this.extractLocation(u.pop()),u=u.shift()||"";return{functionName:u.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(i=u.match(/\(([^)]*)\)/)?u.replace(/^[^(]+\(([^)]*)\)$/,"$1"):i)===void 0||i==="[arguments not available]"?void 0:i.split(","),fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:v}},this)}}}t.default._getErrorStackParser=function(){return new a},t=t.default,c.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,m,c){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(h=t("../main"))&&h.__esModule?h:{default:h};(function(b){if(!(b&&b.__esModule)&&!(b===null||p(b)!=="object"&&typeof b!="function")){var v=s();if(v&&v.has(b))return v.get(b);var i,f={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in b){var g;Object.prototype.hasOwnProperty.call(b,i)&&((g=u?Object.getOwnPropertyDescriptor(b,i):null)&&(g.get||g.set)?Object.defineProperty(f,i,g):f[i]=b[i])}f.default=b,v&&v.set(b,f)}})(t("../constants")),t("../internationalization");function s(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,s=function(){return b},b)}function p(b){return(p=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(v){return a(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":a(v)})(b)}h.default._validateParameters=h.default._clearValidateParamsCache=function(){},t=h.default,c.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,m,c){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function h(b){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(v){return a(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":a(v)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=function(b){if(b&&b.__esModule)return b;if(b===null||h(b)!=="object"&&typeof b!="function")return{default:b};var v=p();if(v&&v.has(b))return v.get(b);var i,f={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in b){var g;Object.prototype.hasOwnProperty.call(b,i)&&((g=u?Object.getOwnPropertyDescriptor(b,i):null)&&(g.get||g.set)?Object.defineProperty(f,i,g):f[i]=b[i])}return f.default=b,v&&v.set(b,f),f}(t("./constants"));function p(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,p=function(){return b},b)}c.default={modeAdjust:function(b,v,i,f,u){var g;return u===s.CORNER?g={x:b,y:v,w:Math.abs(i),h:Math.abs(f)}:u===s.CORNERS?g={x:Math.min(b,i),y:Math.min(v,f),w:Math.abs(i-b),h:Math.abs(f-v)}:u===s.RADIUS?g={x:b-(i=Math.abs(i)),y:v-(f=Math.abs(f)),w:2*i,h:2*f}:u===s.CENTER&&(g={x:b-.5*(i=Math.abs(i)),y:v-.5*(f=Math.abs(f)),w:i,h:f}),g}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,m,c){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(h=t("../core/main"))&&h.__esModule?h:{default:h};t("./internationalization");var h=Promise.resolve();Promise.all([new Promise(function(s,p){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),h]).then(function(){var s;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(s=new Event("p5Ready"),window.dispatchEvent(s),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!a.default.instance&&new a.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,m,c){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.setTranslatorLanguage=c.currentTranslatorLanguage=c.availableTranslatorLanguages=c.initialize=c.translator=void 0;var a,h,s=b(t("i18next")),p=b(t("i18next-browser-languagedetector"));function b(f){return f&&f.__esModule?f:{default:f}}function v(f,u){for(var g=0;g<u.length;g++){var y=u[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}var i=function(){function f(y,d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.init(y,d)}var u,g;return u=f,(g=[{key:"fetchWithTimeout",value:function(y,d){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(y,d),new Promise(function(w,x){return setTimeout(function(){return x(new Error("timeout"))},l)})])}},{key:"init",value:function(y){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=y,this.options=d}},{key:"read",value:function(y,d,l){var w=this.options.loadPath;y===this.options.fallback?l(null,a[y][d]):h.includes(y)?(w=this.services.interpolator.interpolate(w,{lng:y,ns:d}),this.loadUrl(w,l)):l("Not found",!1)}},{key:"loadUrl",value:function(y,d){this.fetchWithTimeout(y).then(function(l){if(l.ok)return l.json();throw new Error("failed loading ".concat(y))},function(){throw new Error("failed loading ".concat(y))}).then(function(l){return d(null,l)}).catch(d)}}])&&v(u.prototype,g),f}();i.type="backend",c.translator=function(f,u){console.debug("p5.js translator called before translations were loaded"),s.default.t(f,u)},c.initialize=function(){return s.default.use(p.default).use(i).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:a}).then(function(f){c.translator=f},function(f){return console.debug("Translations failed to load (".concat(f,")"))})},c.availableTranslatorLanguages=function(){return s.default.languages},c.currentTranslatorLanguage=function(f){return s.default.language},c.setTranslatorLanguage=function(f){return s.default.changeLanguage(f||void 0,function(u){return console.debug("Translations failed to load (".concat(u,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,c.default=t},{"./main":283}],283:[function(t,m,c){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function h(f){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(u){return a(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":a(u)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t("./shim");var s=function(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var u=p();if(u&&u.has(f))return u.get(f);var g,y={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var l;Object.prototype.hasOwnProperty.call(f,g)&&((l=d?Object.getOwnPropertyDescriptor(f,g):null)&&(l.get||l.set)?Object.defineProperty(y,g,l):y[g]=f[g])}return y.default=f,u&&u.set(f,y),y}(t("./constants"));function p(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,p=function(){return f},f)}function b(f,u){for(var g=0;g<u.length;g++){var y=u[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}var v,i=function(){function f(y,w){var l=this;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this._isGlobal=!y,this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=w,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var w=Object.getOwnPropertyNames(f.prototype._registeredMethods),x=!0,_=!1,T=void 0;try{for(var E,S=w[Symbol.iterator]();!(x=(E=S.next()).done);x=!0){var P=E.value;this._registeredMethods[P]=f.prototype._registeredMethods[P].slice()}}catch(V){_=!0,T=V}finally{try{x||S.return==null||S.return()}finally{if(_)throw T}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),f.prototype.callRegisteredHooksFor=function(V){var H=this||f.prototype,X=this._isGlobal?window:this;if(H._registeredMethods.hasOwnProperty(V)){var H=H._registeredMethods[V],Q=!0,V=!1,se=void 0;try{for(var M,R=H[Symbol.iterator]();!(Q=(M=R.next()).done);Q=!0){var z=M.value;typeof z=="function"&&z.call(X)}}catch(te){V=!0,se=te}finally{try{Q||R.return==null||R.return()}finally{if(V)throw se}}}},this._start=function(){l._userNode&&typeof l._userNode=="string"&&(l._userNode=document.getElementById(l._userNode));var V=l._isGlobal?window:l;if(V.preload){l.callRegisteredHooksFor("beforePreload");var H,X=document.getElementById(l._loadingScreenId),Q=(X||((X=document.createElement("div")).innerHTML="Loading...",X.style.position="absolute",X.id=l._loadingScreenId,(l._userNode||document.body).appendChild(X)),l._preloadMethods);for(H in Q){Q[H]=Q[H]||f;var se=Q[H];se!==f.prototype&&se!==f||(l._isGlobal&&(window[H]=l._wrapPreload(l,H)),se=l),l._registeredPreloadMethods[H]=se[H],se[H]=l._wrapPreload(se,H)}V.preload(),l._runIfPreloadsAreDone()}else l._setup(),l._recording||l._draw()},this._runIfPreloadsAreDone=function(){var V,H=this._isGlobal?window:this;H._preloadCount===0&&((V=document.getElementById(H._loadingScreenId))&&V.parentNode.removeChild(V),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),H._setup(),this._recording||H._draw()))},this._decrementPreload=function(){var V=this._isGlobal?window:this;V._preloadDone||typeof V.preload!="function"||(V._setProperty("_preloadCount",V._preloadCount-1),V._runIfPreloadsAreDone())},this._wrapPreload=function(V,H){var X=this;return function(){X._incrementPreload();for(var Q=arguments.length,se=new Array(Q),M=0;M<Q;M++)se[M]=arguments[M];return X._registeredPreloadMethods[H].apply(V,se)}},this._incrementPreload=function(){var V=this._isGlobal?window:this;V._preloadDone||V._setProperty("_preloadCount",V._preloadCount+1)},this._setup=function(){l.callRegisteredHooksFor("beforeSetup"),l.createCanvas(l._defaultCanvasSize.width,l._defaultCanvasSize.height,"p2d");var V=l._isGlobal?window:l;if(typeof V.preload=="function")for(var H in l._preloadMethods)V[H]=l._preloadMethods[H][H],V[H]&&l&&(V[H]=V[H].bind(l));l._millisStart=window.performance.now(),V._preloadDone=!0,typeof V.setup=="function"&&V.setup();var X=document.getElementsByTagName("canvas"),Q=!0,se=!1,M=void 0;try{for(var R,z=X[Symbol.iterator]();!(Q=(R=z.next()).done);Q=!0){var q=R.value;q.dataset.hidden==="true"&&(q.style.visibility="",delete q.dataset.hidden)}}catch(Z){se=!0,M=Z}finally{try{Q||z.return==null||z.return()}finally{if(se)throw M}}l._lastTargetFrameTime=window.performance.now(),l._lastRealFrameTime=window.performance.now(),l._setupDone=!0,(l._accessibleOutputs.grid||l._accessibleOutputs.text)&&l._updateAccsOutput(),l.callRegisteredHooksFor("afterSetup")},this._draw=function(H){var H=H||window.performance.now(),X=H-l._lastTargetFrameTime,Q=1e3/l._targetFrameRate;(!l._loop||Q-5<=X)&&(l.deltaTime=H-l._lastRealFrameTime,l._setProperty("deltaTime",l.deltaTime),l._frameRate=1e3/l.deltaTime,l.redraw(),l._lastTargetFrameTime=Math.max(l._lastTargetFrameTime+Q,H),l._lastRealFrameTime=H,l._updateMouseCoords!==void 0&&(l._updateMouseCoords(),l._setProperty("movedX",0),l._setProperty("movedY",0))),l._loop&&(l._requestAnimId=window.requestAnimationFrame(l._draw))},this._setProperty=function(V,H){l[V]=H,l._isGlobal&&(window[V]=H)},this.remove=function(){l._startListener&&window.removeEventListener("load",l._startListener,!1);var V=document.getElementById(l._loadingScreenId);if(V&&(V.parentNode.removeChild(V),l._incrementPreload()),l._curElement){for(var H in l._loop=!1,l._requestAnimId&&window.cancelAnimationFrame(l._requestAnimId),l._events)window.removeEventListener(H,l._events[H]);var X=!0,V=!1,Q=void 0;try{for(var se,M=l._elements[Symbol.iterator]();!(X=(se=M.next()).done);X=!0){var R,z=se.value;for(R in z.elt&&z.elt.parentNode&&z.elt.parentNode.removeChild(z.elt),z._events)z.elt.removeEventListener(R,z._events[R])}}catch(he){V=!0,Q=he}finally{try{X||M.return==null||M.return()}finally{if(V)throw Q}}var q=l;l._registeredMethods.remove.forEach(function(he){he!==void 0&&he.call(q)})}if(l._isGlobal){for(var Z in f.prototype)try{delete window[Z]}catch{window[Z]=void 0}for(var te in l)if(l.hasOwnProperty(te))try{delete window[te]}catch{window[te]=void 0}f.instance=null}};var N,C,I=this._createFriendlyGlobalFunctionBinder();if(this._isGlobal){for(var L in f.instance=this,f.prototype)typeof f.prototype[L]=="function"?(N=L.substring(2),this._events.hasOwnProperty(N)||(Math.hasOwnProperty(L)&&Math[L]===f.prototype[L]?I(L,f.prototype[L]):I(L,f.prototype[L].bind(this)))):I(L,f.prototype[L]);for(var F in this)this.hasOwnProperty(F)&&I(F,this[F])}else y(this),f._checkForUserDefinedFunctions(this);for(C in this._updateWindowSize(),this.callRegisteredHooksFor("init"),this._setupPromisePreloads(),this._events){var D=this["_on".concat(C)];D&&(D=D.bind(this),window.addEventListener(C,D,{passive:!1}),this._events[C]=D)}function B(){l._setProperty("focused",!0)}function $(){l._setProperty("focused",!1)}window.addEventListener("focus",B),window.addEventListener("blur",$),this.registerMethod("remove",function(){window.removeEventListener("focus",B),window.removeEventListener("blur",$)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var u,g;return u=f,(g=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(y,d){f.prototype._preloadMethods.hasOwnProperty(y)||(f.prototype._preloadMethods[y]=d)}},{key:"registerMethod",value:function(y,d){var l=this||f.prototype;l._registeredMethods.hasOwnProperty(y)||(l._registeredMethods[y]=[]),l._registeredMethods[y].push(d)}},{key:"unregisterMethod",value:function(y,d){var l=this||f.prototype;if(l._registeredMethods.hasOwnProperty(y)){for(var w=l._registeredMethods[y],x=[],_=0;_<w.length;_++)w[_]===d&&x.push(_);for(var T=x.length-1;0<=T;T--)w.splice(x[T],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},d=y.globalObject||window;return y.log||console.log.bind(console),function(l,w){f.disableFriendlyErrors,d[l]=w}}}])&&b(u.prototype,g),f}();for(v in i.instance=null,i.disableFriendlyErrors=!1,s)i.prototype[v]=s[v];i.VERSION=s.VERSION,i.prototype._preloadMethods={loadJSON:i.prototype,loadImage:i.prototype,loadStrings:i.prototype,loadXML:i.prototype,loadBytes:i.prototype,loadTable:i.prototype,loadFont:i.prototype,loadModel:i.prototype,loadShader:i.prototype},i.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},i.prototype._registeredPreloadMethods={},c.default=i},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("./main"))&&t.__esModule?t:{default:t};function h(s,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}a.default.Element=function(){function s(i,f){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.elt=i,this._pInst=this._pixelsState=f,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var p,b,v;return p=s,v=[{key:"_adjustListener",value:function(i,f,u){return f===!1?a.default.Element._detachListener(i,u):a.default.Element._attachListener(i,f,u),this}},{key:"_attachListener",value:function(i,f,u){u._events[i]&&a.default.Element._detachListener(i,u),f=f.bind(u),u.elt.addEventListener(i,f,!1),u._events[i]=f}},{key:"_detachListener",value:function(i,f){var u=f._events[i];f.elt.removeEventListener(i,u,!1),f._events[i]=null}}],(b=[{key:"parent",value:function(i){return i===void 0?this.elt.parentNode:(typeof i=="string"?(i[0]==="#"&&(i=i.substring(1)),i=document.getElementById(i)):i instanceof a.default.Element&&(i=i.elt),i.appendChild(this.elt),this)}},{key:"id",value:function(i){return i===void 0?this.elt.id:(this.elt.id=i,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(i){return i===void 0?this.elt.className:(this.elt.className=i,this)}},{key:"mousePressed",value:function(i){return a.default.Element._adjustListener("mousedown",function(f){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(f),i.call(this,f)},this),this}},{key:"doubleClicked",value:function(i){return a.default.Element._adjustListener("dblclick",i,this),this}},{key:"mouseWheel",value:function(i){return a.default.Element._adjustListener("wheel",i,this),this}},{key:"mouseReleased",value:function(i){return a.default.Element._adjustListener("mouseup",i,this),this}},{key:"mouseClicked",value:function(i){return a.default.Element._adjustListener("click",i,this),this}},{key:"mouseMoved",value:function(i){return a.default.Element._adjustListener("mousemove",i,this),this}},{key:"mouseOver",value:function(i){return a.default.Element._adjustListener("mouseover",i,this),this}},{key:"mouseOut",value:function(i){return a.default.Element._adjustListener("mouseout",i,this),this}},{key:"touchStarted",value:function(i){return a.default.Element._adjustListener("touchstart",i,this),this}},{key:"touchMoved",value:function(i){return a.default.Element._adjustListener("touchmove",i,this),this}},{key:"touchEnded",value:function(i){return a.default.Element._adjustListener("touchend",i,this),this}},{key:"dragOver",value:function(i){return a.default.Element._adjustListener("dragover",i,this),this}},{key:"dragLeave",value:function(i){return a.default.Element._adjustListener("dragleave",i,this),this}},{key:"_setProperty",value:function(i,f){this[i]=f}}])&&h(p.prototype,b),v&&h(p,v),s}(),t=a.default.Element,c.default=t},{"./main":283}],285:[function(t,m,c){function a(l){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(l)}function h(l){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(d=t("./main"))&&d.__esModule?d:{default:d},p=function(l){if(l&&l.__esModule)return l;if(l===null||h(l)!=="object"&&typeof l!="function")return{default:l};var w=b();if(w&&w.has(l))return w.get(l);var x,_={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in l){var E;Object.prototype.hasOwnProperty.call(l,x)&&((E=T?Object.getOwnPropertyDescriptor(l,x):null)&&(E.get||E.set)?Object.defineProperty(_,x,E):_[x]=l[x])}return _.default=l,w&&w.set(l,_),_}(t("./constants"));function b(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,b=function(){return l},l)}function v(l,w){for(var x=0;x<w.length;x++){var _=w[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,_.key,_)}}function i(l,w){return(i=Object.setPrototypeOf||function(x,_){return x.__proto__=_,x})(l,w)}function f(l){return function(){var w,x=y(l);return u(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=y(this).constructor,Reflect.construct(x,arguments,w)):x.apply(this,arguments))}}function u(l,w){return!w||h(w)!=="object"&&typeof w!="function"?g(l):w}function g(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function y(l){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(l)}s.default.Graphics=function(l){var w=_;if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(l&&l.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),l&&i(w,l);var x=f(_);function _(T,E,F,P,N){var C;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");L=N||document.createElement("canvas"),(C=x.call(this,L,P)).canvas=L;var I,L=F||p.P2D,F=P._userNode||document.body;for(I in N||F.appendChild(C.canvas),s.default.prototype)C[I]||(typeof s.default.prototype[I]=="function"?C[I]=s.default.prototype[I].bind(g(C)):C[I]=s.default.prototype[I]);return s.default.prototype._initializeInstanceVariables.apply(g(C)),C.width=T,C.height=E,C._pixelDensity=P._pixelDensity,L===p.WEBGL?(C._renderer=new s.default.RendererGL(C.canvas,g(C),!1),T=(N=C._renderer._adjustDimensions(T,E)).adjustedWidth,E=N.adjustedHeight):C._renderer=new s.default.Renderer2D(C.canvas,g(C),!1),P._elements.push(g(C)),Object.defineProperty(g(C),"deltaTime",{get:function(){return this._pInst.deltaTime}}),C._renderer.resize(T,E),C._renderer._applyDefaults(),u(C,g(C))}return w=_,(l=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var T,E=this._pInst._elements.indexOf(this);for(T in E!==-1&&this._pInst._elements.splice(E,1),this._events)this.elt.removeEventListener(T,this._events[T]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(T){return new s.default.Framebuffer(this,T)}}])&&v(w.prototype,l),_}(s.default.Element);var d=s.default.Graphics;c.default=d},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,m,c){function a(l){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(y=t("./main"))&&y.__esModule?y:{default:y},s=function(l){if(l&&l.__esModule)return l;if(l===null||b(l)!=="object"&&typeof l!="function")return{default:l};var w=p();if(w&&w.has(l))return w.get(l);var x,_={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in l){var E;Object.prototype.hasOwnProperty.call(l,x)&&((E=T?Object.getOwnPropertyDescriptor(l,x):null)&&(E.get||E.set)?Object.defineProperty(_,x,E):_[x]=l[x])}return _.default=l,w&&w.set(l,_),_}(t("../core/constants"));function p(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,p=function(){return l},l)}function b(l){return(b=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(l)}function v(l,w){for(var x=0;x<w.length;x++){var _=w[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(l,_.key,_)}}function i(l,w){return(i=Object.setPrototypeOf||function(x,_){return x.__proto__=_,x})(l,w)}function f(l){return function(){var w,x,_=g(l);return w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=g(this).constructor,Reflect.construct(_,arguments,w)):_.apply(this,arguments),_=this,!(x=w)||b(x)!=="object"&&typeof x!="function"?u(_):x}}function u(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function g(l){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(l)}var y=function(l){var w=_;if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(l&&l.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),l&&i(w,l);var x=f(_);function _(T,E,S){var P;if(this instanceof _)return(P=x.call(this,T,E)).canvas=T,P._pixelsState=E,S?(P._isMainCanvas=!0,P._pInst._setProperty("_curElement",u(P)),P._pInst._setProperty("canvas",P.canvas),P._pInst._setProperty("width",P.width),P._pInst._setProperty("height",P.height)):(P.canvas.style.display="none",P._styles=[]),P._clipping=!1,P._clipInvert=!1,P._textSize=12,P._textLeading=15,P._textFont="sans-serif",P._textStyle=s.NORMAL,P._textAscent=null,P._textDescent=null,P._textAlign=s.LEFT,P._textBaseline=s.BASELINE,P._textWrap=s.WORD,P._rectMode=s.CORNER,P._ellipseMode=s.CENTER,P._curveTightness=0,P._imageMode=s.CORNER,P._tint=null,P._doStroke=!0,P._doFill=!0,P._strokeSet=!1,P._fillSet=!1,P._leadingSet=!1,P._pushPopDepth=0,P;throw new TypeError("Cannot call a class as a function")}return w=_,(l=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(T){this._pushPopDepth--,T.properties&&Object.assign(this,T.properties)}},{key:"beginClip",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=T.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(T,E){this.width=T,this.height=E,this.elt.width=T*this._pInst._pixelDensity,this.elt.height=E*this._pInst._pixelDensity,this.elt.style.width="".concat(T,"px"),this.elt.style.height="".concat(E,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(T,E,S,P){var N=this._pixelsState,C=N._pixelDensity,I=this.canvas;if(T===void 0&&E===void 0)T=E=0,S=N.width,P=N.height;else if(T*=C,E*=C,S===void 0&&P===void 0)return T<0||E<0||T>=I.width||E>=I.height?[0,0,0,0]:this._getPixel(T,E);return N=new h.default.Image(S*C,P*C),N.pixelDensity(C),N.canvas.getContext("2d").drawImage(I,T,E,S*C,P*C,0,0,S*C,P*C),N}},{key:"textLeading",value:function(T){return typeof T=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",T),this._pInst):this._textLeading}},{key:"textStyle",value:function(T){return T?(T!==s.NORMAL&&T!==s.ITALIC&&T!==s.BOLD&&T!==s.BOLDITALIC||this._setProperty("_textStyle",T),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(T,E){return T!==void 0?(this._setProperty("_textAlign",T),E!==void 0&&this._setProperty("_textBaseline",E),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(T){return this._setProperty("_textWrap",T),this._textWrap}},{key:"text",value:function(T,E,S,P,N){var C,I,L,F,D=this._pInst,B=this._textWrap,$=Number.MAX_VALUE,V=S;if((this._doFill||this._doStroke)&&T!==void 0){if(C=(T=(T=typeof T!="string"?T.toString():T).replace(/(\t)/g,"  ")).split(`
`),P!==void 0){switch(this._rectMode===s.CENTER&&(E-=P/2),this._textAlign){case s.CENTER:E+=P/2;break;case s.RIGHT:E+=P}if(N!==void 0){this._rectMode===s.CENTER&&(S-=N/2,V-=N/2);var T=S,H=D.textAscent();switch(this._textBaseline){case s.BOTTOM:F=S+N,S=Math.max(F,S),V+=H;break;case s.CENTER:F=S+N/2,S=Math.max(F,S),V+=H/2}$=S+N-H,this._textBaseline===s.CENTER&&($=T+N-H/2)}else this._textBaseline!==s.BOTTOM&&this._textBaseline!==s.CENTER||(V=S-(T=D.textSize()*this._textLeading)/2,$=S+T/2);if(B===s.WORD){for(var X=[],Q=0;Q<C.length;Q++){for(var se="",M=C[Q].split(" "),R=0;R<M.length;R++)I="".concat(se+M[R])+" ",se=P<(L=this.textWidth(I))&&0<se.length?(X.push(se),"".concat(M[R])+" "):I;X.push(se)}var z=0;this._textBaseline===s.CENTER?z=(X.length-1)*D.textLeading()/2:this._textBaseline===s.BOTTOM&&(z=(X.length-1)*D.textLeading());for(var q=0;q<C.length;q++){se="",M=C[q].split(" ");for(var Z=0;Z<M.length;Z++)I="".concat(se+M[Z])+" ",P<(L=this.textWidth(I))&&0<se.length?(this._renderText(D,se.trim(),E,S-z,$,V),se="".concat(M[Z])+" ",S+=D.textLeading()):se=I;this._renderText(D,se.trim(),E,S-z,$,V),S+=D.textLeading()}}else{for(var te=[],ie=0;ie<C.length;ie++)for(var he=C[ie].split(se=""),oe=0;oe<he.length;oe++)I="".concat(se+he[oe]),(L=this.textWidth(I))<=P?se+=he[oe]:P<L&&0<se.length&&(te.push(se),se="".concat(he[oe]));te.push(se);var fe=0;this._textBaseline===s.CENTER?fe=(te.length-1)*D.textLeading()/2:this._textBaseline===s.BOTTOM&&(fe=(te.length-1)*D.textLeading());for(var ce=0;ce<C.length;ce++){he=C[ce].split(se="");for(var ee=0;ee<he.length;ee++)I="".concat(se+he[ee]),(L=this.textWidth(I))<=P?se+=he[ee]:P<L&&0<se.length&&(this._renderText(D,se.trim(),E,S-fe,$,V),S+=D.textLeading(),se="".concat(he[ee]))}this._renderText(D,se.trim(),E,S-fe,$,V),S+=D.textLeading()}}else{var de=0;this._textBaseline===s.CENTER?de=(C.length-1)*D.textLeading()/2:this._textBaseline===s.BOTTOM&&(de=(C.length-1)*D.textLeading());for(var ye=0;ye<C.length;ye++)this._renderText(D,C[ye],E,S-de,$,V-de),S+=D.textLeading()}return D}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return b(T)==="object"&&T.font&&T.font.supported}},{key:"_updateTextMetrics",value:function(){var T,E,S,P,N,C;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((T=document.createElement("span")).style.fontFamily=this._textFont,T.style.fontSize="".concat(this._textSize,"px"),T.innerHTML="ABCjgq|",(C=document.createElement("div")).style.display="inline-block",C.style.width="1px",C.style.height="0px",P=((E=document.createElement("div")).appendChild(T),E.appendChild(C),E.style.height="0px",E.style.overflow="hidden",document.body.appendChild(E),C.style.verticalAlign="baseline",d(C)),N=d(T),S=P[1]-N[1],P=(C.style.verticalAlign="bottom",d(C)),N=d(T),C=P[1]-N[1]-S,document.body.removeChild(E),this._setProperty("_textAscent",S),this._setProperty("_textDescent",C)),this}}])&&v(w.prototype,l),_}(h.default.Element);function d(l){var w=0,x=0;if(l.offsetParent)for(;w+=l.offsetLeft,x+=l.offsetTop,l=l.offsetParent;);else w+=l.offsetLeft,x+=l.offsetTop;return[w,x]}y.prototype.textSize=function(l){return typeof l=="number"?(this._setProperty("_textSize",l),this._leadingSet||this._setProperty("_textLeading",l*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},h.default.Renderer=y,t=h.default.Renderer,c.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(l,m,c){function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(w)}function h(w){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(x){return a(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":a(x)})(w)}l("core-js/modules/es.symbol"),l("core-js/modules/es.symbol.description"),l("core-js/modules/es.symbol.iterator"),l("core-js/modules/es.array.concat"),l("core-js/modules/es.array.fill"),l("core-js/modules/es.array.iterator"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.function.name"),l("core-js/modules/es.object.get-own-property-descriptor"),l("core-js/modules/es.object.get-prototype-of"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.reflect.construct"),l("core-js/modules/es.reflect.get"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),l("core-js/modules/es.string.iterator"),l("core-js/modules/es.weak-map"),l("core-js/modules/web.dom-collections.iterator"),l("core-js/modules/es.array.concat"),l("core-js/modules/es.array.fill"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.function.name"),l("core-js/modules/es.object.get-prototype-of"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(d=l("./main"))&&d.__esModule?d:{default:d},p=function(w){if(w&&w.__esModule)return w;if(w===null||h(w)!=="object"&&typeof w!="function")return{default:w};var x=b();if(x&&x.has(w))return x.get(w);var _,T={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in w){var S;Object.prototype.hasOwnProperty.call(w,_)&&((S=E?Object.getOwnPropertyDescriptor(w,_):null)&&(S.get||S.set)?Object.defineProperty(T,_,S):T[_]=w[_])}return T.default=w,x&&x.set(w,T),T}(l("./constants"));function b(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,b=function(){return w},w)}function v(w,x){for(var _=0;_<x.length;_++){var T=x[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}function i(w,x,_){return(i=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(P,E,S){var P=function(N,C){for(;!Object.prototype.hasOwnProperty.call(N,C)&&(N=g(N))!==null;);return N}(P,E);if(P)return(P=Object.getOwnPropertyDescriptor(P,E)).get?P.get.call(S):P.value})(w,x,_||w)}function f(w,x){return(f=Object.setPrototypeOf||function(_,T){return _.__proto__=T,_})(w,x)}function u(w){return function(){var x,_=g(w),_=(x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=g(this).constructor,Reflect.construct(_,arguments,x)):_.apply(this,arguments),this);if(!x||h(x)!=="object"&&typeof x!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return x}}function g(w){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(w)}l("./p5.Renderer");var y="rgba(0,0,0,0)",d=function(w){var x=T;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),w&&f(x,w);var _=u(T);function T(E,S,P){if(this instanceof T)return(E=_.call(this,E,S,P)).drawingContext=E.canvas.getContext("2d"),E._pInst._setProperty("drawingContext",E.drawingContext),E;throw new TypeError("Cannot call a class as a function")}return x=T,(w=[{key:"getFilterGraphicsLayer",value:function(){var E;return this.filterGraphicsLayer||(E=(this._pInst instanceof s.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new s.default.Graphics(this.width,this.height,p.WEBGL,E)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=p.BLEND,this._setFill(p._DEFAULT_FILL),this._setStroke(p._DEFAULT_STROKE),this.drawingContext.lineCap=p.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(E,S){i(g(T.prototype),"resize",this).call(this,E,S),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var E,S;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(E=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(E,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(E=this._getFill(),S=(S=this._pInst).color.apply(S,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(S.levels),S=S.toString(),this._setFill(S),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(E),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setFill(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",E.levels)}},{key:"stroke",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setStroke(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",E.levels)}},{key:"erase",value:function(E,S){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,E=this._pInst.color(255,E).toString(),this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,E=this._pInst.color(255,S).toString(),this.drawingContext.strokeStyle=E,S=this._cachedBlendMode,this.blendMode(p.REMOVE),this._cachedBlendMode=S,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},E=(i(g(T.prototype),"beginClip",this).call(this,E),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),E=(this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),E=(this.drawingContext.strokeStyle=E,this._cachedBlendMode);this.blendMode(p.BLEND),this._cachedBlendMode=E,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),i(g(T.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(E,S,P,N,C,I,L,F,D){E.gifProperties&&E._animateGif(this._pInst);try{s.default.MediaElement&&E instanceof s.default.MediaElement&&E._ensureCanvas();var B=(B=this._tint&&E.canvas?this._getTintedImageCanvas(E):B)||E.canvas||E.elt,$=1;E.width&&0<E.width&&($=B.width/E.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(B,$*S,$*P,$*N,$*C,I,L,F,D),this._isErasing&&this._pInst.erase()}catch(V){if(V.name!=="NS_ERROR_NOT_AVAILABLE")throw V}}},{key:"_getTintedImageCanvas",value:function(E){if(!E.canvas)return E;E.tintCanvas||(E.tintCanvas=document.createElement("canvas")),E.tintCanvas.width!==E.canvas.width&&(E.tintCanvas.width=E.canvas.width),E.tintCanvas.height!==E.canvas.height&&(E.tintCanvas.height=E.canvas.height);var S=E.tintCanvas.getContext("2d");return S.save(),S.clearRect(0,0,E.canvas.width,E.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(S.drawImage(E.canvas,0,0),S.globalCompositeOperation="luminosity",S.drawImage(E.canvas,0,0),S.globalCompositeOperation="color",S.drawImage(E.canvas,0,0),S.globalCompositeOperation="multiply",S.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),S.fillRect(0,0,E.canvas.width,E.canvas.height),S.globalCompositeOperation="destination-in"),S.globalAlpha=this._tint[3]/255,S.drawImage(E.canvas,0,0),S.restore(),E.tintCanvas}},{key:"blendMode",value:function(E){if(E===p.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(E!==p.BLEND&&E!==p.REMOVE&&E!==p.DARKEST&&E!==p.LIGHTEST&&E!==p.DIFFERENCE&&E!==p.MULTIPLY&&E!==p.EXCLUSION&&E!==p.SCREEN&&E!==p.REPLACE&&E!==p.OVERLAY&&E!==p.HARD_LIGHT&&E!==p.SOFT_LIGHT&&E!==p.DODGE&&E!==p.BURN&&E!==p.ADD)throw new Error("Mode ".concat(E," not recognized."));this._cachedBlendMode=E,this.drawingContext.globalCompositeOperation=E}}},{key:"blend",value:function(){for(var E=this.drawingContext.globalCompositeOperation,S=arguments.length,P=new Array(S),N=0;N<S;N++)P[N]=arguments[N];var C=P[P.length-1],I=Array.prototype.slice.call(P,0,P.length-1);this.drawingContext.globalCompositeOperation=C,s.default.prototype.copy.apply(this,I),this.drawingContext.globalCompositeOperation=E}},{key:"_getPixel",value:function(E,S){return E=this.drawingContext.getImageData(E,S,1,1).data,[E[0],E[1],E[2],E[3]]}},{key:"loadPixels",value:function(){var E=this._pixelsState,S=E._pixelDensity,P=this.width*S,S=this.height*S,P=this.drawingContext.getImageData(0,0,P,S);E._setProperty("imageData",P),E._setProperty("pixels",P.data)}},{key:"set",value:function(E,S,P){E=Math.floor(E),S=Math.floor(S);var N=this._pixelsState;if(P instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(N._pixelDensity,N._pixelDensity),this.drawingContext.clearRect(E,S,P.width,P.height),this.drawingContext.drawImage(P.canvas,E,S),this.drawingContext.restore();else{var C=0,I=0,L=0,F=0,D=4*(S*N._pixelDensity*(this.width*N._pixelDensity)+E*N._pixelDensity);if(N.imageData||N.loadPixels(),typeof P=="number")D<N.pixels.length&&(L=I=C=P,F=255);else if(Array.isArray(P)){if(P.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");D<N.pixels.length&&(C=P[0],I=P[1],L=P[2],F=P[3])}else P instanceof s.default.Color&&D<N.pixels.length&&(C=P.levels[0],I=P.levels[1],L=P.levels[2],F=P.levels[3]);for(var B=0;B<N._pixelDensity;B++)for(var $=0;$<N._pixelDensity;$++)D=4*((S*N._pixelDensity+$)*this.width*N._pixelDensity+(E*N._pixelDensity+B)),N.pixels[D]=C,N.pixels[D+1]=I,N.pixels[D+2]=L,N.pixels[D+3]=F}}},{key:"updatePixels",value:function(E,S,P,N){var C=this._pixelsState,I=C._pixelDensity;E===void 0&&S===void 0&&P===void 0&&N===void 0&&(S=E=0,P=this.width,N=this.height),E*=I,S*=I,P*=I,N*=I,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=C.imageData),this.drawingContext.putImageData(C.imageData,0,0,E,S,P,N)}},{key:"arc",value:function(D,B,$,V,C,I,L){var F=this.drawingContext,D=D+$/2,B=B+V/2,$=$/2,V=V/2,H=!(L===p.CHORD||L===p.OPEN||(I-C)%p.TWO_PI==0);return this._doFill&&(this._clipping||F.beginPath(),F.ellipse(D,B,$,V,0,C,I),H&&F.lineTo(D,B),F.closePath(),this._clipping||F.fill()),this._doStroke&&(this._clipping||F.beginPath(),F.ellipse(D,B,$,V,0,C,I),L===p.PIE&&H&&F.lineTo(D,B),L!==p.PIE&&L!==p.CHORD||F.closePath(),this._clipping||F.stroke()),this}},{key:"ellipse",value:function(F){var S=this.drawingContext,P=this._doFill,N=this._doStroke,C=parseFloat(F[0]),I=parseFloat(F[1]),L=parseFloat(F[2]),F=parseFloat(F[3]);if(P&&!N){if(this._getFill()===y)return this}else if(!P&&N&&this._getStroke()===y)return this;C+=L/2,I+=F/2,L/=2,F/=2,this._clipping||S.beginPath(),S.ellipse(C,I,L,F,0,0,2*Math.PI),S.closePath(),!this._clipping&&P&&S.fill(),!this._clipping&&N&&S.stroke()}},{key:"line",value:function(E,S,P,N){var C=this.drawingContext;return this._doStroke&&this._getStroke()!==y&&(this._clipping||C.beginPath(),C.moveTo(E,S),C.lineTo(P,N),C.stroke()),this}},{key:"point",value:function(E,S){var P,N,C=this.drawingContext;return!this._doStroke||this._getStroke()===y?this:(P=this._getStroke(),N=this._getFill(),this._clipping||this._setFill(P),this._clipping||C.beginPath(),C.arc(E,S,C.lineWidth/2,0,p.TWO_PI,!1),void(this._clipping||(C.fill(),this._setFill(N))))}},{key:"quad",value:function(E,S,P,N,C,I,L,F){var D=this.drawingContext,B=this._doFill,$=this._doStroke;if(B&&!$){if(this._getFill()===y)return this}else if(!B&&$&&this._getStroke()===y)return this;return this._clipping||D.beginPath(),D.moveTo(E,S),D.lineTo(P,N),D.lineTo(C,I),D.lineTo(L,F),D.closePath(),!this._clipping&&B&&D.fill(),!this._clipping&&$&&D.stroke(),this}},{key:"rect",value:function($){var S,P,N=$[0],C=$[1],I=$[2],L=$[3],F=$[4],D=$[5],B=$[6],$=$[7],V=this.drawingContext,H=this._doFill,X=this._doStroke;if(H&&!X){if(this._getFill()===y)return this}else if(!H&&X&&this._getStroke()===y)return this;return this._clipping||V.beginPath(),F===void 0?V.rect(N,C,I,L):(D===void 0&&(D=F),B===void 0&&(B=D),$===void 0&&($=B),X=(H=Math.abs(I))/2,P=(S=Math.abs(L))/2,V.roundRect(N,C,I,L,[F=S<2*(F=H<2*F?X:F)?P:F,D=S<2*(D=H<2*D?X:D)?P:D,B=S<2*(B=H<2*B?X:B)?P:B,$=S<2*($=H<2*$?X:$)?P:$])),!this._clipping&&this._doFill&&V.fill(),!this._clipping&&this._doStroke&&V.stroke(),this}},{key:"triangle",value:function(B){var S=this.drawingContext,P=this._doFill,N=this._doStroke,C=B[0],I=B[1],L=B[2],F=B[3],D=B[4],B=B[5];if(P&&!N){if(this._getFill()===y)return this}else if(!P&&N&&this._getStroke()===y)return this;this._clipping||S.beginPath(),S.moveTo(C,I),S.lineTo(L,F),S.lineTo(D,B),S.closePath(),!this._clipping&&P&&S.fill(),!this._clipping&&N&&S.stroke()}},{key:"endShape",value:function(E,S,P,N,C,I,L){if(S.length!==0&&(this._doStroke||this._doFill)){var F,D,B,$=E===p.CLOSE,V=($&&!I&&S.push(S[0]),S.length);if(P&&L===null){if(3<V){var H=[],X=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[1][0],S[1][1]),D=1;D+2<V;D++)F=S[D],H[0]=[F[0],F[1]],H[1]=[F[0]+(X*S[D+1][0]-X*S[D-1][0])/6,F[1]+(X*S[D+1][1]-X*S[D-1][1])/6],H[2]=[S[D+1][0]+(X*S[D][0]-X*S[D+2][0])/6,S[D+1][1]+(X*S[D][1]-X*S[D+2][1])/6],H[3]=[S[D+1][0],S[D+1][1]],this.drawingContext.bezierCurveTo(H[1][0],H[1][1],H[2][0],H[2][1],H[3][0],H[3][1]);$&&this.drawingContext.lineTo(S[D+1][0],S[D+1][1]),this._doFillStrokeClose($)}}else if(N&&L===null){for(this._clipping||this.drawingContext.beginPath(),D=0;D<V;D++)S[D].isVert?S[D].moveTo?this.drawingContext.moveTo(S[D][0],S[D][1]):this.drawingContext.lineTo(S[D][0],S[D][1]):this.drawingContext.bezierCurveTo(S[D][0],S[D][1],S[D][2],S[D][3],S[D][4],S[D][5]);this._doFillStrokeClose($)}else if(C&&L===null){for(this._clipping||this.drawingContext.beginPath(),D=0;D<V;D++)S[D].isVert?S[D].moveTo?this.drawingContext.moveTo(S[D][0],S[D][1]):this.drawingContext.lineTo(S[D][0],S[D][1]):this.drawingContext.quadraticCurveTo(S[D][0],S[D][1],S[D][2],S[D][3]);this._doFillStrokeClose($)}else if(L===p.POINTS)for(D=0;D<V;D++)F=S[D],this._doStroke&&this._pInst.stroke(F[6]),this._pInst.point(F[0],F[1]);else if(L===p.LINES)for(D=0;D+1<V;D+=2)F=S[D],this._doStroke&&this._pInst.stroke(S[D+1][6]),this._pInst.line(F[0],F[1],S[D+1][0],S[D+1][1]);else if(L===p.TRIANGLES)for(D=0;D+2<V;D+=3)F=S[D],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(F[0],F[1]),this.drawingContext.lineTo(S[D+1][0],S[D+1][1]),this.drawingContext.lineTo(S[D+2][0],S[D+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(S[D+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(S[D+2][6]),this.drawingContext.stroke());else if(L===p.TRIANGLE_STRIP)for(D=0;D+1<V;D++)F=S[D],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[D+1][0],S[D+1][1]),this.drawingContext.lineTo(F[0],F[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[D+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(S[D+1][5]),D+2<V&&(this.drawingContext.lineTo(S[D+2][0],S[D+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[D+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(S[D+2][5])),this._doFillStrokeClose($);else if(L===p.TRIANGLE_FAN){if(2<V){for(this._clipping||this.drawingContext.beginPath(),D=2;D<V;D++)F=S[D],this.drawingContext.moveTo(S[0][0],S[0][1]),this.drawingContext.lineTo(S[D-1][0],S[D-1][1]),this.drawingContext.lineTo(F[0],F[1]),this.drawingContext.lineTo(S[0][0],S[0][1]),D<V-1&&(this._doFill&&F[5]!==S[D+1][5]||this._doStroke&&F[6]!==S[D+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(F[5]),this.drawingContext.fill(),this._pInst.fill(S[D+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(F[6]),this.drawingContext.stroke(),this._pInst.stroke(S[D+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose($)}}else if(L===p.QUADS)for(D=0;D+3<V;D+=4){for(F=S[D],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(F[0],F[1]),B=1;B<4;B++)this.drawingContext.lineTo(S[D+B][0],S[D+B][1]);this.drawingContext.lineTo(F[0],F[1]),!this._clipping&&this._doFill&&this._pInst.fill(S[D+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[D+3][6]),this._doFillStrokeClose($)}else if(L===p.QUAD_STRIP){if(3<V)for(D=0;D+1<V;D+=2)F=S[D],this._clipping||this.drawingContext.beginPath(),D+3<V?(this.drawingContext.moveTo(S[D+2][0],S[D+2][1]),this.drawingContext.lineTo(F[0],F[1]),this.drawingContext.lineTo(S[D+1][0],S[D+1][1]),this.drawingContext.lineTo(S[D+3][0],S[D+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(S[D+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(S[D+3][6])):(this.drawingContext.moveTo(F[0],F[1]),this.drawingContext.lineTo(S[D+1][0],S[D+1][1])),this._doFillStrokeClose($)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0][0],S[0][1]),D=1;D<V;D++)(F=S[D]).isVert&&(F.moveTo?($&&this.drawingContext.closePath(),this.drawingContext.moveTo(F[0],F[1])):this.drawingContext.lineTo(F[0],F[1]));this._doFillStrokeClose($),this.drawingContext.closePath()}I=C=N=P=!1,$&&S.pop()}return this}},{key:"strokeCap",value:function(E){return E!==p.ROUND&&E!==p.SQUARE&&E!==p.PROJECT||(this.drawingContext.lineCap=E),this}},{key:"strokeJoin",value:function(E){return E!==p.ROUND&&E!==p.BEVEL&&E!==p.MITER||(this.drawingContext.lineJoin=E),this}},{key:"strokeWeight",value:function(E){return this.drawingContext.lineWidth=E===void 0||E===0?1e-4:E,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(E){E!==this._cachedFillStyle&&(this.drawingContext.fillStyle=E,this._cachedFillStyle=E)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(E){E!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=E,this._cachedStrokeStyle=E)}},{key:"bezier",value:function(E,S,P,N,C,I,L,F){return this._pInst.beginShape(),this._pInst.vertex(E,S),this._pInst.bezierVertex(P,N,C,I,L,F),this._pInst.endShape(),this}},{key:"curve",value:function(E,S,P,N,C,I,L,F){return this._pInst.beginShape(),this._pInst.curveVertex(E,S),this._pInst.curveVertex(P,N),this._pInst.curveVertex(C,I),this._pInst.curveVertex(L,F),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(E){E&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(E,S,P,N,C,I){this.drawingContext.transform(E,S,P,N,C,I)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(E){this.drawingContext.rotate(E)}},{key:"scale",value:function(E,S){return this.drawingContext.scale(E,S),this}},{key:"translate",value:function(E,S){return E instanceof s.default.Vector&&(S=E.y,E=E.x),this.drawingContext.translate(E,S),this}},{key:"_renderText",value:function(E,S,P,N,C,I){if(!(N<I||C<=N))return E.push(),this._isOpenType()?this._textFont._renderPath(S,P,N,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(S,P,N),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(p._DEFAULT_TEXT_FILL),this.drawingContext.fillText(S,P,N))),E.pop(),E}},{key:"textWidth",value:function(E){return this._isOpenType()?this._textFont._textWidth(E,this._textSize):this.drawingContext.measureText(E).width}},{key:"_applyTextProperties",value:function(){var E=this._pInst,S=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),S=this._textFont,this._isOpenType()&&(S=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),S||"sans-serif");return/\s/.exec(S)&&(S='"'.concat(S,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(S),this.drawingContext.textAlign=this._textAlign,this._textBaseline===p.CENTER?this.drawingContext.textBaseline=p._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,E}},{key:"push",value:function(){return this.drawingContext.save(),i(g(T.prototype),"push",this).call(this)}},{key:"pop",value:function(E){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,i(g(T.prototype),"pop",this).call(this,E)}}])&&v(x.prototype,w),T}(s.default.Renderer),l=(d.prototype.text=function(w,x,_,P,E){P!==void 0&&this.drawingContext.textBaseline===p.BASELINE&&(S=!0,this.drawingContext.textBaseline=p.TOP);var S,P=s.default.Renderer.prototype.text.apply(this,arguments);return S&&(this.drawingContext.textBaseline=p.BASELINE),P},s.default.Renderer2D=d,s.default.Renderer2D);c.default=l},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,m,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(t=t("./main"))&&t.__esModule?t:{default:t};a.default.prototype._promisePreloads=[];function h(){return{}}var s=!(a.default.prototype.registerPromisePreload=function(p){a.default.prototype._promisePreloads.push(p)});a.default.prototype._setupPromisePreloads=function(){var p=!0,b=!1,v=void 0;try{for(var i,f=this._promisePreloads[Symbol.iterator]();!(p=(i=f.next()).done);p=!0){var u=i.value,g=this,y=u.method,d=u.addCallbacks,l=u.legacyPreloadSetup,w=u.target||this,x=w[y].bind(w);if(w===a.default.prototype){if(s)continue;g=null,x=w[y]}w[y]=this._wrapPromisePreload(g,x,d),l&&(w[l.method]=this._legacyPreloadGenerator(g,l,w[y]))}}catch(_){b=!0,v=_}finally{try{p||f.return==null||f.return()}finally{if(b)throw v}}s=!0},a.default.prototype._wrapPromisePreload=function(p,b,v){var i=function(){for(var f=this,u=(this._incrementPreload(),null),g=null,y=arguments.length,d=new Array(y),l=0;l<y;l++)d[l]=arguments[l];if(v)for(var w=d.length-1;0<=w&&!g&&typeof d[w]=="function";w--)g=u,u=d.pop();var x=Promise.resolve(b.apply(this,d));return u&&x.then(u),g&&x.catch(g),x.then(function(){return f._decrementPreload()}),x};return i=p?i.bind(p):i},a.default.prototype._legacyPreloadGenerator=function(p,f,v){var i=f.createBaseObject||h,f=function(){var u=this;this._incrementPreload();for(var g=arguments.length,y=new Array(g),d=0;d<g;d++)y[d]=arguments[d];var l=i.apply(this,y);return v.apply(this,y).then(function(w){Object.assign(l,w),u._decrementPreload()}),l};return f=p?f.bind(p):f}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,m,c){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(i=t("./main"))&&i.__esModule?i:{default:i},s=function(f){if(f&&f.__esModule)return f;if(f===null||b(f)!=="object"&&typeof f!="function")return{default:f};var u=p();if(u&&u.has(f))return u.get(f);var g,y={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var l;Object.prototype.hasOwnProperty.call(f,g)&&((l=d?Object.getOwnPropertyDescriptor(f,g):null)&&(l.get||l.set)?Object.defineProperty(y,g,l):y[g]=f[g])}return y.default=f,u&&u.set(f,y),y}(t("./constants"));function p(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,p=function(){return f},f)}function b(f){return(b=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(u){return a(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":a(u)})(f)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var v="defaultCanvas0",i=(h.default.prototype.createCanvas=function(f,u,g,y){var d,l,w;if(h.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(g=s.P2D,y=arguments[2]):d=g||s.P2D,y)(w=document.getElementById(v))&&w.parentNode.removeChild(w),w=y,this._defaultGraphicsCreated=!1;else{if(d===s.WEBGL)(w=document.getElementById(v))&&(w.parentNode.removeChild(w),l=this._renderer,this._elements=this._elements.filter(function(_){return _!==l})),(w=document.createElement("canvas")).id=v,w.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)w=this.canvas;else{w=y||document.createElement("canvas");for(var x=0;document.getElementById("defaultCanvas".concat(x));)x++;v="defaultCanvas".concat(x),w.id=v,w.classList.add("p5Canvas")}this._setupDone||(w.dataset.hidden=!0,w.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(g=document.createElement("main"),document.body.appendChild(g)),document.getElementsByTagName("main")[0])).appendChild(w)}return d===s.WEBGL?(this._setProperty("_renderer",new h.default.RendererGL(w,this,!0)),this._elements.push(this._renderer),f=(y=this._renderer._adjustDimensions(f,u)).adjustedWidth,u=y.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new h.default.Renderer2D(w,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(f,u),this._renderer._applyDefaults(),this._renderer},h.default.prototype.resizeCanvas=function(f,u,g){if(h.default._validateParameters("resizeCanvas",arguments),this._renderer){var y,d,l,w={};for(y in this.drawingContext){var x=this.drawingContext[y];b(x)!=="object"&&typeof x!="function"&&(w[y]=x)}for(l in this._renderer instanceof h.default.RendererGL&&(f=(d=this._renderer._adjustDimensions(f,u)).adjustedWidth,u=d.adjustedHeight),this.width=f,this.height=u,this._renderer.resize(f,u),w)try{this.drawingContext[l]=w[l]}catch{}g||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},h.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},h.default.prototype.createGraphics=function(f,u){for(var g=arguments.length,y=new Array(2<g?g-2:0),d=2;d<g;d++)y[d-2]=arguments[d];return y[0]instanceof HTMLCanvasElement&&(y[1]=y[0],y[0]=s.P2D),h.default._validateParameters("createGraphics",arguments),new h.default.Graphics(f,u,y[0],this,y[1])},h.default.prototype.createFramebuffer=function(f){return new h.default.Framebuffer(this,f)},h.default.prototype.clearDepth=function(f){this._assert3d("clearDepth"),this._renderer.clearDepth(f)},h.default.prototype.blendMode=function(f){h.default._validateParameters("blendMode",arguments),f===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),f=s.BLEND),this._renderer.blendMode(f)},h.default);c.default=i},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,m,c){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}function h(u){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=i(t("../main")),p=function(u){if(u&&u.__esModule)return u;if(u===null||h(u)!=="object"&&typeof u!="function")return{default:u};var g=v();if(g&&g.has(u))return g.get(u);var y,d={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u){var w;Object.prototype.hasOwnProperty.call(u,y)&&((w=l?Object.getOwnPropertyDescriptor(u,y):null)&&(w.get||w.set)?Object.defineProperty(d,y,w):d[y]=u[y])}return d.default=u,g&&g.set(u,d),d}(t("../constants")),b=i(t("../helpers"));function v(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,v=function(){return u},u)}function i(u){return u&&u.__esModule?u:{default:u}}function f(u){return function(g){if(Array.isArray(g)){for(var y=0,d=new Array(g.length);y<g.length;y++)d[y]=g[y];return d}}(u)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(u,g,y,d,l){var w;return u-=p.TWO_PI*Math.floor(u/p.TWO_PI),g-=p.TWO_PI*Math.floor(g/p.TWO_PI),w=Math.min(Math.abs(u-g),p.TWO_PI-Math.abs(u-g)),l&&(u=u<=p.HALF_PI?Math.atan(y/d*Math.tan(u)):u>p.HALF_PI&&u<=3*p.HALF_PI?Math.atan(y/d*Math.tan(u))+p.PI:Math.atan(y/d*Math.tan(u))+p.TWO_PI,g=g<=p.HALF_PI?Math.atan(y/d*Math.tan(g)):g>p.HALF_PI&&g<=3*p.HALF_PI?Math.atan(y/d*Math.tan(g))+p.PI:Math.atan(y/d*Math.tan(g))+p.TWO_PI),g<u&&(g+=p.TWO_PI),{start:u,stop:g,correspondToSamePoint:w<1e-5}},s.default.prototype.arc=function(u,g,y,d,l,w,x,_){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&l!==w&&(l=this._toRadians(l),w=this._toRadians(w),u=b.default.modeAdjust(u,g,y,d,this._renderer._ellipseMode),(g=this._normalizeArcAngles(l,w,u.w,u.h,!0)).correspondToSamePoint?this._renderer.ellipse([u.x,u.y,u.w,u.h,_]):(this._renderer.arc(u.x,u.y,u.w,u.h,g.start,g.stop,x,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[u.x,u.y,u.w,u.h,g.start,g.stop,x]))),this},s.default.prototype.ellipse=function(u,g,y,d,l){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){for(var u=arguments.length,g=new Array(u),y=0;y<u;y++)g[y]=arguments[y];s.default._validateParameters("circle",g);var d=g.slice(0,2);return d.push(g[2],g[2]),this._renderEllipse.apply(this,f(d))},s.default.prototype._renderEllipse=function(u,g,y,d,l){return(this._renderer._doStroke||this._renderer._doFill)&&(u=b.default.modeAdjust(u,g,y,d=d===void 0?y:d,this._renderer._ellipseMode),this._renderer.ellipse([u.x,u.y,u.w,u.h,l]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[u.x,u.y,u.w,u.h])),this},s.default.prototype.line=function(){for(var u,g=arguments.length,y=new Array(g),d=0;d<g;d++)y[d]=arguments[d];return s.default._validateParameters("line",y),this._renderer._doStroke&&(u=this._renderer).line.apply(u,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",y),this},s.default.prototype.point=function(){for(var u,g=arguments.length,y=new Array(g),d=0;d<g;d++)y[d]=arguments[d];return s.default._validateParameters("point",y),this._renderer._doStroke&&(y.length===1&&y[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,y[0].x,y[0].y,y[0].z):((u=this._renderer).point.apply(u,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",y))),this},s.default.prototype.quad=function(){for(var u,g=arguments.length,y=new Array(g),d=0;d<g;d++)y[d]=arguments[d];return s.default._validateParameters("quad",y),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&y.length<12?this._renderer.quad.call(this._renderer,y[0],y[1],0,y[2],y[3],0,y[4],y[5],0,y[6],y[7],0,y[8],y[9]):((u=this._renderer).quad.apply(u,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",y))),this},s.default.prototype.rect=function(){for(var u=arguments.length,g=new Array(u),y=0;y<u;y++)g[y]=arguments[y];return s.default._validateParameters("rect",g),this._renderRect.apply(this,g)},s.default.prototype.square=function(u,g,y,d,l,w,x){return s.default._validateParameters("square",arguments),this._renderRect.call(this,u,g,y,y,d,l,w,x)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var u=b.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),g=(this._renderer._rectMode===p.CORNER&&(u.w=arguments[2],u.h=arguments[3]),[u.x,u.y,u.w,u.h]),y=4;y<arguments.length;y++)g[y]=arguments[y];this._renderer.rect(g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[u.x,u.y,u.w,u.h])}return this},s.default.prototype.triangle=function(){for(var u=arguments.length,g=new Array(u),y=0;y<u;y++)g[y]=arguments[y];return s.default._validateParameters("triangle",g),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",g),this},t=s.default,c.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,m,c){function a(i){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}function h(i){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(v=t("../main"))&&v.__esModule?v:{default:v},p=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var f=b();if(f&&f.has(i))return f.get(i);var u,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var d;Object.prototype.hasOwnProperty.call(i,u)&&((d=y?Object.getOwnPropertyDescriptor(i,u):null)&&(d.get||d.set)?Object.defineProperty(g,u,d):g[u]=i[u])}return g.default=i,f&&f.set(i,g),g}(t("../constants"));function b(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,b=function(){return i},i)}s.default.prototype.ellipseMode=function(i){return s.default._validateParameters("ellipseMode",arguments),i!==p.CORNER&&i!==p.CORNERS&&i!==p.RADIUS&&i!==p.CENTER||(this._renderer._ellipseMode=i),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(i){return s.default._validateParameters("rectMode",arguments),i!==p.CORNER&&i!==p.CORNERS&&i!==p.RADIUS&&i!==p.CENTER||(this._renderer._rectMode=i),this},s.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(i){return s.default._validateParameters("strokeCap",arguments),i!==p.ROUND&&i!==p.SQUARE&&i!==p.PROJECT||this._renderer.strokeCap(i),this},s.default.prototype.strokeJoin=function(i){return s.default._validateParameters("strokeJoin",arguments),i!==p.ROUND&&i!==p.BEVEL&&i!==p.MITER||this._renderer.strokeJoin(i),this},s.default.prototype.strokeWeight=function(i){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(i),this};var v=s.default;c.default=v},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(h=t("../main"))&&h.__esModule?h:{default:h};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),a.default.prototype.bezier=function(){for(var s,p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];return a.default._validateParameters("bezier",b),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,b),this},a.default.prototype.bezierDetail=function(s){return a.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},a.default.prototype.bezierPoint=function(s,p,b,v,i){a.default._validateParameters("bezierPoint",arguments);var f=1-i;return Math.pow(f,3)*s+3*Math.pow(f,2)*i*p+3*f*Math.pow(i,2)*b+Math.pow(i,3)*v},a.default.prototype.bezierTangent=function(s,p,b,v,i){a.default._validateParameters("bezierTangent",arguments);var f=1-i;return 3*v*Math.pow(i,2)-3*b*Math.pow(i,2)+6*b*f*i-6*p*f*i+3*p*Math.pow(f,2)-3*s*Math.pow(f,2)},a.default.prototype.curve=function(){for(var s,p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];return a.default._validateParameters("curve",b),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,b),this},a.default.prototype.curveDetail=function(s){return a.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},a.default.prototype.curveTightness=function(s){return a.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},a.default.prototype.curvePoint=function(s,p,b,v,i){a.default._validateParameters("curvePoint",arguments);var f=this._renderer._curveTightness,u=i*i*i,g=i*i;return s*((f-1)/2*u+(1-f)*g+(f-1)/2*i)+p*((f+3)/2*u+(-5-f)/2*g+1)+b*((-3-f)/2*u+(f+2)*g+(1-f)/2*i)+v*((1-f)/2*u+(f-1)/2*g)},a.default.prototype.curveTangent=function(s,p,b,v,g){a.default._validateParameters("curveTangent",arguments);var f=this._renderer._curveTightness,u=g*g*3,g=2*g;return s*((f-1)/2*u+(1-f)*g+(f-1)/2)+p*((f+3)/2*u+(-5-f)/2*g)+b*((-3-f)/2*u+(f+2)*g+(1-f)/2)+v*((1-f)/2*u+(f-1)/2*g)};var h=a.default;c.default=h},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,m,c){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}function h(x){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(w=t("../main"))&&w.__esModule?w:{default:w},p=function(x){if(x&&x.__esModule)return x;if(x===null||h(x)!=="object"&&typeof x!="function")return{default:x};var _=b();if(_&&_.has(x))return _.get(x);var T,E={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in x){var P;Object.prototype.hasOwnProperty.call(x,T)&&((P=S?Object.getOwnPropertyDescriptor(x,T):null)&&(P.get||P.set)?Object.defineProperty(E,T,P):E[T]=x[T])}return E.default=x,_&&_.set(x,E),E}(t("../constants"));function b(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,b=function(){return x},x)}var v=null,i=[],f=[],u=!1,g=!1,y=!1,d=!1,l=!0,w=(s.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(f=[],d=!0),this},s.default.prototype.beginShape=function(x){var _;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(_=this._renderer).beginShape.apply(_,arguments):(v=x===p.POINTS||x===p.LINES||x===p.TRIANGLES||x===p.TRIANGLE_FAN||x===p.TRIANGLE_STRIP||x===p.QUADS||x===p.QUAD_STRIP?x:null,i=[],f=[]),this},s.default.prototype.bezierVertex=function(){for(var x,_=arguments.length,T=new Array(_),E=0;E<_;E++)T[E]=arguments[E];if(s.default._validateParameters("bezierVertex",T),this._renderer.isP3D)(x=this._renderer).bezierVertex.apply(x,T);else if(i.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{u=!0;for(var S=[],P=0;P<T.length;P++)S[P]=T[P];S.isVert=!1,(d?f:i).push(S)}return this},s.default.prototype.curveVertex=function(){for(var x,_=arguments.length,T=new Array(_),E=0;E<_;E++)T[E]=arguments[E];return s.default._validateParameters("curveVertex",T),this._renderer.isP3D?(x=this._renderer).curveVertex.apply(x,T):(g=!0,this.vertex(T[0],T[1])),this},s.default.prototype.endContour=function(){if(!this._renderer.isP3D){var x=f[0].slice();x.isVert=f[0].isVert,x.moveTo=!1,f.push(x),l&&(i.push(i[0]),l=!1);for(var _=0;_<f.length;_++)i.push(f[_])}return this},s.default.prototype.endShape=function(x){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(s.default._validateParameters("endShape",arguments),_<1&&(console.log("🌸 p5.js says: You can not have less than one instance"),_=1),this._renderer.isP3D)this._renderer.endShape(x,g,u,y,d,v,_);else{if(_!==1&&console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode"),i.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;_=x===p.CLOSE,_&&!d&&i.push(i[0]),this._renderer.endShape(x,i,g,u,y,d,v),l=!(d=y=u=g=!1),_&&i.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var x,_=arguments.length,T=new Array(_),E=0;E<_;E++)T[E]=arguments[E];if(s.default._validateParameters("quadraticVertex",T),this._renderer.isP3D)(x=this._renderer).quadraticVertex.apply(x,T);else{if(this._contourInited)return(x={}).x=T[0],x.y=T[1],x.x3=T[2],x.y3=T[3],x.type=p.QUADRATIC,this._contourVertices.push(x),this;if(0<i.length){y=!0;for(var S=[],P=0;P<T.length;P++)S[P]=T[P];S.isVert=!1,(d?f:i).push(S)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(x,_,T,E,S){var P;return this._renderer.isP3D?(P=this._renderer).vertex.apply(P,arguments):((P=[]).isVert=!0,P[0]=x,P[1]=_,P[2]=0,P[3]=0,P[4]=0,P[5]=this._renderer._getFill(),P[6]=this._renderer._getStroke(),T&&(P.moveTo=T),(d?(f.length===0&&(P.moveTo=!0),f):i).push(P)),this},s.default.prototype.normal=function(x,_,T){var E;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(E=this._renderer).normal.apply(E,arguments),this},s.default);c.default=w},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,m,c){},{}],295:[function(t,m,c){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var a=this._styles.pop();a?(this._renderer.pop(a.renderer),Object.assign(this,a.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(a){if(!this._inUserDraw&&this._setupDone){var h=parseInt(a),s=((isNaN(h)||h<1)&&(h=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var p=0;p<h;p++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,c.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,m,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("./main"))&&t.__esModule?t:{default:t};function h(s){return function(p){if(Array.isArray(p)){for(var b=0,v=new Array(p.length);b<p.length;b++)v[b]=p[b];return v}}(s)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.applyMatrix=function(){var s=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,h(arguments.length<=0?void 0:arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},a.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},a.default.prototype.rotate=function(s,p){return a.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),p),this},a.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),a.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},a.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),a.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},a.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),a.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},a.default.prototype.scale=function(s,p,b){var v;return a.default._validateParameters("scale",arguments),s instanceof a.default.Vector?(s=(v=s).x,p=v.y,b=v.z):Array.isArray(s)&&(s=(v=s)[0],p=v[1],b=v[2]||1),isNaN(p)?p=b=s:isNaN(b)&&(b=1),this._renderer.scale(s,p,b),this},a.default.prototype.shearX=function(s){return a.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},a.default.prototype.shearY=function(s){return a.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},a.default.prototype.translate=function(s,p,b){return a.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,p,b):this._renderer.translate(s,p),this},t=a.default,c.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,m,c){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var h=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(b){return function(v){if(Array.isArray(v)){for(var i=0,f=new Array(v.length);i<v.length;i++)f[i]=v[i];return f}}(b)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(b){return(p=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(v){return a(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":a(v)})(b)}h.default.prototype.storeItem=function(b,v){typeof b!="string"&&console.log("The argument that you passed to storeItem() - ".concat(b," is not a string.")),b.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(b," must not end with 'p5TypeID'.")),v===void 0&&console.log("You cannot store undefined variables using storeItem().");var i=p(v);switch(i){case"number":case"boolean":v=v.toString();break;case"object":v instanceof h.default.Color?i="p5.Color":v instanceof h.default.Vector&&(i="p5.Vector",v=[v.x,v.y,v.z]),v=JSON.stringify(v)}localStorage.setItem(b,v),b="".concat(b,"p5TypeID"),localStorage.setItem(b,i)},h.default.prototype.getItem=function(b){var v=localStorage.getItem(b),i=localStorage.getItem("".concat(b,"p5TypeID"));if(i===void 0)console.log("Unable to determine type of item stored under ".concat(b,"in local storage. Did you save the item with something other than setItem()?"));else if(v!==null)switch(i){case"number":v=parseFloat(v);break;case"boolean":v=v==="true";break;case"object":v=JSON.parse(v);break;case"p5.Color":v=JSON.parse(v),v=this.color.apply(this,s(v.levels));break;case"p5.Vector":v=JSON.parse(v),v=this.createVector.apply(this,s(v))}return v},h.default.prototype.clearStorage=function(){var b=this;Object.keys(localStorage).forEach(function(v){v.endsWith("p5TypeID")&&b.removeItem(v.replace("p5TypeID",""))})},h.default.prototype.removeItem=function(b){typeof b!="string"&&console.log("The argument that you passed to removeItem() - ".concat(b," is not a string.")),localStorage.removeItem(b),localStorage.removeItem("".concat(b,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,m,c){function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(y)}function h(y){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(d){return a(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":a(d)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(y,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(d&&d.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),d&&b(y,d)}function b(y,d){return(b=Object.setPrototypeOf||function(l,w){return l.__proto__=w,l})(y,d)}function v(y){return function(){var d,l=i(y),l=(d=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(d=i(this).constructor,Reflect.construct(l,arguments,d)):l.apply(this,arguments),this);if(!d||h(d)!=="object"&&typeof d!="function"){if(l!==void 0)return l;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return d}}function i(y){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(y)}function f(y,d){if(!(y instanceof d))throw new TypeError("Cannot call a class as a function")}function u(y,d){for(var l=0;l<d.length;l++){var w=d[l];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}function g(y,d,l){d&&u(y.prototype,d)}s.default.prototype.createStringDict=function(y,d){return s.default._validateParameters("createStringDict",arguments),new s.default.StringDict(y,d)},s.default.prototype.createNumberDict=function(y,d){return s.default._validateParameters("createNumberDict",arguments),new s.default.NumberDict(y,d)},s.default.TypedDict=function(){function y(d,l){return f(this,y),d instanceof Object?this.data=d:(this.data={},this.data[d]=l),this}return g(y,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(d){return this.data.hasOwnProperty(d)}},{key:"get",value:function(d){if(this.data.hasOwnProperty(d))return this.data[d];console.log("".concat(d," does not exist in this Dictionary"))}},{key:"set",value:function(d,l){this._validate(l)?this.data[d]=l:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(d){for(var l in d)this.set(l,d[l])}},{key:"create",value:function(d,l){d instanceof Object&&l===void 0?this._addObj(d):d!==void 0?this.set(d,l):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(d){if(!this.data.hasOwnProperty(d))throw new Error("".concat(d," does not exist in this Dictionary"));delete this.data[d]}},{key:"print",value:function(){for(var d in this.data)console.log("key:".concat(d," value:").concat(this.data[d]))}},{key:"saveTable",value:function(d){var l,w="";for(l in this.data)w+="".concat(l,",").concat(this.data[l],`
`);var x=new Blob([w],{type:"text/csv"});s.default.prototype.downloadFile(x,d||"mycsv","csv")}},{key:"saveJSON",value:function(d,l){s.default.prototype.saveJSON(this.data,d,l)}},{key:"_validate",value:function(d){return!0}}]),y}(),s.default.StringDict=function(){p(d,s.default.TypedDict);var y=v(d);function d(){f(this,d);for(var l=arguments.length,w=new Array(l),x=0;x<l;x++)w[x]=arguments[x];return y.call.apply(y,[this].concat(w))}return g(d,[{key:"_validate",value:function(l){return typeof l=="string"}}]),d}(),s.default.NumberDict=function(){p(d,s.default.TypedDict);var y=v(d);function d(){f(this,d);for(var l=arguments.length,w=new Array(l),x=0;x<l;x++)w[x]=arguments[x];return y.call.apply(y,[this].concat(w))}return g(d,[{key:"_validate",value:function(l){return typeof l=="number"}},{key:"add",value:function(l,w){this.data.hasOwnProperty(l)?this.data[l]+=w:console.log("The key - ".concat(l," does not exist in this dictionary."))}},{key:"sub",value:function(l,w){this.add(l,-w)}},{key:"mult",value:function(l,w){this.data.hasOwnProperty(l)?this.data[l]*=w:console.log("The key - ".concat(l," does not exist in this dictionary."))}},{key:"div",value:function(l,w){this.data.hasOwnProperty(l)?this.data[l]/=w:console.log("The key - ".concat(l," does not exist in this dictionary."))}},{key:"_valueTest",value:function(l){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var w,x=this.data[Object.keys(this.data)[0]];for(w in this.data)this.data[w]*l<x*l&&(x=this.data[w]);return x}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(l){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var w=Object.keys(this.data)[0],x=1;x<Object.keys(this.data).length;x++)Object.keys(this.data)[x]*l<w*l&&(w=Object.keys(this.data)[x]);return w}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),d}(),t=s.default.TypedDict,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,m,c){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(x,_){for(var T=0;T<_.length;T++){var E=_[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}function p(x,_,T){_&&s(x.prototype,_),T&&s(x,T)}function b(x,_){return(b=Object.setPrototypeOf||function(T,E){return T.__proto__=E,T})(x,_)}function v(x){return function(){var _,T,E=f(x);return _=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=f(this).constructor,Reflect.construct(E,arguments,_)):E.apply(this,arguments),E=this,!(T=_)||g(T)!=="object"&&typeof T!="function"?i(E):T}}function i(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function f(x){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(x)}function u(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}function g(x){return(g=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(x)}function y(x,_,T){return(_._userNode||document.body).appendChild(x),T=new(T?h.default.MediaElement:h.default.Element)(x,_),_._elements.push(T),T}h.default.prototype.select=function(x,_){return h.default._validateParameters("select",arguments),_=this._getContainer(_).querySelector(x),_?this._wrapElement(_):null},h.default.prototype.selectAll=function(x,_){h.default._validateParameters("selectAll",arguments);var T=[],E=this._getContainer(_).querySelectorAll(x);if(E)for(var S=0;S<E.length;S++){var P=this._wrapElement(E[S]);T.push(P)}return T},h.default.prototype._getContainer=function(x){var _=document;return typeof x=="string"?_=document.querySelector(x)||document:x instanceof h.default.Element?_=x.elt:x instanceof HTMLElement&&(_=x),_},h.default.prototype._wrapElement=function(x){var _,T=Array.prototype.slice.call(x.children);return x.tagName==="INPUT"&&x.type==="checkbox"?((_=new h.default.Element(x,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},_):x.tagName==="VIDEO"||x.tagName==="AUDIO"?new h.default.MediaElement(x,this):x.tagName==="SELECT"?this.createSelect(new h.default.Element(x,this)):0<T.length&&T.every(function(E){return E.tagName==="INPUT"||E.tagName==="LABEL"})&&(x.tagName==="DIV"||x.tagName==="SPAN")?this.createRadio(new h.default.Element(x,this)):new h.default.Element(x,this)},h.default.prototype.removeElements=function(x){h.default._validateParameters("removeElements",arguments),this._elements.filter(function(_){return!(_.elt instanceof HTMLCanvasElement)}).map(function(_){return _.remove()})},h.default.Element.prototype.changed=function(x){return h.default.Element._adjustListener("change",x,this),this},h.default.Element.prototype.input=function(x){return h.default.Element._adjustListener("input",x,this),this},h.default.prototype.createDiv=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("div");return _.innerHTML=x,y(_,this)},h.default.prototype.createP=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("p");return _.innerHTML=x,y(_,this)},h.default.prototype.createSpan=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=document.createElement("span");return _.innerHTML=x,y(_,this)},h.default.prototype.createImg=function(){h.default._validateParameters("createImg",arguments);var x,_=document.createElement("img"),T=arguments;return 1<T.length&&typeof T[1]=="string"&&(_.alt=T[1]),2<T.length&&typeof T[2]=="string"&&(_.crossOrigin=T[2]),_.src=T[0],x=y(_,this),_.addEventListener("load",function(){x.width=_.offsetWidth||_.width,x.height=_.offsetHeight||_.height;var E=T[T.length-1];typeof E=="function"&&E(x)}),x},h.default.prototype.createA=function(x,_,T){h.default._validateParameters("createA",arguments);var E=document.createElement("a");return E.href=x,E.innerHTML=_,T&&(E.target=T),y(E,this)},h.default.prototype.createSlider=function(x,_,T,E){h.default._validateParameters("createSlider",arguments);var S=document.createElement("input");return S.type="range",S.min=x,S.max=_,E===0?S.step=1e-18:E&&(S.step=E),typeof T=="number"&&(S.value=T),y(S,this)},h.default.prototype.createButton=function(x,_){h.default._validateParameters("createButton",arguments);var T=document.createElement("button");return T.innerHTML=x,_&&(T.value=_),y(T,this)},h.default.prototype.createCheckbox=function(){for(var x=arguments.length,_=new Array(x),T=0;T<x;T++)_[T]=arguments[T];h.default._validateParameters("createCheckbox",_);var E=document.createElement("div"),S=document.createElement("input"),P=(S.type="checkbox",document.createElement("label")),N=(P.appendChild(S),E.appendChild(P),y(E,this));return N.checked=function(){var C=N.elt.firstElementChild.getElementsByTagName("input")[0];if(C){if(arguments.length===0)return C.checked;C.checked=!(arguments.length<=0||!arguments[0])}return N},this.value=function(C){return N.value=C,this},_[0]&&(N.value(_[0]),(E=document.createElement("span")).innerHTML=_[0],P.appendChild(E)),_[1]&&(S.checked=!0),N},h.default.prototype.createSelect=function(){for(var x,_=arguments.length,T=new Array(_),E=0;E<_;E++)T[E]=arguments[E];h.default._validateParameters("createSelect",T);var S,P=T[0];return P instanceof h.default.Element&&P.elt instanceof HTMLSelectElement?this.elt=(x=P).elt:P instanceof HTMLSelectElement?(x=y(P,this),this.elt=P):(S=document.createElement("select"),P&&typeof P=="boolean"&&S.setAttribute("multiple","true"),x=y(S,this),this.elt=S),x.option=function(N,C){var I;if(N!==void 0){for(var L,F=0;F<this.elt.length;F+=1)if(this.elt[F].textContent===N){I=F;break}I!==void 0?C===!1?this.elt.remove(I):this.elt[I].value=C:((L=document.createElement("option")).textContent=N,L.value=C===void 0?N:C,this.elt.appendChild(L),this._pInst._elements.push(L))}},x.selected=function(N){if(N!==void 0){for(var C=0;C<this.elt.length;C+=1)this.elt[C].value.toString()===N.toString()&&(this.elt.selectedIndex=C);return this}if(this.elt.getAttribute("multiple")){var I=[],L=!0,F=!1,D=void 0;try{for(var B,$=this.elt.selectedOptions[Symbol.iterator]();!(L=(B=$.next()).done);L=!0){var V=B.value;I.push(V.value)}}catch(H){F=!0,D=H}finally{try{L||$.return==null||$.return()}finally{if(F)throw D}}return I}return this.elt.value},x.disable=function(N){if(typeof N=="string")for(var C=0;C<this.elt.length;C++)this.elt[C].value.toString()===N&&(this.elt[C].disabled=!0,this.elt[C].selected=!1);else this.elt.disabled=!0;return this},x.enable=function(N){if(typeof N=="string")for(var C=0;C<this.elt.length;C++)this.elt[C].value.toString()===N&&(this.elt[C].disabled=!1,this.elt[C].selected=!1);else{this.elt.disabled=!1;for(var I=0;I<this.elt.length;I++)this.elt[I].disabled=!1,this.elt[I].selected=!1}return this},x};var d=0;function l(x,N,T,E){var S=document.createElement(N),P=(typeof(T=T||"")=="string"&&(T=[T]),!0),N=!1,C=void 0;try{for(var I,L=T[Symbol.iterator]();!(P=(I=L.next()).done);P=!0){var F=I.value,D=document.createElement("source");D.setAttribute("src",F),S.appendChild(D)}}catch($){N=!0,C=$}finally{try{P||L.return==null||L.return()}finally{if(N)throw C}}var B=y(S,x,!0);return B.loadedmetadata=!1,S.addEventListener("loadedmetadata",function(){B.width=S.videoWidth,B.height=S.videoHeight,B.elt.width===0&&(B.elt.width=S.videoWidth),B.elt.height===0&&(B.elt.height=S.videoHeight),B.presetPlaybackRate&&(B.elt.playbackRate=B.presetPlaybackRate,delete B.presetPlaybackRate),B.loadedmetadata=!0}),typeof E=="function"&&S.addEventListener("canplaythrough",function $(){E(B),S.removeEventListener("canplaythrough",$)}),B}h.default.prototype.createRadio=function(){function x(N){return N instanceof HTMLInputElement&&N.type==="radio"}function _(N){return N instanceof HTMLLabelElement}var T,E,S,P=arguments.length<=0?void 0:arguments[0];return P instanceof h.default.Element&&(P.elt instanceof HTMLDivElement||P.elt instanceof HTMLSpanElement)?(T=P,this.elt=P.elt):P instanceof HTMLDivElement||P instanceof HTMLSpanElement?(T=y(P,this),E=this.elt=P,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(S=arguments.length<=1?void 0:arguments[1])):(typeof P=="string"&&(S=P),E=document.createElement("div"),T=y(E,this),this.elt=E),T._name=S||"radioOption_".concat(d++),T._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(N){return x(N)||_(N)&&x(N.firstElementChild)}).map(function(N){return x(N)?N:N.firstElementChild})},T.option=function(N,C){var I,L,F,D=!0,B=!1,$=void 0;try{for(var V,H=T._getOptionsArray()[Symbol.iterator]();!(D=(V=H.next()).done);D=!0){var X=V.value;if(X.value===N){I=X;break}}}catch(Q){B=!0,$=Q}finally{try{D||H.return==null||H.return()}finally{if(B)throw $}}return I===void 0&&((I=document.createElement("input")).setAttribute("type","radio"),I.setAttribute("value",N)),I.setAttribute("name",T._name),_(I.parentElement)?L=I.parentElement:(L=document.createElement("label")).insertAdjacentElement("afterbegin",I),L.lastElementChild instanceof HTMLSpanElement?F=L.lastElementChild:(F=document.createElement("span"),I.insertAdjacentElement("afterend",F)),F.innerHTML=C===void 0?N:C,this.elt.appendChild(L),I},T.remove=function(N){var C=!0,I=!1,L=void 0;try{for(var F,D=T._getOptionsArray()[Symbol.iterator]();!(C=(F=D.next()).done);C=!0){var B=F.value;if(B.value===N)return void(_(B.parentElement)?B.parentElement:B).remove()}}catch($){I=!0,L=$}finally{try{C||D.return==null||D.return()}finally{if(I)throw L}}},T.value=function(){var N="",C=!0,I=!1,L=void 0;try{for(var F,D=T._getOptionsArray()[Symbol.iterator]();!(C=(F=D.next()).done);C=!0){var B=F.value;if(B.checked){N=B.value;break}}}catch($){I=!0,L=$}finally{try{C||D.return==null||D.return()}finally{if(I)throw L}}return N},T.selected=function(N){var C=null;if(N===void 0){var I=!0,L=!1,F=void 0;try{for(var D,B=T._getOptionsArray()[Symbol.iterator]();!(I=(D=B.next()).done);I=!0){var $=D.value;if($.checked){C=$;break}}}catch(se){L=!0,F=se}finally{try{I||B.return==null||B.return()}finally{if(L)throw F}}}else{T._getOptionsArray().forEach(function(R){R.checked=!1,R.removeAttribute("checked")});var V=!0,L=!1,F=void 0;try{for(var H,X=T._getOptionsArray()[Symbol.iterator]();!(V=(H=X.next()).done);V=!0){var Q=H.value;Q.value===N&&(Q.setAttribute("checked",!0),Q.checked=!0,C=Q)}}catch(R){L=!0,F=R}finally{try{V||X.return==null||X.return()}finally{if(L)throw F}}}return C},T.disable=function(){var N=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],C=!0,I=!1,L=void 0;try{for(var F,D=T._getOptionsArray()[Symbol.iterator]();!(C=(F=D.next()).done);C=!0)F.value.setAttribute("disabled",N)}catch(B){I=!0,L=B}finally{try{C||D.return==null||D.return()}finally{if(I)throw L}}},T},h.default.prototype.createColorPicker=function(x){h.default._validateParameters("createColorPicker",arguments);var _=document.createElement("input");return _.type="color",x?x instanceof h.default.Color?_.value=x.toString("#rrggbb"):(h.default.prototype._colorMode="rgb",h.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},_.value=h.default.prototype.color(x).toString("#rrggbb")):_.value="#000000",(_=y(_,this)).color=function(){return x&&(x.mode&&(h.default.prototype._colorMode=x.mode),x.maxes&&(h.default.prototype._colorMaxes=x.maxes)),h.default.prototype.color(this.elt.value)},_},h.default.prototype.createInput=function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",T=(h.default._validateParameters("createInput",arguments),document.createElement("input"));return T.setAttribute("value",x),T.setAttribute("type",_),y(T,this)},h.default.prototype.createFileInput=function(x){var _,T=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(h.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(_=document.createElement("input")).setAttribute("type","file"),T&&_.setAttribute("multiple",!0),_.addEventListener("change",function(E){var S=!0,P=!1,N=void 0;try{for(var C,I=E.target.files[Symbol.iterator]();!(S=(C=I.next()).done);S=!0){var L=C.value;h.default.File._load(L,x)}}catch(F){P=!0,N=F}finally{try{S||I.return==null||I.return()}finally{if(P)throw N}}},!1),y(_,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},h.default.prototype.createVideo=function(x,_){return h.default._validateParameters("createVideo",arguments),l(this,"video",x,_)},h.default.prototype.createAudio=function(x,_){return h.default._validateParameters("createAudio",arguments),l(this,"audio",x,_)},h.default.prototype.VIDEO="video",h.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(x){var _=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return _?new Promise(function(T,E){_.call(navigator,x,T,E)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),h.default.prototype.createCapture=function(){for(var x=arguments.length,_=new Array(x),T=0;T<x;T++)_[T]=arguments[T];if(h.default._validateParameters("createCapture",_),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var E,S=!0,P=!0,N=!1,C=0,I=_;C<I.length;C++){var L=I[C];L===h.default.prototype.VIDEO?P=!1:L===h.default.prototype.AUDIO?S=!1:g(L)==="object"?(L.flipped!==void 0&&(N=L.flipped,delete L.flipped),F=Object.assign({},F,L)):typeof L=="function"&&(E=L)}var F=Object.assign({},{video:S,audio:P},F),D=document.createElement("video"),B=(D.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(F).then(function($){try{"srcObject"in D?D.srcObject=$:D.src=window.URL.createObjectURL($)}catch{D.src=$}}).catch(function($){$.name==="NotFoundError"&&h.default._friendlyError("No webcam found on this device","createCapture"),$.name==="NotAllowedError"&&h.default._friendlyError("Access to the camera was denied","createCapture"),console.error($)}),y(D,this,!0));return B.loadedmetadata=!1,D.addEventListener("loadedmetadata",function(){D.play(),D.width?(B.width=D.width,B.height=D.height,N&&(B.elt.style.transform="scaleX(-1)")):(B.width=B.elt.width=D.videoWidth,B.height=B.elt.height=D.videoHeight),B.loadedmetadata=!0,E&&E(D.srcObject)}),B.flipped=N,B},h.default.prototype.createElement=function(x,_){return h.default._validateParameters("createElement",arguments),x=document.createElement(x),_!==void 0&&(x.innerHTML=_),y(x,this)},h.default.Element.prototype.addClass=function(x){return this.elt.className?this.hasClass(x)||(this.elt.className=this.elt.className+" "+x):this.elt.className=x,this},h.default.Element.prototype.removeClass=function(x){return this.elt.classList.remove(x),this},h.default.Element.prototype.hasClass=function(x){return this.elt.classList.contains(x)},h.default.Element.prototype.toggleClass=function(x){return this.elt.classList.contains(x)?this.elt.classList.remove(x):this.elt.classList.add(x),this},h.default.Element.prototype.child=function(x){return x===void 0?this.elt.childNodes:(typeof x=="string"?(x[0]==="#"&&(x=x.substring(1)),x=document.getElementById(x)):x instanceof h.default.Element&&(x=x.elt),x instanceof HTMLElement&&this.elt.appendChild(x),this)},h.default.Element.prototype.center=function(x){var _=this.elt.style.display,T=this.elt.style.display==="none",E=this.parent().style.display==="none",S={x:this.elt.offsetLeft,y:this.elt.offsetTop},P=(T&&this.show(),E&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),N=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return x==="both"||x===void 0?this.position(P/2+this.parent().offsetLeft,N/2+this.parent().offsetTop):x==="horizontal"?this.position(P/2+this.parent().offsetLeft,S.y):x==="vertical"&&this.position(S.x,N/2+this.parent().offsetTop),this.style("display",_),T&&this.hide(),E&&this.parent().hide(),this},h.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},h.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},h.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var x="";return this.elt.style.transform&&(x=(x=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=x,this},h.default.Element.prototype._rotate=function(){var x="";return this.elt.style.transform&&(x=(x=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=x,this},h.default.Element.prototype.style=function(x,_){if((_=_ instanceof h.default.Color?"rgba("+_.levels[0]+","+_.levels[1]+","+_.levels[2]+","+_.levels[3]/255+")":_)===void 0){if(x.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(x);for(var T=x.split(";"),E=0;E<T.length;E++){var S=T[E].split(":");S[0]&&S[1]&&(this.elt.style[S[0].trim()]=S[1].trim())}}else this.elt.style[x]=_,x!=="width"&&x!=="height"&&x!=="left"&&x!=="top"||(_=window.getComputedStyle(this.elt).getPropertyValue(x).replace(/[^\d.]/g,""),this[x]=Math.round(parseFloat(_,10)));return this},h.default.Element.prototype.attribute=function(x,_){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return _===void 0?this.elt.getAttribute(x):(this.elt.setAttribute(x,_),this);if(_===void 0)return this.elt.firstChild.getAttribute(x);for(var T=0;T<this.elt.childNodes.length;T++)this.elt.childNodes[T].setAttribute(x,_)},h.default.Element.prototype.removeAttribute=function(x){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var _=0;_<this.elt.childNodes.length;_++)this.elt.childNodes[_].removeAttribute(x);return this.elt.removeAttribute(x),this},h.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},h.default.Element.prototype.show=function(){return this.elt.style.display="block",this},h.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},h.default.Element.prototype.size=function(x,_){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var T=x,E=_,S=h.default.prototype.AUTO;if(T!==S||E!==S){if(T===S?T=_*this.width/this.height:E===S&&(E=x*this.height/this.width),this.elt instanceof HTMLCanvasElement){var P,N={},C=this.elt.getContext("2d");for(P in C)N[P]=C[P];for(P in this.elt.setAttribute("width",T*this._pInst._pixelDensity),this.elt.setAttribute("height",E*this._pInst._pixelDensity),this.elt.style.width=T+"px",this.elt.style.height=E+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),N)this.elt.getContext("2d")[P]=N[P]}else this.elt.style.width=T+"px",this.elt.style.height=E+"px",this.elt.width=T,this.elt.height=E;this.width=T,this.height=E,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",T),this._pInst._setProperty("height",E))}return this},h.default.Element.prototype.remove=function(){this instanceof h.default.MediaElement&&(this.stop(),(_=this.elt.srcObject)!==null&&_.getTracks().forEach(function(T){T.stop()}));var x,_=this._pInst._elements.indexOf(this);for(x in _!==-1&&this._pInst._elements.splice(_,1),this._events)this.elt.removeEventListener(x,this._events[x]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},h.default.Element.prototype.drop=function(x,_){var T;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",T=function(E){E.preventDefault()}),this.elt.addEventListener("dragleave",T)),h.default.Element._attachListener("drop",function(S){S.preventDefault(),typeof _=="function"&&_.call(this,S);var S=S.dataTransfer.files,P=!0,N=!1,C=void 0;try{for(var I,L=S[Symbol.iterator]();!(P=(I=L.next()).done);P=!0){var F=I.value;h.default.File._load(F,x)}}catch(D){N=!0,C=D}finally{try{P||L.return==null||L.return()}finally{if(N)throw C}}},this)):console.log("The File APIs are not fully supported in this browser."),this},h.default.Element.prototype.draggable=function(x){var _,T="ontouchstart"in window,E=0,S=0,P=0,N=0,C=T?"touchend":"mouseup",I=T?"touchmove":"mousemove";function L(D){var B;D=D||window.event,N=T?(B=D.changedTouches,E=P-parseInt(B[0].clientX),S=N-parseInt(B[0].clientY),P=parseInt(B[0].clientX),parseInt(B[0].clientY)):(E=P-parseInt(D.clientX),S=N-parseInt(D.clientY),P=parseInt(D.clientX),parseInt(D.clientY)),x.style.left=x.offsetLeft-E+"px",x.style.top=x.offsetTop-S+"px"}function F(){document.removeEventListener(C,F,!1),document.removeEventListener(I,L,!1)}return x===void 0?_=x=this.elt:x!==this.elt&&x.elt!==this.elt&&(x=x.elt,_=this.elt),_.addEventListener(T?"touchstart":"mousedown",function(D){{var B;D=D||window.event,N=T?(B=D.changedTouches,P=parseInt(B[0].clientX),parseInt(B[0].clientY)):(P=parseInt(D.clientX),parseInt(D.clientY))}return document.addEventListener(C,F,!1),document.addEventListener(I,L,!1),!1},!1),_.style.cursor="move",this};function w(x,_,T,E){u(this,w),this.callback=x,this.time=_,this.id=T,this.val=E}t=function(x){var _=E;if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),x&&b(_,x);var T=v(E);function E(S,P){u(this,E);var N=i(P=T.call(this,S,P));return P.elt.crossOrigin="anonymous",P._prevTime=0,P._cueIDCounter=0,P._cues=[],P.pixels=[],P._pixelsState=i(P),P._pixelDensity=1,P._modified=!1,P._frameOnCanvas=-1,Object.defineProperty(N,"src",{get:function(){var C=N.elt.children[0].src,I=N.elt.src===window.location.href?"":N.elt.src;return C===window.location.href?I:C},set:function(C){for(var I=0;I<N.elt.children.length;I++)N.elt.removeChild(N.elt.children[I]);var L=document.createElement("source");L.src=C,S.appendChild(L),N.elt.src=C,N.modified=!0}}),N._onended=function(){},N.elt.onended=function(){N._onended(N)},P}return p(E,[{key:"play",value:function(){var S;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(S=this.elt.play())&&S.catch&&S.catch(function(P){P.name==="NotAllowedError"?console.error(P):console.error("Media play method encountered an unexpected error",P)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var S=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(S)},{passive:!0,once:!0})}},{key:"autoplay",value:function(S){var P=this,N=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",S),S&&!N&&(S=function(){return P._setupAutoplayFailDetection()},this.elt.readyState===4?S():this.elt.addEventListener("canplay",S,{passive:!0,once:!0})),this}},{key:"volume",value:function(S){if(S===void 0)return this.elt.volume;this.elt.volume=S}},{key:"speed",value:function(S){if(S===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=S:this.presetPlaybackRate=S}},{key:"time",value:function(S){return S===void 0?this.elt.currentTime:(this.elt.currentTime=S,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var S=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&S&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var S=arguments.length,P=new Array(S),N=0;N<S;N++)P[N]=arguments[N];return h.default.Renderer2D.prototype.loadPixels.apply(this,P)}},{key:"updatePixels",value:function(S,P,N,C){return this.loadedmetadata&&(this._ensureCanvas(),h.default.Renderer2D.prototype.updatePixels.call(this,S,P,N,C)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var S=arguments.length,P=new Array(S),N=0;N<S;N++)P[N]=arguments[N];return h.default.Renderer2D.prototype.get.apply(this,P)}},{key:"_getPixel",value:function(){this.loadPixels();for(var S=arguments.length,P=new Array(S),N=0;N<S;N++)P[N]=arguments[N];return h.default.Renderer2D.prototype._getPixel.apply(this,P)}},{key:"set",value:function(S,P,N){this.loadedmetadata&&(this._ensureCanvas(),h.default.Renderer2D.prototype.set.call(this,S,P,N),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var S=arguments.length,P=new Array(S),N=0;N<S;N++)P[N]=arguments[N];h.default.prototype.copy.apply(this,P)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var S=arguments.length,P=new Array(S),N=0;N<S;N++)P[N]=arguments[N];h.default.Image.prototype.mask.apply(this,P)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(S){this._modified=S}},{key:"onended",value:function(S){return this._onended=S,this}},{key:"connect",value:function(S){var P,N;if(typeof h.default.prototype.getAudioContext=="function")P=h.default.prototype.getAudioContext(),N=h.default.soundOut.input;else try{N=(P=S.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=P.createMediaElementSource(this.elt),this.audioSourceNode.connect(N)),S?S.input?this.audioSourceNode.connect(S.input):this.audioSourceNode.connect(S):this.audioSourceNode.connect(N)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(S,I,N){var C=this._cueIDCounter++,I=new w(I,S,C,N);return this._cues.push(I),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),C}},{key:"removeCue",value:function(S){for(var P=0;P<this._cues.length;P++)this._cues[P].id===S&&(console.log(S),this._cues.splice(P,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var S=this.time(),P=0;P<this._cues.length;P++){var N=this._cues[P].time,C=this._cues[P].val;this._prevTime<N&&N<=S&&this._cues[P].callback(C)}this._prevTime=S}}]),E}(h.default.Element),h.default.MediaElement=t,t=function(){function x(_,T){u(this,x),this.file=_,this._pInst=T,T=_.type.split("/"),this.type=T[0],this.subtype=T[1],this.name=_.name,this.size=_.size,this.data=void 0}return p(x,null,[{key:"_createLoader",value:function(_,T){var E=new FileReader;return E.onload=function(S){var P,N=new h.default.File(_);N.file.type==="application/json"?N.data=JSON.parse(S.target.result):N.file.type==="text/xml"?(P=new DOMParser().parseFromString(S.target.result,"text/xml"),N.data=new h.default.XML(P.documentElement)):N.data=S.target.result,T(N)},E}},{key:"_load",value:function(_,T){var E;/^text\//.test(_.type)||_.type==="application/json"?h.default.File._createLoader(_,T).readAsText(_):/^(video|audio)\//.test(_.type)?((E=new h.default.File(_)).data=URL.createObjectURL(_),T(E)):h.default.File._createLoader(_,T).readAsDataURL(_)}}]),x}(),h.default.File=t,t=h.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(g,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(g=g("../core/main"))&&g.__esModule?g:{default:g};a.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",a.default.prototype.accelerationX=0,a.default.prototype.accelerationY=0,a.default.prototype.accelerationZ=0,a.default.prototype.pAccelerationX=0,a.default.prototype.pAccelerationY=0,a.default.prototype.pAccelerationZ=0,a.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},a.default.prototype.rotationX=0,a.default.prototype.rotationY=0,a.default.prototype.rotationZ=0,a.default.prototype.pRotationX=0,a.default.prototype.pRotationY=0;var h=a.default.prototype.pRotationZ=0,s=0,p=0,b="clockwise",v="clockwise",i="clockwise",f=(a.default.prototype.pRotateDirectionX=void 0,a.default.prototype.pRotateDirectionY=void 0,a.default.prototype.pRotateDirectionZ=void 0,a.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},a.default.prototype.turnAxis=void 0,.5),u=30,g=(a.default.prototype.setMoveThreshold=function(y){a.default._validateParameters("setMoveThreshold",arguments),f=y},a.default.prototype.setShakeThreshold=function(y){a.default._validateParameters("setShakeThreshold",arguments),u=y},a.default.prototype._ondeviceorientation=function(y){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(y.beta)),this._setProperty("rotationY",this._fromDegrees(y.gamma)),this._setProperty("rotationZ",this._fromDegrees(y.alpha)),this._handleMotion()},a.default.prototype._ondevicemotion=function(y){this._updatePAccelerations(),this._setProperty("accelerationX",2*y.acceleration.x),this._setProperty("accelerationY",2*y.acceleration.y),this._setProperty("accelerationZ",2*y.acceleration.z),this._handleMotion()},a.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var y,d,l,w,x,_=this._isGlobal?window:this;typeof _.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>f||Math.abs(this.accelerationY-this.pAccelerationY)>f||Math.abs(this.accelerationZ-this.pAccelerationZ)>f)&&_.deviceMoved(),typeof _.deviceTurned=="function"&&(d=this._toDegrees(this.rotationX)+180,l=this._toDegrees(this.pRotationX)+180,y=h+180,0<d-l&&d-l<270||d-l<-270?b="clockwise":(d-l<0||270<d-l)&&(b="counter-clockwise"),b!==this.pRotateDirectionX&&(y=d),90<Math.abs(d-y)&&Math.abs(d-y)<270&&(y=d,this._setProperty("turnAxis","X"),_.deviceTurned()),this.pRotateDirectionX=b,h=y-180,l=this._toDegrees(this.rotationY)+180,d=this._toDegrees(this.pRotationY)+180,y=s+180,0<l-d&&l-d<270||l-d<-270?v="clockwise":(l-d<0||270<l-this.pRotationY)&&(v="counter-clockwise"),v!==this.pRotateDirectionY&&(y=l),90<Math.abs(l-y)&&Math.abs(l-y)<270&&(y=l,this._setProperty("turnAxis","Y"),_.deviceTurned()),this.pRotateDirectionY=v,s=y-180,0<(d=this._toDegrees(this.rotationZ))-(l=this._toDegrees(this.pRotationZ))&&d-l<270||d-l<-270?i="clockwise":(d-l<0||270<d-l)&&(i="counter-clockwise"),i!==this.pRotateDirectionZ&&(p=d),90<Math.abs(d-p)&&Math.abs(d-p)<270&&(p=d,this._setProperty("turnAxis","Z"),_.deviceTurned()),this.pRotateDirectionZ=i,this._setProperty("turnAxis",void 0)),typeof _.deviceShaken=="function"&&(this.pAccelerationX!==null&&(w=Math.abs(this.accelerationX-this.pAccelerationX),x=Math.abs(this.accelerationY-this.pAccelerationY)),u<w+x&&_.deviceShaken())},a.default);c.default=g},{"../core/main":283}],301:[function(t,m,c){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.isKeyPressed=!1,a.default.prototype.keyIsPressed=!1,a.default.prototype.key="",a.default.prototype.keyCode=0,a.default.prototype._onkeydown=function(h){var s;h.repeat?this._setProperty("isKeyRepeated",!0):(this._setProperty("isKeyRepeated",!1),this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",h.which),this._downKeys[h.which]=!0,this._setProperty("key",h.key||String.fromCharCode(h.which)||h.which),h.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(h.which)),typeof(s=this._isGlobal?window:this).keyPressed!="function"||h.charCode||s.keyPressed(h)===!1&&h.preventDefault())},a.default.prototype._onkeyup=function(h){var s=this,p=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[h.which]=!1,h.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(b){s._downKeys[b]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof p.keyReleased=="function"&&p.keyReleased(h)===!1&&h.preventDefault()},a.default.prototype._onkeypress=function(h){var s;h.which===this._lastKeyCodeTyped&&this.isKeyRepeated||(this._setProperty("_lastKeyCodeTyped",h.which),this._setProperty("key",h.key||String.fromCharCode(h.which)||h.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(h)===!1&&h.preventDefault())},a.default.prototype._onblur=function(h){this._downKeys={}},a.default.prototype.keyIsDown=function(h){return a.default._validateParameters("keyIsDown",arguments),this._downKeys[h]||!1},a.default.prototype._areDownKeys=function(){for(var h in this._downKeys)if(this._downKeys.hasOwnProperty(h)&&this._downKeys[h]===!0)return!0;return!1},t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,m,c){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(v)}function h(v){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(i){return a(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":a(i)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(s=t("../core/main"))&&s.__esModule?s:{default:s},p=function(v){if(v&&v.__esModule)return v;if(v===null||h(v)!=="object"&&typeof v!="function")return{default:v};var i=b();if(i&&i.has(v))return i.get(v);var f,u={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in v){var y;Object.prototype.hasOwnProperty.call(v,f)&&((y=g?Object.getOwnPropertyDescriptor(v,f):null)&&(y.get||y.set)?Object.defineProperty(u,f,y):u[f]=v[f])}return u.default=v,i&&i.set(v,u),u}(t("../core/constants"));function b(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,b=function(){return v},v)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(v){var i,f,u,g,y;this._curElement!==null&&(!v.touches||0<v.touches.length)&&(i=this._curElement.elt,f=this.width,u=this.height,(g=v)&&!g.clientX&&(g.touches?g=g.touches[0]:g.changedTouches&&(g=g.changedTouches[0])),y=i.getBoundingClientRect(),f=i.scrollWidth/f||1,i=i.scrollHeight/u||1,u={x:(g.clientX-y.left)/f,y:(g.clientY-y.top)/i,winX:g.clientX,winY:g.clientY,id:g.identifier},this._setProperty("mouseX",u.x),this._setProperty("mouseY",u.y),this._setProperty("winMouseX",u.winX),this._setProperty("winMouseY",u.winY),document.pointerLockElement===null?(f=this.mouseX-this.pmouseX,y=this.mouseY-this.pmouseY,this._setProperty("movedX",f),this._setProperty("movedY",y)):(this._setProperty("movedX",v.movementX),this._setProperty("movedY",v.movementY))),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(v){v.button===1?this._setProperty("mouseButton",p.CENTER):v.button===2?this._setProperty("mouseButton",p.RIGHT):this._setProperty("mouseButton",p.LEFT)},s.default.prototype._onmousemove=function(v){var i=this._isGlobal?window:this;this._updateNextMouseCoords(v),this.mouseIsPressed?typeof i.mouseDragged=="function"?i.mouseDragged(v)===!1&&v.preventDefault():typeof i.touchMoved=="function"&&i.touchMoved(v)===!1&&v.preventDefault():typeof i.mouseMoved=="function"&&i.mouseMoved(v)===!1&&v.preventDefault()},s.default.prototype._onmousedown=function(v){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(v),this._updateNextMouseCoords(v),this.touchstart||(typeof i.mousePressed=="function"?i.mousePressed(v)===!1&&v.preventDefault():typeof i.touchStarted=="function"&&i.touchStarted(v)===!1&&v.preventDefault(),this.touchstart=!1)},s.default.prototype._onmouseup=function(v){var i=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof i.mouseReleased=="function"?i.mouseReleased(v)===!1&&v.preventDefault():typeof i.touchEnded=="function"&&i.touchEnded(v)===!1&&v.preventDefault(),this.touchend=!1)},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(v){var i=this._isGlobal?window:this;typeof i.mouseClicked=="function"&&i.mouseClicked(v)===!1&&v.preventDefault()},s.default.prototype._ondblclick=function(v){var i=this._isGlobal?window:this;typeof i.doubleClicked=="function"&&i.doubleClicked(v)===!1&&v.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(v){var i=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",v.deltaY),typeof i.mouseWheel=="function"&&(v.delta=v.deltaY,i.mouseWheel(v)===!1&&v.preventDefault())},s.default.prototype.requestPointerLock=function(){var v=this._curElement.elt;return v.requestPointerLock=v.requestPointerLock||v.mozRequestPointerLock,v.requestPointerLock?(v.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=s.default,c.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(a){if(this._curElement!==null){for(var h=[],s=0;s<a.touches.length;s++)h[s]=function(y,g,d,i){var f=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,u=y.getBoundingClientRect(),g=y.scrollWidth/g||1,y=y.scrollHeight/d||1,d=i.touches[f]||i.changedTouches[f];return{x:(d.clientX-u.left)/g,y:(d.clientY-u.top)/y,winX:d.clientX,winY:d.clientY,id:d.identifier}}(this._curElement.elt,this.width,this.height,a,s);this._setProperty("touches",h)}},t.default.prototype._ontouchstart=function(a){var h=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(a),this._updateNextMouseCoords(a),this._updateMouseCoords(),typeof h.touchStarted=="function"&&(h.touchStarted(a)===!1&&a.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(a){var h=this._isGlobal?window:this;this._updateTouchCoords(a),this._updateNextMouseCoords(a),typeof h.touchMoved=="function"?h.touchMoved(a)===!1&&a.preventDefault():typeof h.mouseDragged=="function"&&h.mouseDragged(a)===!1&&a.preventDefault()},t.default.prototype._ontouchend=function(a){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(a),this._updateNextMouseCoords(a);var h=this._isGlobal?window:this;typeof h.touchEnded=="function"&&(h.touchEnded(a)===!1&&a.preventDefault(),this.touchend=!0)},t=t.default,c.default=t},{"../core/main":283}],304:[function(t,m,c){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a,h,s,p,b={_toPixels:function(v){var i,f;return v instanceof ImageData?v.data:v.getContext("2d")?v.getContext("2d").getImageData(0,0,v.width,v.height).data:v.getContext("webgl")?(f=(i=v.getContext("webgl")).drawingBufferWidth*i.drawingBufferHeight*4,f=new Uint8Array(f),i.readPixels(0,0,v.width,v.height,i.RGBA,i.UNSIGNED_BYTE,f),f):void 0},_getARGB:function(v,i){return i*=4,v[3+i]<<24&4278190080|v[i]<<16&16711680|v[1+i]<<8&65280|255&v[2+i]},_setPixels:function(v,i){for(var f,u=0,g=v.length;u<g;u++)v[0+(f=4*u)]=(16711680&i[u])>>>16,v[1+f]=(65280&i[u])>>>8,v[2+f]=255&i[u],v[3+f]=(4278190080&i[u])>>>24},_toImageData:function(v){return v instanceof ImageData?v:v.getContext("2d").getImageData(0,0,v.width,v.height)},_createImageData:function(v,i){return b._tmpCanvas=document.createElement("canvas"),b._tmpCtx=b._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(v,i)},apply:function(v,y,f){var u=v.getContext("2d"),g=u.getImageData(0,0,v.width,v.height),y=y(g,f);y instanceof ImageData?u.putImageData(y,0,0,0,0,v.width,v.height):u.putImageData(g,0,0,0,0,v.width,v.height)},threshold:function(v){for(var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,f=b._toPixels(v),u=Math.floor(255*i),g=0;g<f.length;g+=4){var y=void 0,y=u<=.2126*f[g]+.7152*f[g+1]+.0722*f[g+2]?255:0;f[g]=f[g+1]=f[g+2]=y}},gray:function(v){for(var i=b._toPixels(v),f=0;f<i.length;f+=4){var u=i[f],g=i[f+1],y=i[f+2];i[f]=i[f+1]=i[f+2]=.2126*u+.7152*g+.0722*y}},opaque:function(v){for(var i=b._toPixels(v),f=0;f<i.length;f+=4)i[f+3]=255;return i},invert:function(v){for(var i=b._toPixels(v),f=0;f<i.length;f+=4)i[f]=255-i[f],i[f+1]=255-i[f+1],i[f+2]=255-i[f+2]},posterize:function(v){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,f=b._toPixels(v);if(i<2||255<i)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var u=i-1,g=0;g<f.length;g+=4){var y=f[g],d=f[g+1],l=f[g+2];f[g]=255*(y*i>>8)/u,f[g+1]=255*(d*i>>8)/u,f[g+2]=255*(l*i>>8)/u}},dilate:function(v){for(var i,f,u,g,y,d,l,w,x,_=b._toPixels(v),T=0,E=_.length?_.length/4:0,S=new Int32Array(E);T<E;)for(f=(i=T)+v.width;T<f;)g=u=b._getARGB(_,T),(x=T-1)<i&&(x=T),f<=(w=T+1)&&(w=T),(y=T-v.width)<0&&(y=0),E<=(d=T+v.width)&&(d=T),y=b._getARGB(_,y),x=b._getARGB(_,x),d=b._getARGB(_,d),(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(l=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))&&(u=x,g=l),g<(l=77*((x=b._getARGB(_,w))>>16&255)+151*(x>>8&255)+28*(255&x))&&(u=x,g=l),g<(w=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(u=y,g=w),g<(x=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(u=d,g=x),S[T++]=u;b._setPixels(_,S)},erode:function(v){for(var i,f,u,g,y,d,l,w,x,_=b._toPixels(v),T=0,E=_.length?_.length/4:0,S=new Int32Array(E);T<E;)for(f=(i=T)+v.width;T<f;)g=u=b._getARGB(_,T),(x=T-1)<i&&(x=T),f<=(w=T+1)&&(w=T),(y=T-v.width)<0&&(y=0),E<=(d=T+v.width)&&(d=T),y=b._getARGB(_,y),x=b._getARGB(_,x),d=b._getARGB(_,d),(l=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))<(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(u=x,g=l),(l=77*((x=b._getARGB(_,w))>>16&255)+151*(x>>8&255)+28*(255&x))<g&&(u=x,g=l),(w=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<g&&(u=y,g=w),(x=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<g&&(u=d,g=x),S[T++]=u;b._setPixels(_,S)},blur:function(v,i){for(var f,u,g,y,d,l,w,x,_,T,E=b._toPixels(v),S=v.width,P=v.height,N=S*P,C=new Int32Array(N),I=0;I<N;I++)C[I]=b._getARGB(E,I);var L,F,D,B,$,V,H,X,Q=new Int32Array(N),se=new Int32Array(N),M=new Int32Array(N),R=new Int32Array(N),z=0,q=3.5*i|0;if(a!==(q=q<1?1:q<248?q:248)){h=1+(a=q)<<1,s=new Int32Array(h),p=new Array(h);for(var Z=0;Z<h;Z++)p[Z]=new Int32Array(256);for(var te=1,ie=q-1;te<q;te++){s[q+te]=s[ie]=V=ie*ie,H=p[q+te],X=p[ie--];for(var he=0;he<256;he++)H[he]=X[he]=V*he}$=s[q]=q*q,H=p[q];for(var oe=0;oe<256;oe++)H[oe]=$*oe}for(F=0;F<P;F++){for(L=0;L<S;L++){if(y=g=u=d=f=0,(l=L-a)<0)T=-l,l=0;else{if(S<=l)break;T=0}for(D=T;D<h&&!(S<=l);D++){var fe=C[l+z];B=p[D],d+=B[(-16777216&fe)>>>24],u+=B[(16711680&fe)>>16],g+=B[(65280&fe)>>8],y+=B[255&fe],f+=s[D],l++}Q[w=z+L]=d/f,se[w]=u/f,M[w]=g/f,R[w]=y/f}z+=S}for(_=(x=-a)*S,F=z=0;F<P;F++){for(L=0;L<S;L++){if(y=g=u=d=f=0,x<0)T=w=-x,l=L;else{if(P<=x)break;T=0,w=x,l=L+_}for(D=T;D<h&&!(P<=w);D++)B=p[D],d+=B[Q[l]],u+=B[se[l]],g+=B[M[l]],y+=B[R[l]],f+=s[D],w++,l+=S;C[L+z]=d/f<<24|u/f<<16|g/f<<8|y/f}z+=S,_+=S,x++}b._setPixels(E,C)}};c.default=b},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,m,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=s(t("../core/main")),h=s(t("omggif"));function s(b){return b&&b.__esModule?b:{default:b}}function p(b){return function(v){if(Array.isArray(v)){for(var i=0,f=new Array(v.length);i<v.length;i++)f[i]=v[i];return f}}(b)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.createImage=function(b,v){return a.default._validateParameters("createImage",arguments),new a.default.Image(b,v)},a.default.prototype.saveCanvas=function(){for(var b,v,i,f,u,g,y=arguments.length,d=new Array(y),l=0;l<y;l++)d[l]=arguments[l];switch(a.default._validateParameters("saveCanvas",d),d[0]instanceof HTMLCanvasElement?(b=d[0],d.shift()):d[0]instanceof a.default.Element?(b=d[0].elt,d.shift()):d[0]instanceof a.default.Framebuffer?(f=d[0],(u=this.createGraphics(f.width,f.height)).pixelDensity(pixelDensity()),f.loadPixels(),u.loadPixels(),u.pixels.set(f.pixels),u.updatePixels(),b=u.elt,d.shift()):b=this._curElement&&this._curElement.elt,1<=d.length&&(v=d[0]),i=(i=2<=d.length?d[1]:i)||a.default.prototype._checkFileExtension(v,i)[1]||"png"){default:g="image/png";break;case"webp":g="image/webp";break;case"jpeg":case"jpg":g="image/jpeg"}b.toBlob(function(w){a.default.prototype.downloadFile(w,v,i),u&&u.remove()},g)},a.default.prototype.encodeAndDownloadGif=function(b,v){for(var i=b.gifProperties,f=i.loopLimit,u=(f===1?f=null:f===null&&(f=0),new Uint8Array(b.width*b.height*i.numFrames)),g=[],y={},d=0;d<i.numFrames;d++){for(var l=new Set,w=i.frames[d].image.data,x=w.length,_=new Uint32Array(b.width*b.height),T=0,E=0;T<x;T+=4,E++){var S=w[T+0]<<16|w[T+1]<<8|w[T+2]<<0;l.add(S),_[E]=S}var P=p(l).sort().toString();y[P]===void 0?y[P]={freq:1,frames:[d]}:(y[P].freq+=1,y[P].frames.push(d)),g.push(_)}for(var I=[],N=Object.keys(y).sort(function(M,R){return y[R].freq-y[M].freq}),C=N[0].split(",").map(function(M){return parseInt(M)}),I=I.concat(y[C].frames),L=new Set(C),F=1;F<N.length;F++){var D=N[F].split(",").map(function(M){return parseInt(M)}).filter(function(M){return!L.has(M)});if(C.length+D.length<=256){for(var B=0;B<D.length;B++)C.push(D[B]),L.add(D[B]);I=I.concat(y[N[F]].frames)}}I=new Set(I);for(var $={},V=0;V<C.length;V++)$[C[V]]||($[C[V]]=V);for(var H=1;H<C.length;)H<<=1;C.length=H;for(var f={loop:f,palette:new Uint32Array(C)},X=new h.default.GifWriter(u,b.width,b.height,f),Q={},se=0;se<i.numFrames;se++)(function(R){var z=!I.has(R),q=z?[]:C,Z=new Uint8Array(b.width*b.height),te={},ie=new Set,he=(g[R].forEach(function(de,ye){z?(te[de]===void 0&&(te[de]=q.length,q.push(de)),Z[ye]=te[de]):Z[ye]=$[de],0<R&&g[R-1][ye]!==de&&ie.add(de)}),{}),oe=q.filter(function(de){return!ie.has(de)});if(0<oe.length){var oe=oe[0],fe=(z?te:$)[oe];if(0<R){for(var ce=0;ce<g[R].length;ce++)g[R-1][ce]===g[R][ce]&&(Z[ce]=fe);he.transparent=fe,Q.frameOpts.disposal=1}}if(he.delay=i.frames[R].delay/10,z){for(var ee=1;ee<q.length;)ee<<=1;q.length=ee,he.palette=new Uint32Array(q)}0<R&&X.addFrame(0,0,b.width,b.height,Q.pixelPaletteIndex,Q.frameOpts),Q={pixelPaletteIndex:Z,frameOpts:he}})(se);Q.frameOpts.disposal=1,X.addFrame(0,0,b.width,b.height,Q.pixelPaletteIndex,Q.frameOpts),f=new Blob([u.slice(0,X.end())],{type:"image/gif"}),a.default.prototype.downloadFile(f,v,"gif")},a.default.prototype.saveFrames=function(b,v,i,g,u){a.default._validateParameters("saveFrames",arguments),i=a.default.prototype.constrain(i=i||3,0,15),i*=1e3;var g=a.default.prototype.constrain(g||15,0,22),y=0,d=a.default.prototype._makeFrame,l=this._curElement.elt,w=[],x=setInterval(function(){w.push(d(b+y,v,l)),y++},1e3/g);setTimeout(function(){if(clearInterval(x),u)u(w);else for(var _=0,T=w;_<T.length;_++){var E=T[_];a.default.prototype.downloadFile(E.imageData,E.filename,E.ext)}w=[]},.01+i)},a.default.prototype._makeFrame=function(b,v,u){var f,u=this?this._curElement.elt:u;if(v)switch(v.toLowerCase()){case"png":f="image/png";break;case"jpeg":case"jpg":f="image/jpeg";break;default:f="image/png"}else v="png",f="image/png";var u=(u=u.toDataURL(f)).replace(f,"image/octet-stream"),g={};return g.imageData=u,g.filename=b,g.ext=v,g},t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,m,c){function a(l){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(l)}function h(l){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t("regenerator-runtime/runtime");var s=u(t("../core/main")),p=u(t("../core/helpers")),b=function(l){if(l&&l.__esModule)return l;if(l===null||h(l)!=="object"&&typeof l!="function")return{default:l};var w=f();if(w&&w.has(l))return w.get(l);var x,_={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in l){var E;Object.prototype.hasOwnProperty.call(l,x)&&((E=T?Object.getOwnPropertyDescriptor(l,x):null)&&(E.get||E.set)?Object.defineProperty(_,x,E):_[x]=l[x])}return _.default=l,w&&w.set(l,_),_}(t("../core/constants")),v=u(t("omggif")),i=t("gifenc");function f(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,f=function(){return l},l)}function u(l){return l&&l.__esModule?l:{default:l}}function g(l,w,x,_,T,E,S){try{var P=l[E](S),N=P.value}catch(C){return void x(C)}P.done?w(N):Promise.resolve(N).then(_,T)}function y(l,w,x,_,T,E,S,P,N,C,I){var L,F,D,B,$,V,H,X,Q;return l===b.COVER&&(L=w,D=x,H=E,X=S,V=P,Q=N,F=C,B=I,$=Math.max(H/F,X/B),H/=$,X/=$,$=V,V=Q,L===b.CENTER?$+=(F-H)/2:L===b.RIGHT&&($+=F-H),D===b.CENTER?V+=(B-X)/2:D===b.BOTTOM&&(V+=B-X),P=(Q={x:$,y:V,w:H,h:X}).x,N=Q.y,C=Q.w,I=Q.h),l===b.CONTAIN&&(L=w,F=x,D=_,B=T,$=E,V=S,H=C,X=I,Q=Math.max(H/$,X/V),H/=Q,X/=Q,Q=D,D=B,L===b.CENTER?Q+=($-H)/2:L===b.RIGHT&&(Q+=$-H),F===b.CENTER?D+=(V-X)/2:F===b.BOTTOM&&(D+=V-X),_=(l={x:Q,y:D,w:H,h:X}).x,T=l.y,E=l.w,S=l.h),{sx:P,sy:N,sw:C,sh:I,dx:_,dy:T,dw:E,dh:S}}function d(l,w){return 0<l&&l<w?l:w}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(l,w,x){s.default._validateParameters("loadImage",arguments);var _=new s.default.Image(1,1,this),T=this,E=new Request(l,{method:"GET",mode:"cors"});return fetch(l,E).then(function(S){var P,N=S.headers.get("content-type");N===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),N&&N.includes("image/gif")?S.arrayBuffer().then(function(C){if(C){for(var C=new Uint8Array(C),I=_,L=w,F=x,D=(function(z){T._decrementPreload()}).bind(T),B=new v.default.GifReader(C),$=(I.width=I.canvas.width=B.width,I.height=I.canvas.height=B.height,[]),V=B.numFrames(),H=new Uint8ClampedArray(I.width*I.height*4),X=0;X<V;X++){var Q=B.frameInfo(X),se=I.drawingContext.getImageData(0,0,I.width,I.height),M=(H=se.data.slice(),function(z,q){try{q.decodeAndBlitFrameRGBA(z,H)}catch(Z){s.default._friendlyFileLoadError(8,I.src),typeof F=="function"?F(Z):console.error(Z)}}(X,B),new ImageData(H,I.width,I.height)),M=(I.drawingContext.putImageData(M,0,0),Q.delay);M===0&&(M=10),$.push({image:I.drawingContext.getImageData(0,0,I.width,I.height),delay:10*M}),Q.disposal===2?I.drawingContext.clearRect(Q.x,Q.y,Q.width,Q.height):Q.disposal===3&&I.drawingContext.putImageData(se,0,0,Q.x,Q.y,Q.width,Q.height)}(C=B.loopCount())===null?C=1:C===0&&(C=null),I.drawingContext.putImageData($[0].image,0,0),1<$.length&&(I.gifProperties={displayIndex:0,loopLimit:C,loopCount:0,frames:$,numFrames:V,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof L=="function"&&L(I),D()}},function(C){typeof x=="function"?(x(C),T._decrementPreload()):console.error(C)}):((P=new Image).onload=function(){_.width=_.canvas.width=P.width,_.height=_.canvas.height=P.height,_.drawingContext.drawImage(P,0,0),_.modified=!0,typeof w=="function"&&w(_),T._decrementPreload()},P.onerror=function(C){s.default._friendlyFileLoadError(0,P.src),typeof x=="function"?(x(C),T._decrementPreload()):console.error(C)},l.indexOf("data:image/")!==0&&(P.crossOrigin="Anonymous"),P.src=l),_.modified=!0}).catch(function(S){s.default._friendlyFileLoadError(0,l),typeof x=="function"?(x(S),T._decrementPreload()):console.error(S)}),_},s.default.prototype.saveGif=function(){l=regeneratorRuntime.mark(function x(_,T){var E,S,P,N,C,I,L,F,D,B,$,V,H,X,Q,se,M,R,z,q,Z,te,ie,he,oe,fe,ce=arguments;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(E=2<ce.length&&ce[2]!==void 0?ce[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof _!="string")throw TypeError("fileName parameter must be a string");ee.next=3;break;case 3:if(typeof T!="number")throw TypeError("Duration parameter must be a number");ee.next=5;break;case 5:if(S=E&&E.delay||0,P=E&&E.units||"seconds",N=E&&E.silent||!1,C=E&&E.notificationDuration||0,I=E&&E.notificationID||"progressBar",typeof S!="number")throw TypeError("Delay parameter must be a number");ee.next=12;break;case 12:if(P!=="seconds"&&P!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');ee.next=14;break;case 14:if(typeof N!="boolean")throw TypeError("Silent parameter must be a boolean");ee.next=16;break;case 16:if(typeof C!="number")throw TypeError("Notification duration parameter must be a number");ee.next=18;break;case 18:if(typeof I!="string")throw TypeError("Notification ID parameter must be a string");ee.next=20;break;case 20:return this._recording=!0,B=this._targetFrameRate,L=(L=1/(B=B!==1/0&&B!==void 0&&B!==0?B:60)*1e3)<20?20:L,D=(F=P==="seconds"?T*B:T)+(B=P==="seconds"?S*B:S),B=B,this.frameCount=B,$=this._pixelDensity,this.pixelDensity(1),V=[],document.getElementById(I)!==null&&document.getElementById(I).remove(),N||((H=this.createP("")).id(I),H.style("font-size","16px"),H.style("font-family","Montserrat"),H.style("background-color","#ffffffa0"),H.style("padding","8px"),H.style("border-radius","10px"),H.position(0,0)),this._renderer instanceof s.default.RendererGL&&(Q=this.drawingContext,X=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4)),this.noLoop(),ee.next=39,Promise.resolve();case 39:if(B<D)return this.redraw(),he=void 0,he=this._renderer instanceof s.default.RendererGL?(X=new Uint8Array(Q.drawingBufferWidth*Q.drawingBufferHeight*4),Q.readPixels(0,0,Q.drawingBufferWidth,Q.drawingBufferHeight,Q.RGBA,Q.UNSIGNED_BYTE,X),function(de,ye,we){for(var ge=parseInt(we/2),ve=4*ye,je=new Uint8Array(4*ye),De=0;De<ge;++De){var Te=De*ve,tt=(we-De-1)*ve;je.set(de.subarray(Te,Te+ve)),de.copyWithin(Te,tt,tt+ve),de.set(je,tt)}return de}(X,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,V.push(he),B++,N||H.html("Saved frame <b>"+V.length.toString()+"</b> out of "+F.toString()),ee.next=48,new Promise(function(de){return setTimeout(de,0)});ee.next=50;break;case 48:ee.next=39;break;case 50:N||H.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity($),se=(0,i.GIFEncoder)(),M=function(de){for(var ye=new Uint8Array(de.length*de[0].length),we=0;we<de.length;we++)ye.set(de[we],we*de[0].length);var ge=(0,i.quantize)(ye,256,{format:"rgba4444",oneBitAlpha:!0});return ge.length===256?ge[ge.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ge.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ge}(V),R={},z=function(de){for(var ye=de.length/4,we=new Uint8Array(ye),ge=0;ge<ye;ge++){var ve=de[4*ge]<<24|de[4*ge+1]<<16|de[4*ge+2]<<8|de[4*ge+3];R[ve]===void 0&&(R[ve]=(0,i.nearestColorIndex)(M,de.slice(4*ge,4*(ge+1)))),we[ge]=R[ve]}return we},q=M.length-1,Z=[],te=0;case 60:if(!(te<V.length)){ee.next=71;break}if(ie=z(V[te]),he=ie.slice(),te===0)se.writeFrame(ie,this.width,this.height,{palette:M,delay:L,dispose:1});else{for(oe=0;oe<ie.length;oe++)ie[oe]===Z[oe]&&(ie[oe]=q);se.writeFrame(ie,this.width,this.height,{delay:L,transparent:!0,transparentIndex:q,dispose:1})}return Z=he,N||H.html("Rendered frame <b>"+te.toString()+"</b> out of "+F.toString()),ee.next=68,new Promise(function(de){return setTimeout(de,0)});case 68:te++,ee.next=60;break;case 71:se.finish(),fe=se.bytesView(),fe=new Blob([fe],{type:"image/gif"}),V=[],this._recording=!1,this.loop(),N||(H.html("Done. Downloading your gif!🌸"),0<C&&setTimeout(function(){return H.remove()},1e3*C)),s.default.prototype.downloadFile(fe,_,"gif");case 80:case"end":return ee.stop()}},x,this)});var l,w=function(){var x=this,_=arguments;return new Promise(function(T,E){var S=l.apply(x,_);function P(C){g(S,T,E,P,N,"next",C)}function N(C){g(S,T,E,P,N,"throw",C)}P(void 0)})};return function(x,_){return w.apply(this,arguments)}}(),s.default.prototype.image=function(l,w,x,_,B,$,V,H,Q,C,I,L){s.default._validateParameters("image",arguments);var X=l.width,F=l.height,D=(L=L||b.CENTER,I=I||b.CENTER,l.elt&&(X=X!==void 0?X:l.elt.width,F=F!==void 0?F:l.elt.height),l.elt&&l.elt.videoWidth&&!l.canvas&&(X=X!==void 0?X:l.elt.videoWidth,F=F!==void 0?F:l.elt.videoHeight),_||X),B=B||F,$=$||0,V=V||0,H=d(H!==void 0?H:X,X),X=d(Q!==void 0?Q:F,F),Q=1;l.elt&&!l.canvas&&l.elt.style.width&&(Q=l.elt.videoWidth&&!_?l.elt.videoWidth:l.elt.width,Q/=parseInt(l.elt.style.width,10)),$*=Q,V*=Q,X*=Q,H*=Q,F=y(C,I,L,(F=p.default.modeAdjust(w,x,D,B,this._renderer._imageMode)).x,F.y,F.w,F.h,$,V,H,X),this._renderer.image(l,F.sx,F.sy,F.sw,F.sh,F.dx,F.dy,F.dw,F.dh)},s.default.prototype.tint=function(){for(var l=arguments.length,w=new Array(l),x=0;x<l;x++)w[x]=arguments[x];s.default._validateParameters("tint",w);var _=this.color.apply(this,w);this._renderer._tint=_.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(l){s.default._validateParameters("imageMode",arguments),l!==b.CORNER&&l!==b.CORNERS&&l!==b.CENTER||(this._renderer._imageMode=l)},t=s.default,c.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,m,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=s(t("../core/main")),h=s(t("./filters"));function s(b){return b&&b.__esModule?b:{default:b}}function p(b,v){for(var i=0;i<v.length;i++){var f=v[i];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}}a.default.Image=function(){function b(f,u){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.width=f,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var v,i;return v=b,(i=[{key:"pixelDensity",value:function(f){return f!==void 0?(f<=0&&(a.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),f=1),this._pixelDensity=f,this.width/=f,this.height/=f,this):this._pixelDensity}},{key:"_animateGif",value:function(y){var u,g=this.gifProperties,y=y._lastRealFrameTime||window.performance.now();g.lastChangeTime===0&&(g.lastChangeTime=y),g.playing&&(g.timeDisplayed=y-g.lastChangeTime,u=g.frames[g.displayIndex].delay,g.timeDisplayed>=u&&(u=Math.floor(g.timeDisplayed/u),g.timeDisplayed=0,g.lastChangeTime=y,g.displayIndex+=u,g.loopCount=Math.floor(g.displayIndex/g.numFrames),g.loopLimit!==null&&g.loopCount>=g.loopLimit?g.playing=!1:(y=g.displayIndex%g.numFrames,this.drawingContext.putImageData(g.frames[y].image,0,0),g.displayIndex=y,this.setModified(!0))))}},{key:"_setProperty",value:function(f,u){this[f]=u,this.setModified(!0)}},{key:"loadPixels",value:function(){a.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(f,u,g,y){a.default.Renderer2D.prototype.updatePixels.call(this,f,u,g,y),this.setModified(!0)}},{key:"get",value:function(f,u,g,y){return a.default._validateParameters("p5.Image.get",arguments),a.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var f=arguments.length,u=new Array(f),g=0;g<f;g++)u[g]=arguments[g];return a.default.Renderer2D.prototype._getPixel.apply(this,u)}},{key:"set",value:function(f,u,g){a.default.Renderer2D.prototype.set.call(this,f,u,g),this.setModified(!0)}},{key:"resize",value:function(f,u){f===0&&u===0?(f=this.canvas.width,u=this.canvas.height):f===0?f=this.canvas.width*u/this.canvas.height:u===0&&(u=this.canvas.height*f/this.canvas.width),f=Math.floor(f),u=Math.floor(u);var g=document.createElement("canvas");if(g.width=f,g.height=u,this.gifProperties)for(var y=this.gifProperties,d=0;d<y.numFrames;d++){for(var l=this.drawingContext.createImageData(f,u),w=(S=S=E=T=_=void 0,y.frames[d].image),x=l,_=0,T=0;T<x.height;T++)for(var E=0;E<x.width;E++){var S=Math.floor(E*w.width/x.width),S=4*(Math.floor(T*w.height/x.height)*w.width+S);x.data[_++]=w.data[S++],x.data[_++]=w.data[S++],x.data[_++]=w.data[S++],x.data[_++]=w.data[+S]}y.frames[d].image=l}g.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,g.width,g.height),this.canvas.width=this.width=f,this.canvas.height=this.height=u,this.drawingContext.drawImage(g,0,0,f,u,0,0,f,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var f=arguments.length,u=new Array(f),g=0;g<f;g++)u[g]=arguments[g];a.default.prototype.copy.apply(this,u)}},{key:"mask",value:function(f){var u=this.drawingContext.globalCompositeOperation,g=this._pixelDensity,y=1,d=[f=f===void 0?this:f,0,0,(y=f instanceof a.default.Renderer?f._pInst._pixelDensity:y)*f.width,y*f.height,0,0,g*this.width,g*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var l=0;l<this.gifProperties.frames.length;l++)this.drawingContext.putImageData(this.gifProperties.frames[l].image,0,0),this.copy.apply(this,d),this.gifProperties.frames[l].image=this.drawingContext.getImageData(0,0,g*this.width,g*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,d);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)}},{key:"filter",value:function(f,u){h.default.apply(this.canvas,h.default[f],u),this.setModified(!0)}},{key:"blend",value:function(){for(var f=arguments.length,u=new Array(f),g=0;g<f;g++)u[g]=arguments[g];a.default._validateParameters("p5.Image.blend",arguments),a.default.prototype.blend.apply(this,u),this.setModified(!0)}},{key:"setModified",value:function(f){this._modified=f}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(f,u){this.gifProperties?a.default.prototype.encodeAndDownloadGif(this,f):a.default.prototype.saveCanvas(this.canvas,f,u)}},{key:"reset",value:function(){var f;this.gifProperties&&((f=this.gifProperties).playing=!0,f.timeSinceStart=0,f.timeDisplayed=0,f.lastChangeTime=0,f.loopCount=0,f.displayIndex=0,this.drawingContext.putImageData(f.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var f;if(this.gifProperties)return(f=this.gifProperties).displayIndex%f.numFrames}},{key:"setFrame",value:function(f){var u;this.gifProperties&&(f<(u=this.gifProperties).numFrames&&0<=f?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=f,this.drawingContext.putImageData(u.frames[f].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(f,u){if(this.gifProperties){var g=this.gifProperties;if(u<g.numFrames&&0<=u)g.frames[u].delay=f;else{var y=!0,u=!1,d=void 0;try{for(var l,w=g.frames[Symbol.iterator]();!(y=(l=w.next()).done);y=!0)l.value.delay=f}catch(_){u=!0,d=_}finally{try{y||w.return==null||w.return()}finally{if(u)throw d}}}}}}])&&p(v.prototype,i),b}(),t=a.default.Image,c.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,m,c){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=s(t("../core/main")),h=s(t("./filters"));function s(p){return p&&p.__esModule?p:{default:p}}t("../color/p5.Color"),a.default.prototype.pixels=[],a.default.prototype.blend=function(){for(var p,b=arguments.length,v=new Array(b),i=0;i<b;i++)v[i]=arguments[i];a.default._validateParameters("blend",v),this._renderer?(p=this._renderer).blend.apply(p,v):a.default.Renderer2D.prototype.blend.apply(this,v)},a.default.prototype.copy=function(){for(var p,b,v,i,f,u,g,y,d,l=arguments.length,w=new Array(l),x=0;x<l;x++)w[x]=arguments[x];if(a.default._validateParameters("copy",w),w.length===9)p=w[0],b=w[1],v=w[2],i=w[3],f=w[4],u=w[5],g=w[6],y=w[7],d=w[8];else{if(w.length!==8)throw new Error("Signature not supported");p=this,b=w[0],v=w[1],i=w[2],f=w[3],u=w[4],g=w[5],y=w[6],d=w[7]}a.default.prototype._copyHelper(this,p,b,v,i,f,u,g,y,d)},a.default.prototype._copyHelper=function(p,b,v,i,f,u,g,y,d,l){var w=b.canvas.width/b.width,x=0,_=0;b._renderer&&b._renderer.isP3D&&(x=b.width/2,_=b.height/2),p._renderer&&p._renderer.isP3D?(p.push(),p.resetMatrix(),p.noLights(),p.blendMode(p.BLEND),p.imageMode(p.CORNER),a.default.RendererGL.prototype.image.call(p._renderer,b,v+x,i+_,f,u,g,y,d,l),p.pop()):p.drawingContext.drawImage(b.canvas,w*(v+x),w*(i+_),w*f,w*u,g,y,d,l)},a.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},a.default.prototype.filter=function(){for(var p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];a.default._validateParameters("filter",b);var g=(function(){var y,d={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof a.default.Shader?d.shader=arguments.length<=0?void 0:arguments[0]:(d.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(d.value=arguments.length<=1?void 0:arguments[1]),((y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y])===!1&&(d.useWebGL=!1)),d}).apply(void 0,b),i=g.shader,f=g.operation,u=g.value,g=g.useWebGL;this._renderer.isP3D&&i?a.default.RendererGL.prototype.filter.call(this._renderer,i):g||this._renderer.isP3D?(!g&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?a.default.RendererGL.prototype.filter.call(this._renderer,f,u):((i=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),i.filter.apply(i,b),this.copy(i._renderer,0,0,this.width,this.height,0,0,this.width,this.height),i.clear())):this.canvas!==void 0?h.default.apply(this.canvas,h.default[f],u):h.default.apply(this.elt,h.default[f],u)},a.default.prototype.get=function(p,b,v,i){var f;return a.default._validateParameters("get",arguments),(f=this._renderer).get.apply(f,arguments)},a.default.prototype.loadPixels=function(){for(var p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];a.default._validateParameters("loadPixels",b),this._renderer.loadPixels()},a.default.prototype.set=function(p,b,v){this._renderer.set(p,b,v)},a.default.prototype.updatePixels=function(p,b,v,i){a.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(p,b,v,i)},t=a.default,c.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,m,c){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=b(t("../core/main")),s=(t("whatwg-fetch"),t("es6-promise/auto"),b(t("fetch-jsonp"))),p=b(t("file-saver"));function b(u){return u&&u.__esModule?u:{default:u}}function v(u){return(v=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(u)}function i(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function f(u,g){g&&g!==!0&&g!=="true"||(g="");var y="";return(u=u||"untitled")&&u.includes(".")&&(y=u.split(".").pop()),g&&y!==g&&(y=g,u="".concat(u,".").concat(y)),[u,y]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),h.default.prototype.loadJSON=function(){for(var u=arguments.length,g=new Array(u),y=0;y<u;y++)g[y]=arguments[y];h.default._validateParameters("loadJSON",g);for(var d,l,w,x=g[0],_={},T="json",E=1;E<g.length;E++){var S=g[E];typeof S=="string"?S!=="jsonp"&&S!=="json"||(T=S):typeof S=="function"?d?l=S:d=S:v(S)==="object"&&(S.hasOwnProperty("jsonpCallback")||S.hasOwnProperty("jsonpCallbackFunction"))&&(T="jsonp",w=S)}var P=this;return this.httpDo(x,"GET",w,T,function(N){for(var C in N)_[C]=N[C];d!==void 0&&d(N),P._decrementPreload()},function(N){if(h.default._friendlyFileLoadError(5,x),!l)throw N;l(N)}),_},h.default.prototype.loadStrings=function(){for(var u=arguments.length,g=new Array(u),y=0;y<u;y++)g[y]=arguments[y];h.default._validateParameters("loadStrings",g);for(var d,l,w=[],x=1;x<g.length;x++){var _=g[x];typeof _=="function"&&(d===void 0?d=_:l===void 0&&(l=_))}var T=this;return h.default.prototype.httpDo.call(this,g[0],"GET","text",function(E){for(var S=E.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),P=0,N=S.length;P<N;P+=32768)Array.prototype.push.apply(w,S.slice(P,Math.min(P+32768,N)));d!==void 0&&d(w),T._decrementPreload()},function(E){if(h.default._friendlyFileLoadError(3,E),!l)throw E;l(E)}),w},h.default.prototype.loadTable=function(u){var g,y,d,l=!1,w=u.substring(u.lastIndexOf(".")+1,u.length);w==="csv"?d=",":w==="ssv"?d=";":w==="tsv"&&(d="	");for(var x=1;x<arguments.length;x++)typeof arguments[x]=="function"?g===void 0?g=arguments[x]:y===void 0&&(y=arguments[x]):typeof arguments[x]=="string"&&(arguments[x]==="header"&&(l=!0),arguments[x]==="csv"?d=",":arguments[x]==="ssv"?d=";":arguments[x]==="tsv"&&(d="	"));var _=new h.default.Table,T=this;return this.httpDo(u,"GET","table",function(E){for(var S,P,N={},C=0,I=[],L=0,F=null,D=function(){N.currentState=C,N.token=""},B=function(){F.push(N.token),D()},$=function(){N.currentState=4,I.push(F),F=null};;){if((S=E[L++])==null){if(N.escaped)throw new Error("Unclosed quote in file.");if(F){B(),$();break}}if(F===null&&(N.escaped=!1,F=[],D()),N.currentState===C){if(S==='"'){N.escaped=!0,N.currentState=1;continue}N.currentState=1}if(N.currentState===1&&N.escaped)if(S==='"')E[L]==='"'?(N.token+='"',L++):(N.escaped=!1,N.currentState=2);else{if(S==="\r")continue;N.token+=S}else S==="\r"?(E[L]===`
`&&L++,B(),$()):S===`
`?(B(),$()):S===d?B():N.currentState===1&&(N.token+=S)}if(l)_.columns=I.shift();else for(var V=0;V<I[0].length;V++)_.columns[V]="null";for(var H=0;H<I.length;H++)(I[H].length!==1||I[H][0]!=="undefined"&&I[H][0]!=="")&&((P=new h.default.TableRow).arr=I[H],P.obj=function(X,Q){if((Q=Q||[])===void 0)for(var se=0;se<X.length;se++)Q[se.toString()]=se;return Object.fromEntries(Q.map(function(M,R){return[M,X[R]]}))}(I[H],_.columns),_.addRow(P));typeof g=="function"&&g(_),T._decrementPreload()},function(E){h.default._friendlyFileLoadError(2,u),y?y(E):console.error(E)}),_},h.default.prototype.loadXML=function(){for(var u=arguments.length,g=new Array(u),y=0;y<u;y++)g[y]=arguments[y];for(var d,l,w=new h.default.XML,x=1;x<g.length;x++){var _=g[x];typeof _=="function"&&(d===void 0?d=_:l===void 0&&(l=_))}var T=this;return this.httpDo(g[0],"GET","xml",function(E){for(var S in E)w[S]=E[S];d!==void 0&&d(w),T._decrementPreload()},function(E){if(h.default._friendlyFileLoadError(1,E),!l)throw E;l(E)}),w},h.default.prototype.loadBytes=function(u,g,y){var d={},l=this;return this.httpDo(u,"GET","arrayBuffer",function(w){d.bytes=new Uint8Array(w),typeof g=="function"&&g(d),l._decrementPreload()},function(w){if(h.default._friendlyFileLoadError(6,u),!y)throw w;y(w)}),d},h.default.prototype.httpGet=function(){for(var u=arguments.length,g=new Array(u),y=0;y<u;y++)g[y]=arguments[y];return h.default._validateParameters("httpGet",g),g.splice(1,0,"GET"),h.default.prototype.httpDo.apply(this,g)},h.default.prototype.httpPost=function(){for(var u=arguments.length,g=new Array(u),y=0;y<u;y++)g[y]=arguments[y];return h.default._validateParameters("httpPost",g),g.splice(1,0,"POST"),h.default.prototype.httpDo.apply(this,g)},h.default.prototype.httpDo=function(){for(var u,g,y,d={},l=0,w="text/plain",x=arguments.length-1;0<x&&typeof(x<0||arguments.length<=x?void 0:arguments[x])=="function";x--)l++;var _=arguments.length-l,T=arguments.length<=0?void 0:arguments[0];if(_==2&&typeof T=="string"&&v(arguments.length<=1?void 0:arguments[1])==="object")I=new Request(T,arguments.length<=1?void 0:arguments[1]),g=arguments.length<=2?void 0:arguments[2],y=arguments.length<=3?void 0:arguments[3];else{for(var E,S="GET",P=1;P<arguments.length;P++){var N=P<0||arguments.length<=P?void 0:arguments[P];if(typeof N=="string")N==="GET"||N==="POST"||N==="PUT"||N==="DELETE"?S=N:N==="json"||N==="jsonp"||N==="binary"||N==="arrayBuffer"||N==="xml"||N==="text"||N==="table"?u=N:E=N;else if(typeof N=="number")E=N.toString();else if(v(N)==="object")if(N.hasOwnProperty("jsonpCallback")||N.hasOwnProperty("jsonpCallbackFunction"))for(var C in N)d[C]=N[C];else w=N instanceof h.default.XML?(E=N.serialize(),"application/xml"):(E=JSON.stringify(N),"application/json");else typeof N=="function"&&(g?y=N:g=N)}var _=S==="GET"?new Headers:new Headers({"Content-Type":w}),I=new Request(T,{method:S,mode:"cors",body:E,headers:_})}return(_=(_=(u=u||(T.includes("json")?"json":T.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(T,d):fetch(I)).then(function(L){if(!L.ok)throw(F=new Error(L.body)).status=L.status,F.ok=!1,F;var F=0;switch((F=u!=="jsonp"?L.headers.get("content-length"):F)&&64e6<F&&h.default._friendlyFileLoadError(7,T),u){case"json":case"jsonp":return L.json();case"binary":return L.blob();case"arrayBuffer":return L.arrayBuffer();case"xml":return L.text().then(function(D){return D=new DOMParser().parseFromString(D,"text/xml"),new h.default.XML(D.documentElement)});default:return L.text()}})).then(g||function(){}),_.catch(y||console.error),_},window.URL=window.URL||window.webkitURL,h.default.prototype._pWriters=[],h.default.prototype.createWriter=function(u,g){var y,d;for(d in h.default.prototype._pWriters)if(h.default.prototype._pWriters[d].name===u)return y=new h.default.PrintWriter(u+this.millis(),g),h.default.prototype._pWriters.push(y),y;return y=new h.default.PrintWriter(u,g),h.default.prototype._pWriters.push(y),y},h.default.PrintWriter=function(u,g){var y=this;this.name=u,this.content="",this.write=function(d){this.content+=d},this.print=function(d){this.content+="".concat(d,`
`)},this.clear=function(){this.content=""},this.close=function(){var d,l=[];for(d in l.push(this.content),h.default.prototype.writeFile(l,u,g),h.default.prototype._pWriters)h.default.prototype._pWriters[d].name===this.name&&h.default.prototype._pWriters.splice(d,1);y.clear(),y={}}},h.default.prototype.save=function(u,g,y){var d=arguments,l=(this._curElement||this).elt;if(d.length===0)h.default.prototype.saveCanvas(l);else if(d[0]instanceof h.default.Renderer||d[0]instanceof h.default.Graphics)h.default.prototype.saveCanvas(d[0].elt,d[1],d[2]);else if(d.length===1&&typeof d[0]=="string")h.default.prototype.saveCanvas(l,d[0]);else switch(f(d[1],d[2])[1]){case"json":return void h.default.prototype.saveJSON(d[0],d[1],d[2]);case"txt":return void h.default.prototype.saveStrings(d[0],d[1],d[2]);default:d[0]instanceof Array?h.default.prototype.saveStrings(d[0],d[1],d[2]):d[0]instanceof h.default.Table?h.default.prototype.saveTable(d[0],d[1],d[2]):d[0]instanceof h.default.Image?h.default.prototype.saveCanvas(d[0].canvas,d[1]):d[0]instanceof h.default.SoundFile&&h.default.prototype.saveSound(d[0],d[1],d[2],d[3])}},h.default.prototype.saveJSON=function(u,g,y){h.default._validateParameters("saveJSON",arguments),y=y?JSON.stringify(u):JSON.stringify(u,void 0,2),this.saveStrings(y.split(`
`),g,"json")},h.default.prototype.saveJSONObject=h.default.prototype.saveJSON,h.default.prototype.saveJSONArray=h.default.prototype.saveJSON,h.default.prototype.saveStrings=function(u,g,y,d){h.default._validateParameters("saveStrings",arguments);for(var l=this.createWriter(g,y||"txt"),w=0;w<u.length;w++)d?l.write(u[w]+`\r
`):l.write(u[w]+`
`);l.close(),l.clear()},h.default.prototype.saveTable=function(u,g,y){h.default._validateParameters("saveTable",arguments),d=y===void 0?g.substring(g.lastIndexOf(".")+1,g.length):y;var d,l=this.createWriter(g,d),w=u.columns,x=d==="tsv"?"	":",";if(d!=="html"){if(w[0]!=="0"){for(var _=0;_<w.length;_++)_<w.length-1?l.write(w[_]+x):l.write(w[_]);l.write(`
`)}for(var T=0;T<u.rows.length;T++){for(var E=void 0,E=0;E<u.rows[T].arr.length;E++)E<u.rows[T].arr.length-1?d==="csv"&&String(u.rows[T].arr[E]).includes(",")?l.write('"'+u.rows[T].arr[E]+'"'+x):l.write(u.rows[T].arr[E]+x):d==="csv"&&String(u.rows[T].arr[E]).includes(",")?l.write('"'+u.rows[T].arr[E]+'"'):l.write(u.rows[T].arr[E]);l.write(`
`)}}else{if(l.print("<html>"),l.print("<head>"),l.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),l.print("</head>"),l.print("<body>"),l.print("  <table>"),w[0]!=="0"){l.print("    <tr>");for(var S=0;S<w.length;S++){var P=i(w[S]);l.print("      <td>".concat(P)),l.print("      </td>")}l.print("    </tr>")}for(var N=0;N<u.rows.length;N++){l.print("    <tr>");for(var C=0;C<u.columns.length;C++){var I=i(u.rows[N].getString(C));l.print("      <td>".concat(I)),l.print("      </td>")}l.print("    </tr>")}l.print("  </table>"),l.print("</body>"),l.print("</html>")}l.close(),l.clear()},h.default.prototype.writeFile=function(l,g,y){var d="application/octet-stream",l=(h.default.prototype._isSafari()&&(d="text/plain"),new Blob(l,{type:d}));h.default.prototype.downloadFile(l,g,y)},h.default.prototype.downloadFile=function(u,l,w){var d,l=f(l,w),w=l[0];u instanceof Blob?p.default.saveAs(u,w):((d=document.createElement("a")).href=u,d.download=w,d.onclick=function(x){document.body.removeChild(x.target),x.stopPropagation()},d.style.display="none",document.body.appendChild(d),h.default.prototype._isSafari()&&(u=(u=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(l[1],'"'),alert(u)),d.click())},h.default.prototype._checkFileExtension=f,h.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=h.default,c.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,m,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(s,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}a.default.Table=function(){function s(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],i=this,f=s;if(!(i instanceof f))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=v}var p,b;return p=s,(b=[{key:"addRow",value:function(v){if(v=v||new a.default.TableRow,v.arr===void 0||v.obj===void 0)throw new Error("invalid TableRow: ".concat(v));return(v.table=this).rows.push(v),v}},{key:"removeRow",value:function(v){this.rows[v].table=null,v=this.rows.splice(v+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(v)}},{key:"getRow",value:function(v){return this.rows[v]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(v,i){if(typeof i=="string"){for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[i]===v)return this.rows[f]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[i]===v)return this.rows[u];return null}},{key:"findRows",value:function(v,i){var f=[];if(typeof i=="string")for(var u=0;u<this.rows.length;u++)this.rows[u].obj[i]===v&&f.push(this.rows[u]);else for(var g=0;g<this.rows.length;g++)this.rows[g].arr[i]===v&&f.push(this.rows[g]);return f}},{key:"matchRow",value:function(v,i){if(typeof i=="number"){for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[i].match(v))return this.rows[f]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[i].match(v))return this.rows[u];return null}},{key:"matchRows",value:function(v,i){var f=[];if(typeof i=="number")for(var u=0;u<this.rows.length;u++)this.rows[u].arr[i].match(v)&&f.push(this.rows[u]);else for(var g=0;g<this.rows.length;g++)this.rows[g].obj[i].match(v)&&f.push(this.rows[g]);return f}},{key:"getColumn",value:function(v){var i=[];if(typeof v=="string")for(var f=0;f<this.rows.length;f++)i.push(this.rows[f].obj[v]);else for(var u=0;u<this.rows.length;u++)i.push(this.rows[u].arr[v]);return i}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(v){this.columns.push(v||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(v,i){for(var f=[],u=0;u<v.length;u++)f.push(v.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var g=new RegExp(f.join("|"),"g");if(i===void 0)for(var y=0;y<this.columns.length;y++)for(var d=0;d<this.rows.length;d++){var l=(l=this.rows[d].arr[y]).replace(g,"");this.rows[d].arr[y]=l,this.rows[d].obj[this.columns[y]]=l}else if(typeof i=="string")for(var w=0;w<this.rows.length;w++){var x=(x=this.rows[w].obj[i]).replace(g,""),_=(this.rows[w].obj[i]=x,this.columns.indexOf(i));this.rows[w].arr[_]=x}else for(var T=0;T<this.rows.length;T++){var E=(E=this.rows[T].arr[i]).replace(g,"");this.rows[T].arr[i]=E,this.rows[T].obj[this.columns[i]]=E}}},{key:"trim",value:function(v){var i=new RegExp(" ","g");if(v===void 0)for(var f=0;f<this.columns.length;f++)for(var u=0;u<this.rows.length;u++){var g=(g=this.rows[u].arr[f]).replace(i,"");this.rows[u].arr[f]=g,this.rows[u].obj[this.columns[f]]=g}else if(typeof v=="string")for(var y=0;y<this.rows.length;y++){var d=(d=this.rows[y].obj[v]).replace(i,""),l=(this.rows[y].obj[v]=d,this.columns.indexOf(v));this.rows[y].arr[l]=d}else for(var w=0;w<this.rows.length;w++){var x=(x=this.rows[w].arr[v]).replace(i,"");this.rows[w].arr[v]=x,this.rows[w].obj[this.columns[v]]=x}}},{key:"removeColumn",value:function(u){typeof u=="string"?f=this.columns.indexOf(i=u):i=this.columns[f=u];var i,f,u=this.columns.splice(f+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(u);for(var g=0;g<this.rows.length;g++){var y=this.rows[g].arr,d=y.splice(f+1,y.length);y.pop(),this.rows[g].arr=y.concat(d),delete this.rows[g].obj[i]}}},{key:"set",value:function(v,i,f){this.rows[v].set(i,f)}},{key:"setNum",value:function(v,i,f){this.rows[v].setNum(i,f)}},{key:"setString",value:function(v,i,f){this.rows[v].setString(i,f)}},{key:"get",value:function(v,i){return this.rows[v].get(i)}},{key:"getNum",value:function(v,i){return this.rows[v].getNum(i)}},{key:"getString",value:function(v,i){return this.rows[v].getString(i)}},{key:"getObject",value:function(v){for(var i,f={},u=0;u<this.rows.length;u++)if(i=this.rows[u].obj,typeof v=="string"){if(!(0<=this.columns.indexOf(v)))throw new Error('This table has no column named "'.concat(v,'"'));f[i[v]]=i}else f[u]=this.rows[u].obj;return f}},{key:"getArray",value:function(){for(var v=[],i=0;i<this.rows.length;i++)v.push(this.rows[i].arr);return v}}])&&h(p.prototype,b),s}(),t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,m,c){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(h,s){for(var p=0;p<s.length;p++){var b=s[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}t.default.TableRow=function(){function h(b,v){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var i=[];b&&(i=b.split(v=v||",")),this.arr=i,this.obj=Object.fromEntries(i.entries()),this.table=null}var s,p;return s=h,(p=[{key:"set",value:function(b,v){if(typeof b=="string"){var i=this.table.columns.indexOf(b);if(!(0<=i))throw new Error('This table has no column named "'.concat(b,'"'));this.obj[b]=v,this.arr[i]=v}else{if(!(b<this.table.columns.length))throw new Error("Column #".concat(b," is out of the range of this table"));this.arr[b]=v,i=this.table.columns[b],this.obj[i]=v}}},{key:"setNum",value:function(b,v){v=parseFloat(v),this.set(b,v)}},{key:"setString",value:function(b,v){v=v.toString(),this.set(b,v)}},{key:"get",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b]}},{key:"getNum",value:function(b){var v=parseFloat(typeof b=="string"?this.obj[b]:this.arr[b]);if(v.toString()==="NaN")throw"Error: ".concat(this.obj[b]," is NaN (Not a Number)");return v}},{key:"getString",value:function(b){return(typeof b=="string"?this.obj:this.arr)[b].toString()}}])&&a(s.prototype,p),h}(),t=t.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,m,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(p,b){for(var v=0;v<b.length;v++){var i=b[v];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(p,i.key,i)}}function s(p){for(var b=[],v=0;v<p.length;v++)b.push(new a.default.XML(p[v]));return b}a.default.XML=function(){function p(i){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");i?this.DOM=i:(i=document.implementation.createDocument(null,"doc"),this.DOM=i.createElement("root"))}var b,v;return b=p,(v=[{key:"getParent",value:function(){return new a.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(i){var f=this.DOM.innerHTML,u=this.DOM.attributes,g=document.implementation.createDocument(null,"default").createElement(i);g.innerHTML=f;for(var y=0;y<u.length;y++)g.setAttribute(u[y].nodeName,u[y].nodeValue);this.DOM=g}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var i=[],f=0;f<this.DOM.childNodes.length;f++)i.push(this.DOM.childNodes[f].nodeName);return i}},{key:"getChildren",value:function(i){return s(i?this.DOM.getElementsByTagName(i):this.DOM.children)}},{key:"getChild",value:function(i){if(typeof i!="string")return new a.default.XML(this.DOM.children[i]);var f=!0,u=!1,g=void 0;try{for(var y,d=this.DOM.children[Symbol.iterator]();!(f=(y=d.next()).done);f=!0){var l=y.value;if(l.tagName===i)return new a.default.XML(l)}}catch(w){u=!0,g=w}finally{try{f||d.return==null||d.return()}finally{if(u)throw g}}}},{key:"addChild",value:function(i){i instanceof a.default.XML&&this.DOM.appendChild(i.DOM)}},{key:"removeChild",value:function(i){var f=-1;if(typeof i=="string"){for(var u=0;u<this.DOM.children.length;u++)if(this.DOM.children[u].tagName===i){f=u;break}}else f=i;f!==-1&&this.DOM.removeChild(this.DOM.children[f])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var i=[],f=!0,u=!1,g=void 0;try{for(var y,d=this.DOM.attributes[Symbol.iterator]();!(f=(y=d.next()).done);f=!0){var l=y.value;i.push(l.nodeName)}}catch(w){u=!0,g=w}finally{try{f||d.return==null||d.return()}finally{if(u)throw g}}return i}},{key:"hasAttribute",value:function(i){var f={},u=!0,g=!1,y=void 0;try{for(var d,l=this.DOM.attributes[Symbol.iterator]();!(u=(d=l.next()).done);u=!0){var w=d.value;f[w.nodeName]=w.nodeValue}}catch(x){g=!0,y=x}finally{try{u||l.return==null||l.return()}finally{if(g)throw y}}return!!f[i]}},{key:"getNum",value:function(i,f){var u={},g=!0,y=!1,d=void 0;try{for(var l,w=this.DOM.attributes[Symbol.iterator]();!(g=(l=w.next()).done);g=!0){var x=l.value;u[x.nodeName]=x.nodeValue}}catch(_){y=!0,d=_}finally{try{g||w.return==null||w.return()}finally{if(y)throw d}}return Number(u[i])||f||0}},{key:"getString",value:function(i,f){var u={},g=!0,y=!1,d=void 0;try{for(var l,w=this.DOM.attributes[Symbol.iterator]();!(g=(l=w.next()).done);g=!0){var x=l.value;u[x.nodeName]=x.nodeValue}}catch(_){y=!0,d=_}finally{try{g||w.return==null||w.return()}finally{if(y)throw d}}return u[i]?String(u[i]):f||null}},{key:"setAttribute",value:function(i,f){this.DOM.setAttribute(i,f)}},{key:"getContent",value:function(i){var f=this.DOM.textContent;return(f=f.replace(/\s\s+/g,","))||i||null}},{key:"setContent",value:function(i){this.DOM.children.length||(this.DOM.textContent=i)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&h(b.prototype,v),p}(),t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,m,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(s){return function(p){if(Array.isArray(p)){for(var b=0,v=new Array(p.length);b<p.length;b++)v[b]=p[b];return v}}(s)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.abs=Math.abs,a.default.prototype.ceil=Math.ceil,a.default.prototype.constrain=function(s,p,b){return a.default._validateParameters("constrain",arguments),Math.max(Math.min(s,b),p)},a.default.prototype.dist=function(){for(var s=arguments.length,p=new Array(s),b=0;b<s;b++)p[b]=arguments[b];return a.default._validateParameters("dist",p),p.length===4?Math.hypot(p[2]-p[0],p[3]-p[1]):p.length===6?Math.hypot(p[3]-p[0],p[4]-p[1],p[5]-p[2]):void 0},a.default.prototype.exp=Math.exp,a.default.prototype.floor=Math.floor,a.default.prototype.lerp=function(s,p,b){return a.default._validateParameters("lerp",arguments),b*(p-s)+s},a.default.prototype.log=Math.log,a.default.prototype.mag=function(s,p){return a.default._validateParameters("mag",arguments),Math.hypot(s,p)},a.default.prototype.map=function(s,p,b,v,i,f){return a.default._validateParameters("map",arguments),s=(s-p)/(b-p)*(i-v)+v,f?v<i?this.constrain(s,v,i):this.constrain(s,i,v):s},a.default.prototype.max=function(){for(var s=function(i){return Math.max.apply(Math,h(i))},p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];return Array.isArray(b[0])?s(b[0]):s(b)},a.default.prototype.min=function(){for(var s=function(i){return Math.min.apply(Math,h(i))},p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];return Array.isArray(b[0])?s(b[0]):s(b)},a.default.prototype.norm=function(s,p,b){return a.default._validateParameters("norm",arguments),this.map(s,p,b,0,1)},a.default.prototype.pow=Math.pow,a.default.prototype.round=function(s,p){return p?(p=Math.pow(10,p),Math.round(s*p)/p):Math.round(s)},a.default.prototype.sq=function(s){return s*s},a.default.prototype.sqrt=Math.sqrt,a.default.prototype.fract=function(v){a.default._validateParameters("fract",arguments);var p,b=0,v=Number(v);return isNaN(v)||Math.abs(v)===1/0?v:(v<0&&(v=-v,b=1),String(v).includes(".")&&!String(v).includes("e")?(p=String(v),p=+("0"+p.slice(p.indexOf("."))),Math.abs(b-p)):v<1?Math.abs(b-v):0)},t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,m,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(p,b,v){return(h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(i,f,u){var g=[null];return g.push.apply(g,f),f=new(Function.bind.apply(i,g)),u&&s(f,u.prototype),f}).apply(null,arguments)}function s(p,b){return(s=Object.setPrototypeOf||function(v,i){return v.__proto__=i,v})(p,b)}a.default.prototype.createVector=function(p,b,v){return this instanceof a.default?h(a.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new a.default.Vector(p,b,v)},t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(v,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,v=(v=v("../core/main"))&&v.__esModule?v:{default:v};function a(i){return .5*(1-Math.cos(i*Math.PI))}var h,s=4095,p=4,b=.5,v=(v.default.prototype.noise=function(i){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(h==null){h=new Array(4096);for(var g=0;g<4096;g++)h[g]=Math.random()}i<0&&(i=-i),f<0&&(f=-f),u<0&&(u=-u);for(var y,d,l=Math.floor(i),w=Math.floor(f),x=Math.floor(u),_=i-l,T=f-w,E=u-x,S=0,P=.5,N=0;N<p;N++){var C=l+(w<<4)+(x<<8),I=a(_),L=a(T),F=h[C&s];F+=I*(h[C+1&s]-F),y=h[C+16&s],F+=L*((y+=I*(h[C+16+1&s]-y))-F),y=h[(C+=256)&s],y+=I*(h[C+1&s]-y),d=h[C+16&s],y+=L*((d+=I*(h[C+16+1&s]-d))-y),S+=(F+=a(E)*(y-F))*P,P*=b,l<<=1,w<<=1,x<<=1,1<=(_*=2)&&(l++,_--),1<=(T*=2)&&(w++,T--),1<=(E*=2)&&(x++,E--)}return S},v.default.prototype.noiseDetail=function(i,f){0<i&&(p=i),0<f&&(b=f)},v.default.prototype.noiseSeed=function(i){g=4294967296;var f,u,g,y={setSeed:function(l){u=f=(l??Math.random()*g)>>>0},getSeed:function(){return f},rand:function(){return(u=(1664525*u+1013904223)%g)/g}};y.setSeed(i),h=new Array(4096);for(var d=0;d<4096;d++)h[d]=y.rand()},v.default);c.default=v},{"../core/main":283}],316:[function(t,m,c){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function h(f){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(u){return a(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":a(u)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(i=t("../core/main"))&&i.__esModule?i:{default:i},p=function(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var u=b();if(u&&u.has(f))return u.get(f);var g,y={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var l;Object.prototype.hasOwnProperty.call(f,g)&&((l=d?Object.getOwnPropertyDescriptor(f,g):null)&&(l.get||l.set)?Object.defineProperty(y,g,l):y[g]=f[g])}return y.default=f,u&&u.set(f,y),y}(t("../core/constants"));function b(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,b=function(){return f},f)}function v(f,u){for(var g=0;g<u.length;g++){var y=u[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}s.default.Vector=function(){function f(){var x=this,d=f;if(!(x instanceof d))throw new TypeError("Cannot call a class as a function");var l,w,x=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],l=(arguments.length<=2?void 0:arguments[2])||0,w=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(l=(arguments.length<=0?void 0:arguments[0])||0,w=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=l,this.y=w,this.z=x}var u,g,y;return u=f,y=[{key:"fromAngle",value:function(d){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new s.default.Vector(l*Math.cos(d),l*Math.sin(d),0)}},{key:"fromAngles",value:function(E,_){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,x=Math.cos(_),_=Math.sin(_),T=Math.cos(E),E=Math.sin(E);return new s.default.Vector(w*E*_,-w*T,w*E*x)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*p.TWO_PI)}},{key:"random3D",value:function(){var d=Math.random()*p.TWO_PI,l=2*Math.random()-1,x=Math.sqrt(1-l*l),w=x*Math.cos(d),x=x*Math.sin(d);return new s.default.Vector(w,x,l)}},{key:"copy",value:function(d){return d.copy(d)}},{key:"add",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2];return T?T.set(x):(T=x.copy(),l.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),T.add(_),T}},{key:"rem",value:function(d,l){if(d instanceof s.default.Vector&&l instanceof s.default.Vector)return(d=d.copy()).rem(l),d}},{key:"sub",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2];return T?T.set(x):(T=x.copy(),l.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),T.sub(_),T}},{key:"mult",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2];return T?T.set(x):(T=x.copy(),l.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),T.mult(_),T}},{key:"rotate",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2];return l.length===2?T=x.copy():(T instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),T.set(x)),T.rotate(_),T}},{key:"div",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2];return T?T.set(x):(T=x.copy(),l.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),T.div(_),T}},{key:"dot",value:function(d,l){return d.dot(l)}},{key:"cross",value:function(d,l){return d.cross(l)}},{key:"dist",value:function(d,l){return d.dist(l)}},{key:"lerp",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2],E=l[3];return E?E.set(x):(E=x.copy(),l.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),E.lerp(_,T),E}},{key:"slerp",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2],E=l[3];return E?E.set(x):(E=x.copy(),l.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),E.slerp(_,T),E}},{key:"mag",value:function(d){return d.mag()}},{key:"magSq",value:function(d){return d.magSq()}},{key:"normalize",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1];return l.length<2?_=x.copy():(_ instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),_.set(x)),_.normalize()}},{key:"limit",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2];return l.length<3?T=x.copy():(T instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),T.set(x)),T.limit(_)}},{key:"setMag",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2];return l.length<3?T=x.copy():(T instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),T.set(x)),T.setMag(_)}},{key:"heading",value:function(d){return d.heading()}},{key:"angleBetween",value:function(d,l){return d.angleBetween(l)}},{key:"reflect",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2];return l.length<3?T=x.copy():(T instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),T.set(x)),T.reflect(_)}},{key:"array",value:function(d){return d.array()}},{key:"equals",value:function(d,l){var w;return d instanceof s.default.Vector?w=d:Array.isArray(d)?w=new s.default.Vector().set(d):s.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),w.equals(l)}}],(g=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(d,l,w){return d instanceof s.default.Vector?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):Array.isArray(d)?(this.x=d[0]||0,this.y=d[1]||0,this.z=d[2]||0):(this.x=d||0,this.y=l||0,this.z=w||0),this}},{key:"copy",value:function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(d,l,w){return d instanceof s.default.Vector?(this.x+=d.x||0,this.y+=d.y||0,this.z+=d.z||0):Array.isArray(d)?(this.x+=d[0]||0,this.y+=d[1]||0,this.z+=d[2]||0):(this.x+=d||0,this.y+=l||0,this.z+=w||0),this}},{key:"calculateRemainder2D",value:function(d,l){return d!==0&&(this.x=this.x%d),l!==0&&(this.y=this.y%l),this}},{key:"calculateRemainder3D",value:function(d,l,w){return d!==0&&(this.x=this.x%d),l!==0&&(this.y=this.y%l),w!==0&&(this.z=this.z%w),this}},{key:"rem",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x,_,T,E=l[0],S=l[1],P=l[2];if(E instanceof s.default.Vector){if([E.x,E.y,E.z].every(Number.isFinite))return x=parseFloat(E.x),_=parseFloat(E.y),T=parseFloat(E.z),this.calculateRemainder3D(x,_,T)}else if(Array.isArray(E)){if(E.every(Number.isFinite))return E.length===2?this.calculateRemainder2D(E[0],E[1]):E.length===3?this.calculateRemainder3D(E[0],E[1],E[2]):void 0}else if(l.length===1){if(Number.isFinite(E)&&E!==0)return this.x=this.x%E,this.y=this.y%E,this.z=this.z%E,this}else if(l.length===2){if(l.every(Number.isFinite))return this.calculateRemainder2D(E,S)}else if(l.length===3&&l.every(Number.isFinite))return this.calculateRemainder3D(E,S,P)}},{key:"sub",value:function(d,l,w){return d instanceof s.default.Vector?(this.x-=d.x||0,this.y-=d.y||0,this.z-=d.z||0):Array.isArray(d)?(this.x-=d[0]||0,this.y-=d[1]||0,this.z-=d[2]||0):(this.x-=d||0,this.y-=l||0,this.z-=w||0),this}},{key:"mult",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x,_=l[0],T=l[1],E=l[2];return _ instanceof s.default.Vector?Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"?(this.x*=_.x,this.y*=_.y,this.z*=_.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(_)?_.every(function(S){return Number.isFinite(S)})&&_.every(function(S){return typeof S=="number"})?_.length===1?(this.x*=_[0],this.y*=_[0],this.z*=_[0]):_.length===2?(this.x*=_[0],this.y*=_[1]):_.length===3&&(this.x*=_[0],this.y*=_[1],this.z*=_[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(x=l).every(function(S){return Number.isFinite(S)})&&x.every(function(S){return typeof S=="number"})?(l.length===1&&(this.x*=_,this.y*=_,this.z*=_),l.length===2&&(this.x*=_,this.y*=T),l.length===3&&(this.x*=_,this.y*=T,this.z*=E)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var d=arguments.length,l=new Array(d),w=0;w<d;w++)l[w]=arguments[w];var x=l[0],_=l[1],T=l[2];if(x instanceof s.default.Vector)if(Number.isFinite(x.x)&&Number.isFinite(x.y)&&Number.isFinite(x.z)&&typeof x.x=="number"&&typeof x.y=="number"&&typeof x.z=="number"){var E=x.z===0&&this.z===0;if(x.x===0||x.y===0||!E&&x.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=x.x,this.y/=x.y,E||(this.z/=x.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(x))if(x.every(Number.isFinite)&&x.every(function(S){return typeof S=="number"})){if(x.some(function(S){return S===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;x.length===1?(this.x/=x[0],this.y/=x[0],this.z/=x[0]):x.length===2?(this.x/=x[0],this.y/=x[1]):x.length===3&&(this.x/=x[0],this.y/=x[1],this.z/=x[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(l.every(Number.isFinite)&&l.every(function(S){return typeof S=="number"})){if(l.some(function(S){return S===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;l.length===1&&(this.x/=x,this.y/=x,this.z/=x),l.length===2&&(this.x/=x,this.y/=_),l.length===3&&(this.x/=x,this.y/=_,this.z/=T)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var d=this.x,l=this.y,w=this.z;return d*d+l*l+w*w}},{key:"dot",value:function(d,l,w){return d instanceof s.default.Vector?this.dot(d.x,d.y,d.z):this.x*(d||0)+this.y*(l||0)+this.z*(w||0)}},{key:"cross",value:function(x){var l=this.y*x.z-this.z*x.y,w=this.z*x.x-this.x*x.z,x=this.x*x.y-this.y*x.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,l,w,x):new s.default.Vector(l,w,x)}},{key:"dist",value:function(d){return d.copy().sub(this).mag()}},{key:"normalize",value:function(){var d=this.mag();return d!==0&&this.mult(1/d),this}},{key:"limit",value:function(d){var l=this.magSq();return d*d<l&&this.div(Math.sqrt(l)).mult(d),this}},{key:"setMag",value:function(d){return this.normalize().mult(d)}},{key:"heading",value:function(){var d=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(d):d}},{key:"setHeading",value:function(d){this.isPInst&&(d=this._toRadians(d));var l=this.mag();return this.x=l*Math.cos(d),this.y=l*Math.sin(d),this}},{key:"rotate",value:function(l){var l=this.heading()+l,w=(this.isPInst&&(l=this._toRadians(l)),this.mag());return this.x=Math.cos(l)*w,this.y=Math.sin(l)*w,this}},{key:"angleBetween",value:function(d){var l;return this.magSq()*d.magSq()==0?NaN:(l=this.cross(d),d=Math.atan2(l.mag(),this.dot(d))*Math.sign(l.z||1),this.isPInst?this._fromRadians(d):d)}},{key:"lerp",value:function(d,l,w,x){return d instanceof s.default.Vector?this.lerp(d.x,d.y,d.z,l):(this.x+=(d-this.x)*x||0,this.y+=(l-this.y)*x||0,this.z+=(w-this.z)*x||0,this)}},{key:"slerp",value:function(d,l){if(l!==0){if(l===1)return this.set(d);var w=this.mag(),x=d.mag();if(w*x==0)this.mult(1-l).add(d.x*l,d.y*l,d.z*l);else{var _=this.cross(d),T=_.mag(),E=Math.atan2(T,this.dot(d));if(0<T)_.x/=T,_.y/=T,_.z/=T;else{if(E<.5*Math.PI)return this.mult(1-l).add(d.x*l,d.y*l,d.z*l),this;this.z===0&&d.z===0?_.set(0,0,1):this.x!==0?_.set(this.y,-this.x,0).normalize():_.set(1,0,0)}T=_.cross(this),d=1-l+l*x/w,_=d*Math.cos(l*E),x=d*Math.sin(l*E),this.x=this.x*_+T.x*x,this.y=this.y*_+T.y*x,this.z=this.z*_+T.z*x}}return this}},{key:"reflect",value:function(d){return d=s.default.Vector.normalize(d),this.sub(d.mult(2*this.dot(d)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(T,l,w){var x,_,T=T instanceof s.default.Vector?(x=T.x||0,_=T.y||0,T.z||0):Array.isArray(T)?(x=T[0]||0,_=T[1]||0,T[2]||0):(x=T||0,_=l||0,w||0);return this.x===x&&this.y===_&&this.z===T}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(d){return Math.abs(+(d||0))<=Number.EPSILON?0:d}}])&&v(u.prototype,g),y&&v(u,y),f}();var i=s.default.Vector;c.default=i},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(b,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(b=b("../core/main"))&&b.__esModule?b:{default:b},h="_lcg_random_state",s=4294967296,p=0,b=(a.default.prototype._lcg=function(v){return this[v]=(1664525*this[v]+1013904223)%s,this[v]/s},a.default.prototype._lcgSetSeed=function(v,i){this[v]=(i??Math.random()*s)>>>0},a.default.prototype.randomSeed=function(v){this._lcgSetSeed(h,v),this._gaussian_previous=!1},a.default.prototype.random=function(v,i){var f,u;return a.default._validateParameters("random",arguments),f=this[h]!=null?this._lcg(h):Math.random(),v===void 0?f:i===void 0?Array.isArray(v)?v[Math.floor(f*v.length)]:f*v:(i<v&&(u=v,v=i,i=u),f*(i-v)+v)},a.default.prototype.randomGaussian=function(v){var i,f,u,g,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)i=p,this._gaussian_previous=!1;else{for(;1<=(g=(f=this.random(2)-1)*f+(u=this.random(2)-1)*u););i=f*(g=Math.sqrt(-2*Math.log(g)/g)),p=u*g,this._gaussian_previous=!0}return i*y+(v||0)},a.default);c.default=b},{"../core/main":283}],318:[function(t,m,c){function a(i){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}function h(i){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(v=t("../core/main"))&&v.__esModule?v:{default:v},p=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var f=b();if(f&&f.has(i))return f.get(i);var u,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var d;Object.prototype.hasOwnProperty.call(i,u)&&((d=y?Object.getOwnPropertyDescriptor(i,u):null)&&(d.get||d.set)?Object.defineProperty(g,u,d):g[u]=i[u])}return g.default=i,f&&f.set(i,g),g}(t("../core/constants"));function b(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,b=function(){return i},i)}s.default.prototype._angleMode=p.RADIANS,s.default.prototype.acos=function(i){return this._fromRadians(Math.acos(i))},s.default.prototype.asin=function(i){return this._fromRadians(Math.asin(i))},s.default.prototype.atan=function(i){return this._fromRadians(Math.atan(i))},s.default.prototype.atan2=function(i,f){return this._fromRadians(Math.atan2(i,f))},s.default.prototype.cos=function(i){return Math.cos(this._toRadians(i))},s.default.prototype.sin=function(i){return Math.sin(this._toRadians(i))},s.default.prototype.tan=function(i){return Math.tan(this._toRadians(i))},s.default.prototype.degrees=function(i){return i*p.RAD_TO_DEG},s.default.prototype.radians=function(i){return i*p.DEG_TO_RAD},s.default.prototype.angleMode=function(i){if(s.default._validateParameters("angleMode",arguments),i===void 0)return this._angleMode;i!==p.DEGREES&&i!==p.RADIANS||i!==this._angleMode&&(i===p.RADIANS?(this._setProperty("pRotationX",this.pRotationX*p.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*p.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*p.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*p.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*p.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*p.RAD_TO_DEG)),this._angleMode=i)},s.default.prototype._toRadians=function(i){return this._angleMode===p.DEGREES?i*p.DEG_TO_RAD:i},s.default.prototype._toDegrees=function(i){return this._angleMode===p.RADIANS?i*p.RAD_TO_DEG:i},s.default.prototype._fromRadians=function(i){return this._angleMode===p.DEGREES?i*p.RAD_TO_DEG:i},s.default.prototype._fromDegrees=function(i){return this._angleMode===p.RADIANS?i*p.DEG_TO_RAD:i};var v=s.default;c.default=v},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,m,c){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.textAlign=function(h,s){var p;return a.default._validateParameters("textAlign",arguments),(p=this._renderer).textAlign.apply(p,arguments)},a.default.prototype.textLeading=function(h){var s;return a.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},a.default.prototype.textSize=function(h){var s;return a.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},a.default.prototype.textStyle=function(h){var s;return a.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},a.default.prototype.textWidth=function(){for(var h=arguments.length,s=new Array(h),p=0;p<h;p++)s[p]=arguments[p];if(s[0]+="",a.default._validateParameters("textWidth",s),s[0].length===0)return 0;for(var b=s[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),v=[],i=0;i<b.length;i++)v.push(this._renderer.textWidth(b[i]));return Math.max.apply(Math,v)},a.default.prototype.textAscent=function(){for(var h=arguments.length,s=new Array(h),p=0;p<h;p++)s[p]=arguments[p];return a.default._validateParameters("textAscent",s),this._renderer.textAscent()},a.default.prototype.textDescent=function(){for(var h=arguments.length,s=new Array(h),p=0;p<h;p++)s[p]=arguments[p];return a.default._validateParameters("textDescent",s),this._renderer.textDescent()},a.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},a.default.prototype.textWrap=function(h){return a.default._validateParameters("textWrap",[h]),this._renderer.textWrap(h)},t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,m,c){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}function h(u){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(f=t("../core/main"))&&f.__esModule?f:{default:f},p=i(t("../core/constants")),b=i(t("opentype.js"));function v(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,v=function(){return u},u)}function i(u){if(u&&u.__esModule)return u;if(u===null||h(u)!=="object"&&typeof u!="function")return{default:u};var g=v();if(g&&g.has(u))return g.get(u);var y,d,l={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u)Object.prototype.hasOwnProperty.call(u,y)&&((d=w?Object.getOwnPropertyDescriptor(u,y):null)&&(d.get||d.set)?Object.defineProperty(l,y,d):l[y]=u[y]);return l.default=u,g&&g.set(u,l),l}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(u,g,y){s.default._validateParameters("loadFont",arguments);var d=new s.default.Font(this),l=this;return b.load(u,function(_,T){if(_)return s.default._friendlyFileLoadError(4,u),y!==void 0?y(_):void console.error(_,u);d.font=T,g!==void 0&&g(d),l._decrementPreload();var _=u.split("\\").pop().split("/").pop(),T=_.lastIndexOf("."),E=T<1?null:_.slice(T+1);["ttf","otf","woff","woff2"].includes(E)&&(E=_.slice(0,T!==-1?T:0),(_=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(E,`;
src: url(`).concat(u,`);
}
`))),document.head.appendChild(_))}),d},s.default.prototype.text=function(u,g,y,d,l){var w;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(w=this._renderer).text.apply(w,arguments):this},s.default.prototype.textFont=function(u,g){if(s.default._validateParameters("textFont",arguments),arguments.length){if(u)return this._renderer._setProperty("_textFont",u),g&&(this._renderer._setProperty("_textSize",g),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",g*p._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var f=s.default;c.default=f},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,m,c){function a(S){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(S)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(h=t("../core/main"))&&h.__esModule?h:{default:h},s=function(S){if(S&&S.__esModule)return S;if(S===null||b(S)!=="object"&&typeof S!="function")return{default:S};var P=p();if(P&&P.has(S))return P.get(S);var N,C={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in S){var L;Object.prototype.hasOwnProperty.call(S,N)&&((L=I?Object.getOwnPropertyDescriptor(S,N):null)&&(L.get||L.set)?Object.defineProperty(C,N,L):C[N]=S[N])}return C.default=S,P&&P.set(S,C),C}(t("../core/constants"));function p(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,p=function(){return S},S)}function b(S){return(b=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(P){return a(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":a(P)})(S)}function v(S,P){for(var N=0;N<P.length;N++){var C=P[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}function i(S,P){var N=S.length;return S[P<0?P%N+N:P%N]}function f(S,P,N,C){var I,L,F;return C?(f.tmpPoint1===void 0&&(f.tmpPoint1=[],f.tmpPoint2=[]),L=f.tmpPoint1,F=f.tmpPoint2,L.x=P.x-S.x,L.y=P.y-S.y,F.x=N.x-P.x,F.y=N.y-P.y,I=L.x*F.x+L.y*F.y,L=Math.sqrt(L.x*L.x+L.y*L.y),F=Math.sqrt(F.x*F.x+F.y*F.y),Math.acos(I/(L*F))<C):(P[0]-S[0])*(N[1]-S[1])-(N[0]-S[0])*(P[1]-S[1])==0}function u(R,q,z,Z,te,L,F,D,B){var $=1-B,H=Math.pow($,3),X=Math.pow($,2),M=B*B,Q=M*B,V=H*R+3*X*B*z+3*$*B*B*te+Q*F,H=H*q+3*X*B*Z+3*$*B*B*L+Q*D,X=R+2*B*(z-R)+M*(te-2*z+R),Q=q+2*B*(Z-q)+M*(L-2*Z+q),se=z+2*B*(te-z)+M*(F-2*te+z),M=Z+2*B*(L-Z)+M*(D-2*L+Z),R=$*R+B*z,z=$*q+B*Z,q=$*te+B*F,Z=$*L+B*D,te=90-180*Math.atan2(X-se,Q-M)/Math.PI;return(se<X||Q<M)&&(te+=180),{x:V,y:H,m:{x:X,y:Q},n:{x:se,y:M},start:{x:R,y:z},end:{x:q,y:Z},alpha:te}}function g(S,P,N,C,I,L,F,D,B){return B==null?T(S,P,N,C,I,L,F,D):u(S,P,N,C,I,L,F,D,function($,V,H,X,Q,se,M,R,z){if(!(z<0||T($,V,H,X,Q,se,M,R)<z)){var q,Z=.5,te=1-Z;for(q=T($,V,H,X,Q,se,M,R,te);.01<Math.abs(q-z);)q=T($,V,H,X,Q,se,M,R,te+=(q<z?1:-1)*(Z/=2));return te}}(S,P,N,C,I,L,F,D,B))}function y(S,P,N){for(var C,I,L,F,D,B=0,$=0,V=(S=function(H,X){function Q(ge,ve,je){var De,Te;if(!ge)return["C",ve.x,ve.y,ve.x,ve.y,ve.x,ve.y];switch(ge[0]in{T:1,Q:1}||(ve.qx=ve.qy=null),ge[0]){case"M":ve.X=ge[1],ve.Y=ge[2];break;case"A":ge=["C"].concat(l.apply(0,[ve.x,ve.y].concat(ge.slice(1))));break;case"S":Te=je==="C"||je==="S"?(De=2*ve.x-ve.bx,2*ve.y-ve.by):(De=ve.x,ve.y),ge=["C",De,Te].concat(ge.slice(1));break;case"T":je==="Q"||je==="T"?(ve.qx=2*ve.x-ve.qx,ve.qy=2*ve.y-ve.qy):(ve.qx=ve.x,ve.qy=ve.y),ge=["C"].concat(_(ve.x,ve.y,ve.qx,ve.qy,ge[1],ge[2]));break;case"Q":ve.qx=ge[1],ve.qy=ge[2],ge=["C"].concat(_(ve.x,ve.y,ge[1],ge[2],ge[3],ge[4]));break;case"L":ge=["C"].concat(x(ve.x,ve.y,ge[1],ge[2]));break;case"H":ge=["C"].concat(x(ve.x,ve.y,ge[1],ve.y));break;case"V":ge=["C"].concat(x(ve.x,ve.y,ve.x,ge[1]));break;case"Z":ge=["C"].concat(x(ve.x,ve.y,ve.X,ve.Y))}return ge}function se(ge,ve){if(7<ge[ve].length){ge[ve].shift();for(var je=ge[ve];je.length;)ie[ve]="A",q&&(he[ve]="A"),ge.splice(ve++,0,["C"].concat(je.splice(0,6)));ge.splice(ve,1),R=Math.max(z.length,q&&q.length||0)}}function M(ge,ve,je,De,Te){ge&&ve&&ge[Te][0]==="M"&&ve[Te][0]!=="M"&&(ve.splice(Te,0,["M",De.x,De.y]),je.bx=0,je.by=0,je.x=ge[Te][1],je.y=ge[Te][2],R=Math.max(z.length,q&&q.length||0))}var R,z=d(H),q=X&&d(X),Z={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},te={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie=[],he=[],oe="",fe="";R=Math.max(z.length,q&&q.length||0);for(var ce=0;ce<R;ce++){(oe=z[ce]?z[ce][0]:oe)!=="C"&&(ie[ce]=oe,ce&&(fe=ie[ce-1])),z[ce]=Q(z[ce],Z,fe),ie[ce]!=="A"&&oe==="C"&&(ie[ce]="C"),se(z,ce),q&&((oe=q[ce]?q[ce][0]:oe)!=="C"&&(he[ce]=oe,ce&&(fe=he[ce-1])),q[ce]=Q(q[ce],te,fe),he[ce]!=="A"&&oe==="C"&&(he[ce]="C"),se(q,ce)),M(z,q,Z,te,ce),M(q,z,te,Z,ce);var ee=z[ce],de=q&&q[ce],ye=ee.length,we=q&&de.length;Z.x=ee[ye-2],Z.y=ee[ye-1],Z.bx=parseFloat(ee[ye-4])||Z.x,Z.by=parseFloat(ee[ye-3])||Z.y,te.bx=q&&(parseFloat(de[we-4])||te.x),te.by=q&&(parseFloat(de[we-3])||te.y),te.x=q&&de[we-2],te.y=q&&de[we-1]}return q?[z,q]:z}(S)).length;$<V;$++){if((L=S[$])[0]==="M")C=+L[1],I=+L[2];else{if(P<B+(F=g(C,I,L[1],L[2],L[3],L[4],L[5],L[6]))&&!N)return{x:(D=g(C,I,L[1],L[2],L[3],L[4],L[5],L[6],P-B)).x,y:D.y,alpha:D.alpha};B+=F,C=+L[5],I=+L[6]}L.shift()}return D=(D=N?B:u(C,I,L[0],L[1],L[2],L[3],L[4],L[5],1)).alpha?{x:D.x,y:D.y,alpha:D.alpha}:D}function d(S){var P=[],N=0,C=0,I=0,L=0,F=0;if(S){S[0][0]==="M"&&(I=N=+S[0][1],L=C=+S[0][2],F++,P[0]=["M",N,C]);for(var D,B,$=S.length===3&&S[0][0]==="M"&&S[1][0].toUpperCase()==="R"&&S[2][0].toUpperCase()==="Z",V=F,H=S.length;V<H;V++){if(P.push(D=[]),(B=S[V])[0]!==B[0].toUpperCase())switch(D[0]=B[0].toUpperCase(),D[0]){case"A":D[1]=B[1],D[2]=B[2],D[3]=B[3],D[4]=B[4],D[5]=B[5],D[6]=+(B[6]+N),D[7]=+(B[7]+C);break;case"V":D[1]=+B[1]+C;break;case"H":D[1]=+B[1]+N;break;case"R":for(var X,Q=2,se=(X=[N,C].concat(B.slice(1))).length;Q<se;Q++)X[Q]=+X[Q]+N,X[++Q]=+X[Q]+C;P.pop(),P=P.concat(w(X,$));break;case"M":I=+B[1]+N,L=+B[2]+C;break;default:for(var M=1,R=B.length;M<R;M++)D[M]=+B[M]+(M%2?N:C)}else if(B[0]==="R")X=[N,C].concat(B.slice(1)),P.pop(),P=P.concat(w(X,$)),D=["R"].concat(B.slice(-2));else for(var z=0,q=B.length;z<q;z++)D[z]=B[z];switch(D[0]){case"Z":N=I,C=L;break;case"H":N=D[1];break;case"V":C=D[1];break;case"M":I=D[D.length-2],L=D[D.length-1];break;default:N=D[D.length-2],C=D[D.length-1]}}}return P}function l(S,P,N,C,q,ie,Z,D,B,$){function V(we,ge,ve){return{x:we*Math.cos(ve)-ge*Math.sin(ve),y:we*Math.sin(ve)+ge*Math.cos(ve)}}var H,R=Math.PI,z=120*R/180,X=R/180*(+q||0),Q=[],se=($?(ce=$[0],H=$[1],oe=$[2],fe=$[3]):(S=(te=V(S,P,-X)).x,P=te.y,1<(se=(M=(S-(D=(te=V(D,B,-X)).x))/2)*M/(N*N)+(te=(P-(B=te.y))/2)*te/(C*C))&&(N*=se=Math.sqrt(se),C*=se),se=N*N,he=C*C,oe=(ie=(ie===Z?-1:1)*Math.sqrt(Math.abs((se*he-se*te*te-he*M*M)/(se*te*te+he*M*M))))*N*te/C+(S+D)/2,fe=ie*-C*M/N+(P+B)/2,ce=Math.asin(((P-fe)/C).toFixed(9)),H=Math.asin(((B-fe)/C).toFixed(9)),(ce=S<oe?R-ce:ce)<0&&(ce=2*R+ce),(H=D<oe?R-H:H)<0&&(H=2*R+H),Z&&H<ce&&(ce-=2*R),!Z&&ce<H&&(H-=2*R)),H-ce),M=(Math.abs(se)>z&&(he=H,te=D,ie=B,H=ce+z*(Z&&ce<H?1:-1),Q=l(D=oe+N*Math.cos(H),B=fe+C*Math.sin(H),N,C,q,0,Z,te,ie,[H,he,oe,fe])),se=H-ce,Math.cos(ce)),R=Math.sin(ce),z=Math.cos(H),q=Math.sin(H),Z=Math.tan(se/4),te=4/3*N*Z,ie=4/3*C*Z,he=[S,P],oe=[S+te*R,P-ie*M],fe=[D+te*q,B-ie*z],ce=[D,B];if(oe[0]=2*he[0]-oe[0],oe[1]=2*he[1]-oe[1],$)return[oe,fe,ce].concat(Q);for(var ee=[],de=0,ye=(Q=[oe,fe,ce].concat(Q).join().split(",")).length;de<ye;de++)ee[de]=de%2?V(Q[de-1],Q[de],X).y:V(Q[de],Q[de+1],X).x;return ee}function w(S,P){for(var N=[],C=0,I=S.length;C<I-2*!P;C+=2){var L=[{x:+S[C-2],y:+S[C-1]},{x:+S[C],y:+S[C+1]},{x:+S[C+2],y:+S[C+3]},{x:+S[C+4],y:+S[C+5]}];P?C?I-4===C?L[3]={x:+S[0],y:+S[1]}:I-2===C&&(L[2]={x:+S[0],y:+S[1]},L[3]={x:+S[2],y:+S[3]}):L[0]={x:+S[I-2],y:+S[I-1]}:I-4===C?L[3]=L[2]:C||(L[0]={x:+S[C],y:+S[C+1]}),N.push(["C",(-L[0].x+6*L[1].x+L[2].x)/6,(-L[0].y+6*L[1].y+L[2].y)/6,(L[1].x+6*L[2].x-L[3].x)/6,(L[1].y+6*L[2].y-L[3].y)/6,L[2].x,L[2].y])}return N}function x(S,P,N,C){return[S,P,N,C,N,C]}function _(S,P,N,C,I,L){return[1/3*S+2/3*N,1/3*P+2/3*C,1/3*I+2/3*N,1/3*L+2/3*C,I,L]}function T(S,P,N,C,I,L,F,D,B){for(var $=(B=1<(B=B??1)?1:B<0?0:B)/2,V=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],H=0,X=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Q=0;Q<12;Q++){var M=$*V[Q]+$,se=E(M,S,N,I,F),M=E(M,P,C,L,D);H+=X[Q]*Math.sqrt(se*se+M*M)}return $*H}function E(S,P,N,C,I){return S*(S*(-3*P+9*N-9*C+3*I)+6*P-12*N+6*C)-3*P+3*N}h.default.Font=function(){function S(C){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");this.parent=C,this.cache={},this.font=void 0}var P,N;return P=S,(N=[{key:"textBounds",value:function(C){var I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,$=3<arguments.length?arguments[3]:void 0,F=4<arguments.length?arguments[4]:void 0,D=F&&F.renderer&&F.renderer._pInst||this.parent,B=D._renderer.drawingContext,$=(B.textAlign||s.LEFT,B.textBaseline||s.BASELINE,$||D._renderer._textSize);if(!te){for(var V=[],H=[],X=[],Q=(X[0]=[],[]),se=this._scale($),M=D._renderer.textLeading(),R=0,z=(this.font.forEachGlyph(C,I,L,$,F,function(oe,fe,ce,ee){var de=oe.getMetrics();oe.index===0?X[R+=1]=[]:(X[R].push(fe+de.xMin*se),X[R].push(fe+de.xMax*se),Q.push(ce+R*M+-de.yMin*se),Q.push(ce+R*M+-de.yMax*se))}),0<X[R].length&&(V[R]=Math.min.apply(null,X[R]),H[R]=Math.max.apply(null,X[R])),0),q=0;q<=R;q++){V[q]=Math.min.apply(null,X[q]),H[q]=Math.max.apply(null,X[q]);var Z=H[q]-V[q];z<Z&&(z=Z)}var B=Math.min.apply(null,V),te={x:B,y:L=Math.min.apply(null,Q),h:Math.max.apply(null,Q)-L,w:z,advance:B-I},$=this._handleAlignment(D._renderer,C,te.x,te.y,te.w+te.advance);te.x=$.x,te.y=$.y}return te}},{key:"textToPoints",value:function(C,I,L,F,D){var B,$=I,V=[],H=this.parent,X=C.split(/\r?\n|\r|\n/g);F=F||this.parent._renderer._textSize;for(var Q,se,M,R=0;R<X.length;R++){var z=0;I=$;for(var q=(q=X[R]).replace("	","  "),Z=this._getGlyphs(q),te=0;te<Z.length;te++){if(se=q,!((M=Z)[Q=te].name&&M[Q].name==="space"||se.length===M.length&&se[Q]===" "))for(var ie=function(ce){for(var ee,de=[],ye=0;ye<ce.length;ye++)ce[ye].type==="M"&&(ee&&de.push(ee),ee=[]),ee.push(function(we){var ge=[we.type];return we.type==="M"||we.type==="L"?ge.push(we.x,we.y):we.type==="C"?ge.push(we.x1,we.y1,we.x2,we.y2,we.x,we.y):we.type==="Q"&&ge.push(we.x1,we.y1,we.x,we.y),ge}(ce[ye]));return de.push(ee),de}(Z[te].getPath(I,L,F).commands),he=0;he<ie.length;he++)for(var oe=function(ce,ee){for(var ee=function(je,De){if(b(je)!=="object")je=De;else for(var Te in De)je[Te]===void 0&&(je[Te]=De[Te]);return je}(ee,{sampleFactor:.1,simplifyThreshold:0}),de=y(ce,0,1),ye=de/(de*ee.sampleFactor),we=[],ge=0;ge<de;ge+=ye)we.push(y(ce,ge));return ee.simplifyThreshold&&function(ve){for(var je=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,De=0,Te=ve.length-1;3<ve.length&&0<=Te;--Te)f(i(ve,Te-1),i(ve,Te),i(ve,Te+1),je)&&(ve.splice(Te%ve.length,1),De++)}(we,ee.simplifyThreshold),we}(ie[he],D),fe=0;fe<oe.length;fe++)oe[fe].x+=z,B=this._handleAlignment(H._renderer,q,oe[fe].x,oe[fe].y),oe[fe].x=B.x,oe[fe].y=B.y,V.push(oe[fe]);z+=Z[te].advanceWidth*this._scale(F)}L+=this.parent._renderer._textLeading}return V}},{key:"_getGlyphs",value:function(C){return this.font.stringToGlyphs(C)}},{key:"_getPath",value:function(C,B,L,F){var D=(F&&F.renderer&&F.renderer._pInst||this.parent)._renderer,B=this._handleAlignment(D,C,B,L);return this.font.getPath(C,B.x,B.y,D._textSize,F)}},{key:"_getPathData",value:function(C,I,L,F){var D=3;return typeof C=="string"&&2<arguments.length?C=this._getPath(C,I,L,F):b(I)==="object"&&(F=I),F&&typeof F.decimals=="number"&&(D=F.decimals),C.toPathData(D)}},{key:"_getSVG",value:function(C,I,L,F){var D=3;return typeof C=="string"&&2<arguments.length?C=this._getPath(C,I,L,F):b(I)==="object"&&(F=I),F&&(typeof F.decimals=="number"&&(D=F.decimals),typeof F.strokeWidth=="number"&&(C.strokeWidth=F.strokeWidth),F.fill!==void 0&&(C.fill=F.fill),F.stroke!==void 0&&(C.stroke=F.stroke)),C.toSVG(D)}},{key:"_renderPath",value:function($,H,X,F){var D=F&&F.renderer||this.parent._renderer,B=D.drawingContext,$=(b($)==="object"&&$.commands?$:this._getPath($,H,X,F)).commands,V=(D._clipping||B.beginPath(),!0),H=!1,X=void 0;try{for(var Q,se=$[Symbol.iterator]();!(V=(Q=se.next()).done);V=!0){var M=Q.value;M.type==="M"?B.moveTo(M.x,M.y):M.type==="L"?B.lineTo(M.x,M.y):M.type==="C"?B.bezierCurveTo(M.x1,M.y1,M.x2,M.y2,M.x,M.y):M.type==="Q"?B.quadraticCurveTo(M.x1,M.y1,M.x,M.y):M.type==="Z"&&B.closePath()}}catch(R){H=!0,X=R}finally{try{V||se.return==null||se.return()}finally{if(H)throw X}}return D._doStroke&&D._strokeSet&&!D._clipping&&B.stroke(),D._doFill&&!D._clipping&&(D._fillSet||D._setFill(s._DEFAULT_TEXT_FILL),B.fill()),this}},{key:"_textWidth",value:function(C,I){return this.font.getAdvanceWidth(C,I)}},{key:"_textAscent",value:function(C){return this.font.ascender*this._scale(C)}},{key:"_textDescent",value:function(C){return-this.font.descender*this._scale(C)}},{key:"_scale",value:function(C){return 1/this.font.unitsPerEm*(C||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(C,I,L,F,D){var B=C._textSize;switch(D===void 0&&(D=this._textWidth(I,B)),C._textAlign){case s.CENTER:L-=D/2;break;case s.RIGHT:L-=D}switch(C._textBaseline){case s.TOP:F+=this._textAscent(B);break;case s.CENTER:F+=this._textAscent(B)/2;break;case s.BOTTOM:F-=this._textDescent(B)}return{x:L,y:F}}}])&&v(P.prototype,N),S}(),t=h.default,c.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,m,c){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(a,h){return a.push(h),a},t.default.prototype.arrayCopy=function(a,h,s,p,b){var v,i;a=b!==void 0?(i=Math.min(b,a.length),v=p,a.slice(h,i+h)):(i=s!==void 0?(i=s,Math.min(i,a.length)):a.length,s=h,a.slice(v=0,i)),Array.prototype.splice.apply(s,[v,i].concat(a))},t.default.prototype.concat=function(a,h){return a.concat(h)},t.default.prototype.reverse=function(a){return a.reverse()},t.default.prototype.shorten=function(a){return a.pop(),a},t.default.prototype.shuffle=function(a,h){for(var s,p,b=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(a),v=(a=h||b?a:a.slice()).length;1<v;)s=this.random(0,1)*v|0,p=a[--v],a[v]=a[s],a[s]=p;return a},t.default.prototype.sort=function(a,p){var s=p?a.slice(0,Math.min(p,a.length)):a,p=p?a.slice(Math.min(p,a.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(b,v){return b-v})).concat(p)},t.default.prototype.splice=function(a,h,s){return Array.prototype.splice.apply(a,[s,0].concat(h)),a},t.default.prototype.subset=function(a,h,s){return s!==void 0?a.slice(h,h+s):a.slice(h,a.length)},t=t.default,c.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,m,c){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.float=function(h){return h instanceof Array?h.map(parseFloat):parseFloat(h)},a.default.prototype.int=function(h){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return h===1/0||h==="Infinity"?1/0:h===-1/0||h==="-Infinity"?-1/0:typeof h=="string"?parseInt(h,s):typeof h=="number"?0|h:typeof h=="boolean"?h?1:0:h instanceof Array?h.map(function(p){return a.default.prototype.int(p,s)}):void 0},a.default.prototype.str=function(h){return h instanceof Array?h.map(a.default.prototype.str):String(h)},a.default.prototype.boolean=function(h){return typeof h=="number"?h!==0:typeof h=="string"?h.toLowerCase()==="true":typeof h=="boolean"?h:h instanceof Array?h.map(a.default.prototype.boolean):void 0},a.default.prototype.byte=function(h){return h=a.default.prototype.int(h,10),typeof h=="number"?(h+128)%256-128:h instanceof Array?h.map(a.default.prototype.byte):void 0},a.default.prototype.char=function(h){return typeof h!="number"||isNaN(h)?h instanceof Array?h.map(a.default.prototype.char):typeof h=="string"?a.default.prototype.char(parseInt(h,10)):void 0:String.fromCharCode(h)},a.default.prototype.unchar=function(h){return typeof h=="string"&&h.length===1?h.charCodeAt(0):h instanceof Array?h.map(a.default.prototype.unchar):void 0},a.default.prototype.hex=function(h,s){if(s=s??8,h instanceof Array)return h.map(function(b){return a.default.prototype.hex(b,s)});if(h===1/0||h===-1/0)return(h===1/0?"F":"0").repeat(s);if(typeof h=="number"){h<0&&(h=4294967295+h+1);for(var p=Number(h).toString(16).toUpperCase();p.length<s;)p="0".concat(p);return p=p.length>=s?p.substring(p.length-s,p.length):p}},a.default.prototype.unhex=function(h){return h instanceof Array?h.map(a.default.prototype.unhex):parseInt("0x".concat(h),16)},t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,m,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(i=t("../core/main"))&&i.__esModule?i:{default:i};function h(f,u){return function(g){if(Array.isArray(g))return g}(f)||function(g,y){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var d=[],l=!0,w=!1,x=void 0;try{for(var _,T=g[Symbol.iterator]();!(l=(_=T.next()).done)&&(d.push(_.value),!y||d.length!==y);l=!0);}catch(E){w=!0,x=E}finally{try{l||T.return==null||T.return()}finally{if(w)throw x}}return d}}(f,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(f,u,g){var y,d=f<0,w=h((f=Math.abs(f)).toString().split("."),2),l=w[0],w=w[1];return g===void 0?(l=l.padStart(u,"0"),y=w?l+"."+w:l,d?"-"+y:y):(l=(y=h(f.toFixed(g).toString().split("."),2))[0],w=y[1],l=l.padStart(u,"0"),f=w===void 0?l:l+"."+w,d?"-"+f:f)}function p(d,u){var g=(d=d.toString()).indexOf("."),y=g!==-1?d.substring(g):"",d=(d=g!==-1?d.substring(0,g):d).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(u===0)y="";else if(u!==void 0)if(u>y.length)for(var l=u-(y+=g===-1?".":"").length+1,w=0;w<l;w++)y+="0";else y=y.substring(0,u+1);return d+y}function b(f){return 0<parseFloat(f)?"+".concat(f.toString()):f.toString()}function v(f){return 0<=parseFloat(f)?" ".concat(f.toString()):f.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.join=function(f,u){return a.default._validateParameters("join",arguments),f.join(u)},a.default.prototype.match=function(f,u){return a.default._validateParameters("match",arguments),f.match(u)},a.default.prototype.matchAll=function(f,u){a.default._validateParameters("matchAll",arguments);for(var g=new RegExp(u,"g"),y=g.exec(f),d=[];y!==null;)d.push(y),y=g.exec(f);return d},a.default.prototype.nf=function(f,u,g){return a.default._validateParameters("nf",arguments),f instanceof Array?f.map(function(y){return s(y,u,g)}):Object.prototype.toString.call(f)==="[object Arguments]"?f.length===3?this.nf(f[0],f[1],f[2]):f.length===2?this.nf(f[0],f[1]):this.nf(f[0]):s(f,u,g)},a.default.prototype.nfc=function(f,u){return a.default._validateParameters("nfc",arguments),f instanceof Array?f.map(function(g){return p(g,u)}):p(f,u)},a.default.prototype.nfp=function(){for(var f=arguments.length,u=new Array(f),g=0;g<f;g++)u[g]=arguments[g];a.default._validateParameters("nfp",u);var y=a.default.prototype.nf.apply(this,u);return y instanceof Array?y.map(b):b(y)},a.default.prototype.nfs=function(){for(var f=arguments.length,u=new Array(f),g=0;g<f;g++)u[g]=arguments[g];a.default._validateParameters("nfs",u);var y=a.default.prototype.nf.apply(this,u);return y instanceof Array?y.map(v):v(y)},a.default.prototype.split=function(f,u){return a.default._validateParameters("split",arguments),f.split(u)},a.default.prototype.splitTokens=function(f,u){var g,y;return a.default._validateParameters("splitTokens",arguments),y=u!==void 0?(y=/\]/g.exec(u=u),(g=/\[/g.exec(u))&&y?(u=u.slice(0,y.index)+u.slice(y.index+1),g=/\[/g.exec(u),u=u.slice(0,g.index)+u.slice(g.index+1),new RegExp("[\\[".concat(u,"\\]]"),"g")):y?(u=u.slice(0,y.index)+u.slice(y.index+1),new RegExp("[".concat(u,"\\]]"),"g")):g?(u=u.slice(0,g.index)+u.slice(g.index+1),new RegExp("[".concat(u,"\\[]"),"g")):new RegExp("[".concat(u,"]"),"g")):/\s/g,f.split(y).filter(function(d){return d})},a.default.prototype.trim=function(f){return a.default._validateParameters("trim",arguments),f instanceof Array?f.map(this.trim):f.trim()};var i=a.default;c.default=i},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,c.default=t},{"../core/main":283}],326:[function(t,m,c){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(f)}function h(f){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(u){return a(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":a(u)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(i=t("../core/main"))&&i.__esModule?i:{default:i},p=(t("./p5.Geometry"),function(f){if(f&&f.__esModule)return f;if(f===null||h(f)!=="object"&&typeof f!="function")return{default:f};var u=b();if(u&&u.has(f))return u.get(f);var g,y={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in f){var l;Object.prototype.hasOwnProperty.call(f,g)&&((l=d?Object.getOwnPropertyDescriptor(f,g):null)&&(l.get||l.set)?Object.defineProperty(y,g,l):y[g]=f[g])}return y.default=f,u&&u.set(f,y),y}(t("../core/constants")));function b(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,b=function(){return f},f)}s.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},s.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},s.default.prototype.buildGeometry=function(f){return this._renderer.buildGeometry(f)},s.default.prototype.freeGeometry=function(f){this._renderer._freeBuffers(f.gid)},s.default.prototype.plane=function(){var f,u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,l=(this._assert3d("plane"),s.default._validateParameters("plane",arguments),"plane|".concat(y,"|").concat(d));return this._renderer.geometryInHash(l)||((f=new s.default.Geometry(y,d,function(){for(var w,x,_=0;_<=this.detailY;_++)for(var T=_/this.detailY,E=0;E<=this.detailX;E++)w=E/this.detailX,x=new s.default.Vector(w-.5,T-.5,0),this.vertices.push(x),this.uvs.push(w,T)})).computeFaces().computeNormals(),y<=1&&d<=1?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(l,f)),this._renderer.drawBuffersScaled(l,u,g,1),this},s.default.prototype.box=function(f,u,g,y,d){this._assert3d("box"),s.default._validateParameters("box",arguments),f===void 0&&(f=50),u===void 0&&(u=f),g===void 0&&(g=u);var l,w=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,w=(d===void 0&&(d=w?1:4),"box|".concat(y=y===void 0?w?1:4:y,"|").concat(d));return this._renderer.geometryInHash(w)||((l=new s.default.Geometry(y,d,function(){var x=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(_,T){for(var T=4*T,E=0;E<4;E++){var S=_[E],S=new s.default.Vector((2*(1&S)-1)/2,((2&S)-1)/2,((4&S)/2-1)/2);x.vertices.push(S),x.uvs.push(1&E,(2&E)/2)}x.faces.push([T,1+T,2+T]),x.faces.push([2+T,1+T,3+T])})})).computeNormals(),y<=4&&d<=4?l._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(w,l)),this._renderer.drawBuffersScaled(w,f,u,g),this},s.default.prototype.sphere=function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(f,f,f,u,g),this};function v(f,u,g,y,d,l,w){f=f<=0?1:f,u=u<0?0:u,g=g<=0?f:g,y=y<3?3:y;for(var x,_,T=(l=l===void 0||l)?-2:0,E=(d=d<1?1:d)+((w=w===void 0?u!==0:w)?2:0),S=Math.atan2(f-u,g),P=Math.sin(S),N=Math.cos(S),C=T;C<=E;++C){var I=C/d,L=g*I,F=void 0,F=C<0?(I=L=0,f):d<C?(L=g,I=1,u):f+(u-f)*I;for(C!==-2&&C!==d+2||(F=0),L-=g/2,x=0;x<y;++x){var D=x/(y-1),$=2*Math.PI*D,B=Math.sin($),$=Math.cos($),V=(this.vertices.push(new s.default.Vector(B*F,L,$*F)),void 0),V=C<0?new s.default.Vector(0,-1,0):d<C&&u?new s.default.Vector(0,1,0):new s.default.Vector(B*N,P,$*N);this.vertexNormals.push(V),this.uvs.push(D,I)}}var H=0;if(l){for(_=0;_<y;++_)this.faces.push([H+_,H+y+(_+1)%y,H+y+_]);H+=2*y}for(C=0;C<d;++C){for(x=0;x<y;++x){var X=(x+1)%y;this.faces.push([H+x,H+X,H+y+X]),this.faces.push([H+x,H+y+X,H+y+x])}H+=y}if(w)for(H+=y,x=0;x<y;++x)this.faces.push([H+x,H+(x+1)%y,H+y])}s.default.prototype.cylinder=function(){var f,u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,l=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],w=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],x=(this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),"cylinder|".concat(y,"|").concat(d,"|").concat(l,"|").concat(w));return this._renderer.geometryInHash(x)||(f=new s.default.Geometry(y,d),v.call(f,1,1,1,y,d,l,w),y<=24&&d<=16?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(x,f)),this._renderer.drawBuffersScaled(x,u,g,u),this},s.default.prototype.cone=function(){var f,u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,l=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],w=(this._assert3d("cone"),s.default._validateParameters("cone",arguments),"cone|".concat(y,"|").concat(d,"|").concat(l));return this._renderer.geometryInHash(w)||(f=new s.default.Geometry(y,d),v.call(f,1,0,1,y,d,l,!1),y<=24&&d<=16?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,f)),this._renderer.drawBuffersScaled(w,u,g,u),this},s.default.prototype.ellipsoid=function(){var f,u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:u,d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,l=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,w=(this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(d,"|").concat(l));return this._renderer.geometryInHash(w)||((f=new s.default.Geometry(d,l,function(){for(var x=0;x<=this.detailY;x++)for(var _=x/this.detailY,T=Math.PI*_-Math.PI/2,E=Math.cos(T),S=Math.sin(T),P=0;P<=this.detailX;P++){var N=P/this.detailX,I=2*Math.PI*N,C=Math.cos(I),I=Math.sin(I),I=new s.default.Vector(E*I,S,E*C);this.vertices.push(I),this.vertexNormals.push(I),this.uvs.push(N,_)}})).computeFaces(),d<=24&&l<=24?f._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(w,f)),this._renderer.drawBuffersScaled(w,u,g,y),this},s.default.prototype.torus=function(f,w,g,y){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),f===void 0)f=50;else if(!f)return;if(w===void 0)w=10;else if(!w)return;g===void 0&&(g=24),y===void 0&&(y=16);var d,l=(w/f).toPrecision(4),w="torus|".concat(l,"|").concat(g,"|").concat(y);return this._renderer.geometryInHash(w)||((d=new s.default.Geometry(g,y,function(){for(var x=0;x<=this.detailY;x++)for(var _=x/this.detailY,T=2*Math.PI*_,E=Math.cos(T),S=Math.sin(T),P=1+l*E,N=0;N<=this.detailX;N++){var C=N/this.detailX,I=2*Math.PI*C,F=Math.cos(I),I=Math.sin(I),L=new s.default.Vector(P*F,P*I,l*S),F=new s.default.Vector(E*F,E*I,S);this.vertices.push(L),this.vertexNormals.push(F),this.uvs.push(C,_)}})).computeFaces(),g<=24&&y<=16?d._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,d)),this._renderer.drawBuffersScaled(w,f,f,f),this},s.default.RendererGL.prototype.point=function(f,u){var g=[];return g.push(new s.default.Vector(f,u,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(g,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(w){var u=w[0],g=w[1],y=w[2],d=w[3],l=w[4],w=w[5],x=(this.geometryInHash("tri")||((x=new s.default.Geometry(1,1,function(){var E=[];E.push(new s.default.Vector(0,0,0)),E.push(new s.default.Vector(1,0,0)),E.push(new s.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=E,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),x.computeNormals(),this.createBuffers("tri",x)),this.uModelMatrix.copy());try{var _=Math.sign(u*d-y*g+y*w-l*d+l*g-u*w),T=new s.default.Matrix([y-u,d-g,0,0,l-u,w-g,0,0,0,0,_,0,u,g,0,1]).mult(this.uModelMatrix);this.uModelMatrix=T,this.drawBuffers("tri")}finally{this.uModelMatrix=x}return this},s.default.RendererGL.prototype.ellipse=function(f){this.arc(f[0],f[1],f[2],f[3],0,p.TWO_PI,p.OPEN,f[4])},s.default.RendererGL.prototype.arc=function(){var f,u=arguments.length<=0?void 0:arguments[0],g=arguments.length<=1?void 0:arguments[1],y=arguments.length<=2?void 0:arguments[2],d=arguments.length<=3?void 0:arguments[3],l=arguments.length<=4?void 0:arguments[4],w=arguments.length<=5?void 0:arguments[5],x=arguments.length<=6?void 0:arguments[6],_=(arguments.length<=7?void 0:arguments[7])||25,T=(Math.abs(w-l)>=p.TWO_PI?"".concat(E="ellipse","|"):"".concat(E="arc","|").concat(l,"|").concat(w,"|").concat(x,"|")).concat(_,"|"),E=(this.geometryInHash(T)||((f=new s.default.Geometry(_,1,function(){if(l.toFixed(10)!==w.toFixed(10)){x!==p.PIE&&x!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var S=0;S<=_;S++){var N=(w-l)*(S/_)+l,P=.5+Math.cos(N)/2,N=.5+Math.sin(N)/2;this.vertices.push(new s.default.Vector(P,N,0)),this.uvs.push([P,N]),S<_-1&&(this.faces.push([0,S+1,S+2]),this.edges.push([S+1,S+2]))}switch(x){case p.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case p.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case p.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),_<=50?f._edgesToVertices(f):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(E," with more than 50 detail")),this.createBuffers(T,f)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([u,g,0]),this.uModelMatrix.scale(y,d,1),this.drawBuffers(T)}finally{this.uModelMatrix=E}return this},s.default.RendererGL.prototype.rect=function(f){var u=f[0],g=f[1],y=f[2],d=f[3];if(f[4]===void 0){var x=this._pInst._glAttributes.perPixelLighting,l=f[4]||(x?1:24),w=f[5]||(x?1:16),x="rect|".concat(l,"|").concat(w),_=(this.geometryInHash(x)||((_=new s.default.Geometry(l,w,function(){for(var V=0;V<=this.detailY;V++)for(var H=V/this.detailY,X=0;X<=this.detailX;X++){var Q=X/this.detailX,se=new s.default.Vector(Q,H,0);this.vertices.push(se),this.uvs.push(Q,H)}0<l&&0<w&&(this.edges=[[0,l],[l,(l+1)*(w+1)-1],[(l+1)*(w+1)-1,(l+1)*w],[(l+1)*w,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(x,_)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([u,g,0]),this.uModelMatrix.scale(y,d,1),this.drawBuffers(x)}finally{this.uModelMatrix=_}}else{var x=f[4],_=f[5]===void 0?x:f[5],T=f[6]===void 0?_:f[6],f=f[7]===void 0?T:f[7],I=y,E=d,N=((I+=u)<u&&(N=u,u=I,I=N),(E+=g)<g&&(N=g,g=E,E=N),Math.min((I-u)/2,(E-g)/2)),S=(N<x&&(x=N),N<_&&(_=N),N<T&&(T=N),N<f&&(f=N),u),P=g,N=I,u=E,C=(this.beginShape(),_!==0?(this.vertex(N-_,P),this.quadraticVertex(N,P,N,P+_)):this.vertex(N,P),T!==0?(this.vertex(N,u-T),this.quadraticVertex(N,u,N-T,u)):this.vertex(N,u),f!==0?(this.vertex(S+f,u),this.quadraticVertex(S,u,S,u-f)):this.vertex(S,u),x!==0?(this.vertex(S,P+x),this.quadraticVertex(S,P,S+x,P)):this.vertex(S,P),!(this.immediateMode.geometry.uvs.length=0)),g=!1,I=void 0;try{for(var L,F=this.immediateMode.geometry.vertices[Symbol.iterator]();!(C=(L=F.next()).done);C=!0){var D=L.value,B=(D.x-S)/y,$=(D.y-P)/d;this.immediateMode.geometry.uvs.push(B,$)}}catch(M){g=!0,I=M}finally{try{C||F.return==null||F.return()}finally{if(g)throw I}}this.endShape(p.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(f,u,g,y,d,l,w,x,_,T,E,S){var P=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,N=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,C="quad|".concat(f,"|").concat(u,"|").concat(g,"|").concat(y,"|").concat(d,"|").concat(l,"|").concat(w,"|").concat(x,"|").concat(_,"|").concat(T,"|").concat(E,"|").concat(S,"|").concat(P,"|").concat(N);if(!this.geometryInHash(C)){var I=new s.default.Geometry(P,N,function(){for(var X=1/(this.detailX-1),Q=1/(this.detailY-1),se=0;se<this.detailY;se++)for(var M=0;M<this.detailX;M++){var R=M*X,z=se*Q;this.vertices.push(new s.default.Vector((1-R)*((1-z)*f+z*T)+R*((1-z)*y+z*w),(1-R)*((1-z)*u+z*E)+R*((1-z)*d+z*x),(1-R)*((1-z)*g+z*S)+R*((1-z)*l+z*_))),this.uvs.push([R,z])}});I.faces=[];for(var L=0;L<N-1;L++)for(var F=0;F<P-1;F++){var D=F+L*P,B=F+1+(L+1)*P,$=F+(L+1)*P;I.faces.push([D,F+1+L*P,B]),I.faces.push([D,B,$])}I.computeNormals();for(var V=[I.edges.length=0,2,3,1],H=0;H<V.length;H++)I.edges.push([V[H],V[(H+1)%V.length]]);I._edgesToVertices(),this.createBuffers(C,I)}return this.drawBuffers(C),this},s.default.RendererGL.prototype.bezier=function(f,u,g,y,d,l,w,x,_,T,E,S){arguments.length===8&&(E=x,T=w,x=l,w=d,d=y,y=g,g=l=_=S=0);var P=this._pInst._bezierDetail||20;this.beginShape();for(var N=0;N<=P;N++){var C=Math.pow(1-N/P,3),I=N/P*3*Math.pow(1-N/P,2),L=3*Math.pow(N/P,2)*(1-N/P),F=Math.pow(N/P,3);this.vertex(f*C+y*I+w*L+T*F,u*C+d*I+x*L+E*F,g*C+l*I+_*L+S*F)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(f,u,g,y,d,l,w,x,_,T,E,S){arguments.length===8&&(T=w,E=x,w=d,x=y,d=y=g,g=l=_=S=0);var P=this._pInst._curveDetail;this.beginShape();for(var N=0;N<=P;N++){var C=.5*Math.pow(N/P,3),I=.5*Math.pow(N/P,2),L=N/P*.5;this.vertex(C*(3*y-f-3*w+T)+I*(2*f-5*y+4*w-T)+L*(-f+w)+2*y*.5,C*(3*d-u-3*x+E)+I*(2*u-5*d+4*x-E)+L*(-u+x)+2*d*.5,C*(3*l-g-3*_+S)+I*(2*g-5*l+4*_-S)+L*(-g+_)+2*l*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(p.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(p.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var f,u,g,y,d,l,w=[],x=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var T=1/this._lutBezierDetail,E=T,S=1,P=0;E<1;){if(l=parseFloat(E.toFixed(6)),this._lookUpTableBezier[P]=this._bezierCoefficients(l),S.toFixed(6)===T.toFixed(6)){l=parseFloat(S.toFixed(6))+parseFloat(E.toFixed(6)),++P,this._lookUpTableBezier[P]=this._bezierCoefficients(l);break}E+=T,S-=T,++P}}for(var N=this._lookUpTableBezier.length,C=[],I=0;I<4;I++)C.push([]);C[0]=this.immediateMode.geometry.vertexColors.slice(-4),C[3]=this.curFillColor.slice();var L=[];for(I=0;I<4;I++)L.push([]);if(L[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),L[3]=this.curStrokeColor.slice(),_===6){this.isBezier=!0;var w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],F=Math.hypot(w[0]-w[1],x[0]-x[1]),B=Math.hypot(w[1]-w[2],x[1]-x[2]),D=Math.hypot(w[2]-w[3],x[2]-x[3]),B=F+B+D;for(F/=B,D/=B,d=0;d<4;d++)C[1].push(C[0][d]*(1-F)+C[3][d]*F),C[2].push(C[0][d]*D+C[3][d]*(1-D)),L[1].push(L[0][d]*(1-F)+L[3][d]*F),L[2].push(L[0][d]*D+L[3][d]*(1-D));for(y=0;y<N;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=f=u=0;I<4;I++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[y][I]*C[I][d],this.curStrokeColor[d]+=this._lookUpTableBezier[y][I]*L[I][d];f+=w[I]*this._lookUpTableBezier[y][I],u+=x[I]*this._lookUpTableBezier[y][I]}this.vertex(f,u)}this.curFillColor=C[3],this.curStrokeColor=L[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(_===9){this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],x=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var $=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],V=Math.hypot(w[0]-w[1],x[0]-x[1],$[0]-$[1]),B=Math.hypot(w[1]-w[2],x[1]-x[2],$[1]-$[2]),H=Math.hypot(w[2]-w[3],x[2]-x[3],$[2]-$[3]),_=V+B+H;for(V/=_,H/=_,d=0;d<4;d++)C[1].push(C[0][d]*(1-V)+C[3][d]*V),C[2].push(C[0][d]*H+C[3][d]*(1-H)),L[1].push(L[0][d]*(1-V)+L[3][d]*V),L[2].push(L[0][d]*H+L[3][d]*(1-H));for(y=0;y<N;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=f=u=g=0;I<4;I++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableBezier[y][I]*C[I][d],this.curStrokeColor[d]+=this._lookUpTableBezier[y][I]*L[I][d];f+=w[I]*this._lookUpTableBezier[y][I],u+=x[I]*this._lookUpTableBezier[y][I],g+=$[I]*this._lookUpTableBezier[y][I]}this.vertex(f,u,g)}this.curFillColor=C[3],this.curStrokeColor=L[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var f,u,g,y,d,l,w=[],x=[],_=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var T=1/this._lutQuadraticDetail,E=T,S=1,P=0;E<1;){if(l=parseFloat(E.toFixed(6)),this._lookUpTableQuadratic[P]=this._quadraticCoefficients(l),S.toFixed(6)===T.toFixed(6)){l=parseFloat(S.toFixed(6))+parseFloat(E.toFixed(6)),++P,this._lookUpTableQuadratic[P]=this._quadraticCoefficients(l);break}E+=T,S-=T,++P}}for(var N=this._lookUpTableQuadratic.length,C=[],I=0;I<3;I++)C.push([]);C[0]=this.immediateMode.geometry.vertexColors.slice(-4),C[2]=this.curFillColor.slice();var L=[];for(I=0;I<3;I++)L.push([]);if(L[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),L[2]=this.curStrokeColor.slice(),_===4){this.isQuadratic=!0;var w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],F=Math.hypot(w[0]-w[1],x[0]-x[1]);for(F/=F+Math.hypot(w[1]-w[2],x[1]-x[2]),d=0;d<4;d++)C[1].push(C[0][d]*(1-F)+C[2][d]*F),L[1].push(L[0][d]*(1-F)+L[2][d]*F);for(y=0;y<N;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=f=u=0;I<3;I++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[y][I]*C[I][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[y][I]*L[I][d];f+=w[I]*this._lookUpTableQuadratic[y][I],u+=x[I]*this._lookUpTableQuadratic[y][I]}this.vertex(f,u)}this.curFillColor=C[2],this.curStrokeColor=L[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(_===6){this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],x=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var D=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],B=Math.hypot(w[0]-w[1],x[0]-x[1],D[0]-D[1]);for(B/=B+Math.hypot(w[1]-w[2],x[1]-x[2],D[1]-D[2]),d=0;d<4;d++)C[1].push(C[0][d]*(1-B)+C[2][d]*B),L[1].push(L[0][d]*(1-B)+L[2][d]*B);for(y=0;y<N;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=f=u=g=0;I<3;I++){for(d=0;d<4;d++)this.curFillColor[d]+=this._lookUpTableQuadratic[y][I]*C[I][d],this.curStrokeColor[d]+=this._lookUpTableQuadratic[y][I]*L[I][d];f+=w[I]*this._lookUpTableQuadratic[y][I],u+=x[I]*this._lookUpTableQuadratic[y][I],g+=D[I]*this._lookUpTableQuadratic[y][I]}this.vertex(f,u,g)}this.curFillColor=C[2],this.curStrokeColor=L[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var f,u,g,y,d,l,w=[],x=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var T=1/this._lutBezierDetail,E=T,S=1,P=0;E<1;){if(l=parseFloat(E.toFixed(6)),this._lookUpTableBezier[P]=this._bezierCoefficients(l),S.toFixed(6)===T.toFixed(6)){l=parseFloat(S.toFixed(6))+parseFloat(E.toFixed(6)),++P,this._lookUpTableBezier[P]=this._bezierCoefficients(l);break}E+=T,S-=T,++P}}var N=this._lookUpTableBezier.length;if(_===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),d=0;d<N;d++)u=w[0]*this._lookUpTableBezier[d][0]+w[1]*this._lookUpTableBezier[d][1]+w[2]*this._lookUpTableBezier[d][2]+w[3]*this._lookUpTableBezier[d][3],g=x[0]*this._lookUpTableBezier[d][0]+x[1]*this._lookUpTableBezier[d][1]+x[2]*this._lookUpTableBezier[d][2]+x[3]*this._lookUpTableBezier[d][3],this.vertex(u,g);for(d=0;d<_;d++)this.immediateMode._curveVertex.shift()}}else if(_===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),x=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),f=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),d=0;d<N;d++)u=w[0]*this._lookUpTableBezier[d][0]+w[1]*this._lookUpTableBezier[d][1]+w[2]*this._lookUpTableBezier[d][2]+w[3]*this._lookUpTableBezier[d][3],g=x[0]*this._lookUpTableBezier[d][0]+x[1]*this._lookUpTableBezier[d][1]+x[2]*this._lookUpTableBezier[d][2]+x[3]*this._lookUpTableBezier[d][3],y=f[0]*this._lookUpTableBezier[d][0]+f[1]*this._lookUpTableBezier[d][1]+f[2]*this._lookUpTableBezier[d][2]+f[3]*this._lookUpTableBezier[d][3],this.vertex(u,g,y);for(d=0;d<_;d++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(f,S,g,P,d,l,w,x,_){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(f),this._pInst.textureMode(p.NORMAL);var T=0,E=(S<=f.width&&(T=S/f.width),1),S=(S+P<=f.width&&(E=(S+P)/f.width),0),P=(g<=f.height&&(S=g/f.height),1);g+d<=f.height&&(P=(g+d)/f.height),this.beginShape(),this.vertex(l,w,0,T,S),this.vertex(l+x,w,0,E,S),this.vertex(l+x,w+_,0,E,P),this.vertex(l,w+_,0,T,P),this.endShape(p.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(p.REMOVE)};var i=s.default;c.default=i},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,m,c){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}function h(u){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(f=t("../core/main"))&&f.__esModule?f:{default:f},p=function(u){if(u&&u.__esModule)return u;if(u===null||h(u)!=="object"&&typeof u!="function")return{default:u};var g=b();if(g&&g.has(u))return g.get(u);var y,d={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u){var w;Object.prototype.hasOwnProperty.call(u,y)&&((w=l?Object.getOwnPropertyDescriptor(u,y):null)&&(w.get||w.set)?Object.defineProperty(d,y,w):d[y]=u[y])}return d.default=u,g&&g.set(u,d),d}(t("../core/constants"));function b(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,b=function(){return u},u)}function v(u){return function(g){if(Array.isArray(g)){for(var y=0,d=new Array(g.length);y<g.length;y++)d[y]=g[y];return d}}(u)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(u,g){for(var y=0;y<g.length;y++){var d=g[y];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var f=function(){function u(d){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");(this.renderer=d)._pInst.push(),this.identityMatrix=new s.default.Matrix,d.uModelMatrix=new s.default.Matrix,this.geometry=new s.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(u.nextGeometryId),u.nextGeometryId++,this.hasTransform=!1}var g,y;return g=u,(y=[{key:"transformVertices",value:function(d){var l=this;return this.hasTransform?d.map(function(w){return l.renderer.uModelMatrix.multiplyPoint(w)}):d}},{key:"transformNormals",value:function(d){var l=this;return this.hasTransform?d.map(function(w){return l.renderer.uNMatrix.multiplyVec3(w)}):d}},{key:"addGeometry",value:function(d){for(var l,w=this,x=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(T,E){return T===w.identityMatrix.mat4[E]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),_=((l=this.geometry.vertices).push.apply(l,v(this.transformVertices(d.vertices))),(l=this.geometry.vertexNormals).push.apply(l,v(this.transformNormals(d.vertexNormals))),(l=this.geometry.uvs).push.apply(l,v(d.uvs)),this.renderer._doFill&&(l=this.geometry.faces).push.apply(l,v(d.faces.map(function(T){return T.map(function(E){return E+x})}))),this.renderer._doStroke&&(l=this.geometry.edges).push.apply(l,v(d.edges.map(function(T){return T.map(function(E){return E+x})}))),v(d.vertexColors));_.length<4*d.vertices.length;)_.push.apply(_,v(this.renderer.curFillColor));(l=this.geometry.vertexColors).push.apply(l,v(_))}},{key:"addImmediate",value:function(){var d=this.renderer.immediateMode.geometry,l=this.renderer.immediateMode.shapeMode,w=[];if(this.renderer._doFill)if(l===p.TRIANGLE_STRIP||l===p.QUAD_STRIP)for(var x=2;x<d.vertices.length;x++)x%2==0?w.push([x,x-1,x-2]):w.push([x,x-2,x-1]);else if(l===p.TRIANGLE_FAN)for(var _=2;_<d.vertices.length;_++)w.push([0,_-1,_]);else for(var T=0;T<d.vertices.length;T+=3)w.push([T,T+1,T+2]);this.addGeometry(Object.assign({},d,{faces:w}))}},{key:"addRetained",value:function(d){this.addGeometry(d.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&i(g.prototype,y),u}();f.nextGeometryId=0,c.default=f},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,m,c){function a(i){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=(v=t("../core/main"))&&v.__esModule?v:{default:v},s=function(i){if(i&&i.__esModule)return i;if(i===null||b(i)!=="object"&&typeof i!="function")return{default:i};var f=p();if(f&&f.has(i))return f.get(i);var u,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var d;Object.prototype.hasOwnProperty.call(i,u)&&((d=y?Object.getOwnPropertyDescriptor(i,u):null)&&(d.get||d.set)?Object.defineProperty(g,u,d):g[u]=i[u])}return g.default=i,f&&f.set(i,g),g}(t("../core/constants"));function p(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,p=function(){return i},i)}function b(i){return(b=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(i)}h.default.prototype.orbitControl=function(i,f,u,_){var y=this,d=(this._assert3d("orbitControl"),h.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);i===void 0&&(i=1),f===void 0&&(f=i),u===void 0&&(u=1),b(_)!=="object"&&(_={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var E=_.disableTouchActions;this.touchActionsDisabled===!0||E!==void 0&&!E||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var l,w,x,E=_.freeRotation,_=E!==void 0&&E,T=[],E=(this.touches.forEach(function(F){y._renderer.prevTouches.forEach(function(D){F.id===D.id&&(D={x:F.x,y:F.y,px:D.x,py:D.y},T.push(D))})}),this._renderer.prevTouches=this.touches,0),S=0,P=0,N=0,C=0,I=this.height<this.width?this.height:this.width,L=!1;return 0<T.length?(L=0<T[0].x&&T[0].x<this.width&&0<T[0].y&&T[0].y<this.height,T.length===1?(S=-i*((l=T[0]).x-l.px)/I,P=f*(l.y-l.py)/I):(l=T[0],w=T[1],E=-(Math.hypot(l.x-w.x,l.y-w.y)-Math.hypot(l.px-w.px,l.py-w.py))*u*4e-4,N=.5*(l.x+w.x)-.5*(l.px+w.px),C=.5*(l.y+w.y)-.5*(l.py+w.py)),0<this.touches.length?L&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(L=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(E=Math.sign(this._mouseWheelDeltaY)*u,E*=.01,this._mouseWheelDeltaY=0,L&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(S=-i*this.movedX/I,P=f*this.movedY/I):this.mouseButton===this.RIGHT&&(N=this.movedX,C=this.movedY*d.yScale),L&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),E!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=E),.001<Math.abs(this._renderer.zoomVelocity)?(_?d._orbitFree(0,0,this._renderer.zoomVelocity):d._orbit(0,0,this._renderer.zoomVelocity),d.projMatrix.mat4[15]!==0&&(d.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),d.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=d.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=d.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,S===0&&P===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*S,.6*P),1e-6<this._renderer.rotateVelocity.magSq()?(_?d._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):d._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),N===0&&C===0||!this._renderer.executeRotateAndMove||(l=2*N/this.width,w=2*-C/this.height,this._renderer.moveVelocity.add(.15*l,.15*w)),1e-6<this._renderer.moveVelocity.magSq()?(u=d._getLocalAxes(),i=d.eyeX-d.centerX,f=d.eyeY-d.centerY,I=d.eyeZ-d.centerZ,L=Math.sqrt(i*i+f*f+I*I),E=new h.default.Vector(d.centerX,d.centerY,d.centerZ),E=d.cameraMatrix.multiplyPoint(E),(E=this._renderer.uPMatrix.multiplyAndNormalizePoint(E)).x-=this._renderer.moveVelocity.x,E.y-=this._renderer.moveVelocity.y,P=(S=this._renderer.uPMatrix.mat4)[15]===0?(x=(S[8]+E.x)/S[0]*L,(S[9]+E.y)/S[5]*L):(x=(E.x-S[12])/S[0],(E.y-S[13])/S[5]),d.setPosition(d.eyeX+x*u.x[0]+P*u.y[0],d.eyeY+x*u.x[1]+P*u.y[1],d.eyeZ+x*u.x[2]+P*u.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},h.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var i=arguments.length,f=new Array(i),u=0;u<i;u++)f[u]=arguments[u];h.default._validateParameters("debugMode",f);for(var g=this._registeredMethods.post.length-1;0<=g;g--)this._registeredMethods.post[g].toString()!==this._grid().toString()&&this._registeredMethods.post[g].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(g,1);f[0]===s.GRID?this.registerMethod("post",this._grid(f[1],f[2],f[3],f[4],f[5])):f[0]===s.AXES?this.registerMethod("post",this._axesIcon(f[1],f[2],f[3],f[4])):(this.registerMethod("post",this._grid(f[0],f[1],f[2],f[3],f[4])),this.registerMethod("post",this._axesIcon(f[5],f[6],f[7],f[8])))},h.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;0<=i;i--)this._registeredMethods.post[i].toString()!==this._grid().toString()&&this._registeredMethods.post[i].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(i,1)},h.default.prototype._grid=function(i,f,u,g,y){i===void 0&&(i=this.width/2),f===void 0&&(f=Math.round(i/30)<4?4:Math.round(i/30)),u===void 0&&(u=0),g===void 0&&(g=0),y===void 0&&(y=0);var d=i/f,l=i/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var w=0;w<=f;w++)this.beginShape(this.LINES),this.vertex(-l+u,g,w*d-l+y),this.vertex(l+u,g,w*d-l+y),this.endShape();for(var x=0;x<=f;x++)this.beginShape(this.LINES),this.vertex(x*d-l+u,g,-l+y),this.vertex(x*d-l+u,g,l+y),this.endShape();this.pop()}},h.default.prototype._axesIcon=function(i,f,u,g){return i===void 0&&(i=40<this.width/20?this.width/20:40),f===void 0&&(f=-this.width/4),u===void 0&&(u=f),g===void 0&&(g=f),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(f,u,g),this.vertex(f+i,u,g),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(f,u,g),this.vertex(f,u+i,g),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(f,u,g),this.vertex(f,u,g+i),this.endShape(),this.pop()}};var v=h.default;c.default=v},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,m,c){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.ambientLight=function(h,s,p,b){this._assert3d("ambientLight"),a.default._validateParameters("ambientLight",arguments);var v=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(v._array[0],v._array[1],v._array[2]),this._renderer._enableLighting=!0,this},a.default.prototype.specularColor=function(h,s,p){this._assert3d("specularColor"),a.default._validateParameters("specularColor",arguments);var b=this.color.apply(this,arguments);return this._renderer.specularColors=[b._array[0],b._array[1],b._array[2]],this},a.default.prototype.directionalLight=function(h,y,g,b,v,i){this._assert3d("directionalLight"),a.default._validateParameters("directionalLight",arguments),h=h instanceof a.default.Color?h:this.color(h,y,g);var f,u,y=arguments[arguments.length-1],g=typeof y=="number"?(f=arguments[arguments.length-3],u=arguments[arguments.length-2],arguments[arguments.length-1]):(f=y.x,u=y.y,y.z),y=Math.sqrt(f*f+u*u+g*g);return this._renderer.directionalLightDirections.push(f/y,u/y,g/y),this._renderer.directionalLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.pointLight=function(h,g,y,b,v,i){this._assert3d("pointLight"),a.default._validateParameters("pointLight",arguments),h=h instanceof a.default.Color?h:this.color(h,g,y);var f,u,g=arguments[arguments.length-1],y=typeof g=="number"?(f=arguments[arguments.length-3],u=arguments[arguments.length-2],arguments[arguments.length-1]):(f=g.x,u=g.y,g.z);return this._renderer.pointLightPositions.push(f,u,y),this._renderer.pointLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.imageLight=function(h){this._renderer.activeImageLight=h,this._renderer._enableLighting=!0},a.default.prototype.panorama=function(h){this.filter(this._renderer._getSphereMapping(h))},a.default.prototype.lights=function(){this._assert3d("lights");var h=this.color("rgb(128,128,128)");return this.ambientLight(h),this.directionalLight(h,0,0,-1),this},a.default.prototype.lightFalloff=function(h,s,p){return this._assert3d("lightFalloff"),a.default._validateParameters("lightFalloff",arguments),h<0&&(h=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),p<0&&(p=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),h===0&&s===0&&p===0&&(h=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=h,this._renderer.linearAttenuation=s,this._renderer.quadraticAttenuation=p,this},a.default.prototype.spotLight=function(h,s,p,b,v,i,f,u,g,y,d){this._assert3d("spotLight"),a.default._validateParameters("spotLight",arguments);var l,w,x,_=arguments.length;switch(_){case 11:case 10:l=this.color(h,s,p),w=new a.default.Vector(b,v,i),x=new a.default.Vector(f,u,g);break;case 9:h instanceof a.default.Color?(l=h,w=new a.default.Vector(s,p,b),x=new a.default.Vector(v,i,f),y=u,d=g):b instanceof a.default.Vector?(l=this.color(h,s,p),w=b,x=new a.default.Vector(v,i,f),y=u,d=g):f instanceof a.default.Vector?(l=this.color(h,s,p),w=new a.default.Vector(b,v,i),x=f,y=u,d=g):(l=this.color(h,s,p),w=new a.default.Vector(b,v,i),x=new a.default.Vector(f,u,g));break;case 8:y=(x=h instanceof a.default.Color?(l=h,w=new a.default.Vector(s,p,b),new a.default.Vector(v,i,f)):b instanceof a.default.Vector?(l=this.color(h,s,p),w=b,new a.default.Vector(v,i,f)):(l=this.color(h,s,p),w=new a.default.Vector(b,v,i),f),u);break;case 7:h instanceof a.default.Color&&s instanceof a.default.Vector?(l=h,w=s,x=new a.default.Vector(p,b,v),y=i,d=f):h instanceof a.default.Color&&v instanceof a.default.Vector?(l=h,w=new a.default.Vector(s,p,b),x=v,y=i,d=f):b instanceof a.default.Vector&&v instanceof a.default.Vector?(l=this.color(h,s,p),w=b,x=v,y=i,d=f):x=h instanceof a.default.Color?(l=h,w=new a.default.Vector(s,p,b),new a.default.Vector(v,i,f)):b instanceof a.default.Vector?(l=this.color(h,s,p),w=b,new a.default.Vector(v,i,f)):(l=this.color(h,s,p),w=new a.default.Vector(b,v,i),f);break;case 6:b instanceof a.default.Vector&&v instanceof a.default.Vector?(l=this.color(h,s,p),w=b,x=v,y=i):h instanceof a.default.Color&&v instanceof a.default.Vector?(l=h,w=new a.default.Vector(s,p,b),x=v,y=i):h instanceof a.default.Color&&s instanceof a.default.Vector&&(l=h,w=s,x=new a.default.Vector(p,b,v),y=i);break;case 5:h instanceof a.default.Color&&s instanceof a.default.Vector&&p instanceof a.default.Vector?(l=h,w=s,x=p,y=b,d=v):b instanceof a.default.Vector&&v instanceof a.default.Vector?(l=this.color(h,s,p),w=b,x=v):h instanceof a.default.Color&&v instanceof a.default.Vector?(l=h,w=new a.default.Vector(s,p,b),x=v):h instanceof a.default.Color&&s instanceof a.default.Vector&&(l=h,w=s,x=new a.default.Vector(p,b,v));break;case 4:l=h,w=s,x=p,y=b;break;case 3:l=h,w=s,x=p;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(_<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(w.x,w.y,w.z),x.normalize(),this._renderer.spotLightDirections.push(x.x,x.y,x.z),y===void 0&&(y=Math.PI/3),d!==void 0&&d<1?(d=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):d===void 0&&(d=100),y=this._renderer._pInst._toRadians(y),this._renderer.spotLightAngle.push(Math.cos(y)),this._renderer.spotLightConc.push(d),this._renderer._enableLighting=!0,this},a.default.prototype.noLights=function(){this._assert3d("noLights");for(var h=arguments.length,s=new Array(h),p=0;p<h;p++)s[p]=arguments[p];return a.default._validateParameters("noLights",s),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=a.default,c.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,m,c){function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t("regenerator-runtime/runtime");var h=(g=t("../core/main"))&&g.__esModule?g:{default:g};function s(y){return function(d){if(Array.isArray(d)){for(var l=0,w=new Array(d.length);l<d.length;l++)w[l]=d[l];return w}}(y)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(y,d,l,w,x,_,T){try{var E=y[_](T),S=E.value}catch(P){return void l(P)}E.done?d(S):Promise.resolve(S).then(w,x)}function b(y){return function(){var d=this,l=arguments;return new Promise(function(w,x){var _=y.apply(d,l);function T(S){p(_,w,x,T,E,"next",S)}function E(S){p(_,w,x,T,E,"throw",S)}T(void 0)})}}function v(y){return(v=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(d){return a(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":a(d)})(y)}function i(y,d,l){for(var w=2<arguments.length&&l!==void 0?l:{},x={v:[],vt:[],vn:[]},_={},T=null,E=new Set,S=!1,P=!1,N=0;N<d.length;++N){var C=d[N].trim().split(/\b\s+/);if(0<C.length){if(C[0]==="usemtl")T=C[1];else if(C[0]==="v"||C[0]==="vn"){var I=new h.default.Vector(parseFloat(C[1]),parseFloat(C[2]),parseFloat(C[3]));x[C[0]].push(I)}else if(C[0]==="vt")I=[parseFloat(C[1]),1-parseFloat(C[2])],x[C[0]].push(I);else if(C[0]==="f")for(var L=3;L<C.length;++L){for(var F=[],D=[1,L-1,L],B=0;B<D.length;++B){for(var $,V=C[D[B]],H=V.split("/"),X=0;X<H.length;X++)H[X]=parseInt(H[X])-1;_[V]||(_[V]={}),_[V][T]===void 0?($=y.vertices.length,y.vertices.push(x.v[H[0]].copy()),y.uvs.push(x.vt[H[1]]?x.vt[H[1]].slice():[0,0]),y.vertexNormals.push(x.vn[H[2]]?x.vn[H[2]].copy():new h.default.Vector),_[V][T]=$,F.push($),T&&w[T]&&w[T].diffuseColor&&E.add(x.v[H[0]])):F.push(_[V][T])}if(F[0]!==F[1]&&F[0]!==F[2]&&F[1]!==F[2])if(y.faces.push(F),T&&w[T]&&w[T].diffuseColor)for(var S=S=!0,Q=w[T].diffuseColor,se=0;se<F.length;se++)y.vertexColors.push(Q[0]),y.vertexColors.push(Q[1]),y.vertexColors.push(Q[2]);else P=!0}}}if(y.vertexNormals.length===0&&y.computeNormals(),S===P)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function f(y,d){if(function(ce){for(var ee=new DataView(ce),de=[115,111,108,105,100],ye=0;ye<5;ye++)if(function(we,ge,ve){for(var je=0,De=we.length;je<De;je++)if(we[je]!==ge.getUint8(ve+je,!1))return;return 1}(de,ee,ye))return;return 1}(d)){for(var l,w,x,_,T,E,S,P=y,N=new DataView(d),C=N.getUint32(80,!0),I=!1,L=0;L<70;L++)N.getUint32(L,!1)===1129270351&&N.getUint8(L+4)===82&&N.getUint8(L+5)===61&&(I=!0,_=[],T=N.getUint8(L+6)/255,E=N.getUint8(L+7)/255,S=N.getUint8(L+8)/255);for(var F=0;F<C;F++){for(var D,B=84+50*F,$=N.getFloat32(B,!0),V=N.getFloat32(4+B,!0),H=N.getFloat32(8+B,!0),X=(I&&(D=N.getUint16(48+B,!0),x=32768&D?(l=T,w=E,S):(l=(31&D)/31,w=(D>>5&31)/31,(D>>10&31)/31)),new h.default.Vector($,V,H)),Q=1;Q<=3;Q++){var se=B+12*Q,se=new h.default.Vector(N.getFloat32(se,!0),N.getFloat32(4+se,!0),N.getFloat32(8+se,!0));P.vertices.push(se),P.vertexNormals.push(X),I&&_.push(l,w,x)}P.faces.push([3*F,3*F+1,3*F+2]),P.uvs.push([0,0],[0,0],[0,0])}}else if(d=new DataView(d),"TextDecoder"in window)for(var M,R,z=y,q=new TextDecoder("utf-8").decode(d).split(`
`),Z="",te=[],ie=0;ie<q.length;++ie){for(var he=q[ie].trim(),oe=he.split(" "),fe=0;fe<oe.length;++fe)oe[fe]===""&&oe.splice(fe,1);if(oe.length!==0)switch(Z){case"":if(oe[0]!=="solid")return console.error(he),void console.error('Invalid state "'.concat(oe[0],'", should be "solid"'));Z="solid";break;case"solid":if(oe[0]!=="facet"||oe[1]!=="normal")return console.error(he),void console.error('Invalid state "'.concat(oe[0],'", should be "facet normal"'));M=new h.default.Vector(parseFloat(oe[2]),parseFloat(oe[3]),parseFloat(oe[4])),z.vertexNormals.push(M,M,M),Z="facet normal";break;case"facet normal":if(oe[0]!=="outer"||oe[1]!=="loop")return console.error(he),void console.error('Invalid state "'.concat(oe[0],'", should be "outer loop"'));Z="vertex";break;case"vertex":if(oe[0]==="vertex")R=new h.default.Vector(parseFloat(oe[1]),parseFloat(oe[2]),parseFloat(oe[3])),z.vertices.push(R),z.uvs.push([0,0]),te.push(z.vertices.indexOf(R));else{if(oe[0]!=="endloop")return console.error(he),void console.error('Invalid state "'.concat(oe[0],'", should be "vertex" or "endloop"'));z.faces.push(te),te=[],Z="endloop"}break;case"endloop":if(oe[0]!=="endfacet")return console.error(he),void console.error('Invalid state "'.concat(oe[0],'", should be "endfacet"'));Z="endfacet";break;case"endfacet":if(oe[0]!=="endsolid"){if(oe[0]!=="facet"||oe[1]!=="normal")return console.error(he),void console.error('Invalid state "'.concat(oe[0],'", should be "endsolid" or "facet normal"'));M=new h.default.Vector(parseFloat(oe[2]),parseFloat(oe[3]),parseFloat(oe[4])),z.vertexNormals.push(M,M,M),Z="facet normal"}break;default:console.error('Invalid state "'.concat(Z,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),h.default.prototype.loadModel=function(y,d){h.default._validateParameters("loadModel",arguments);var l,w,x=!1,_=!1,T=!1,E=y.slice(-4),S=(d&&v(d)==="object"?(x=d.normalize||!1,l=d.successCallback,w=d.failureCallback,E=d.fileType||E,_=d.flipU||!1,T=d.flipV||!1):typeof d=="boolean"?(x=d,l=arguments[2],w=arguments[3],arguments[4]!==void 0&&(E=arguments[4])):(l=typeof d=="function"?d:void 0,w=arguments[2],arguments[3]!==void 0&&(E=arguments[3])),new h.default.Geometry),P=(S.gid="".concat(y,"|").concat(x),this);function N(){return(N=b(regeneratorRuntime.mark(function I(L){var F,D,B,$;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:for(F=[],D=0;D<L.length;D++)(B=L[D].match(/^mtllib (.+)/))&&function(){var H="",X=B[1],Q=y.split("/");H=1<Q.length?(Q.pop(),Q.join("/")+"/"+X):X,F.push(function(){return C.apply(this,arguments)}(H).then(function(se){return se?(M=P,R=H,new Promise(function(z,q){var Z=null,te={};M.loadStrings(R,function(ie){for(var he=0;he<ie.length;++he){var oe,fe=ie[he].trim().split(/\s+/);fe[0]==="newmtl"?(oe=fe[1],te[Z=oe]={}):fe[0]==="Kd"?te[Z].diffuseColor=[parseFloat(fe[1]),parseFloat(fe[2]),parseFloat(fe[3])]:fe[0]==="Ka"?te[Z].ambientColor=[parseFloat(fe[1]),parseFloat(fe[2]),parseFloat(fe[3])]:fe[0]==="Ks"?te[Z].specularColor=[parseFloat(fe[1]),parseFloat(fe[2]),parseFloat(fe[3])]:fe[0]==="map_Kd"&&(te[Z].texturePath=fe[1])}z(te)},q)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(H)),{});var M,R}).catch(function(se){return console.warn("Error loading MTL file: ".concat(H),se),{}}))}();return V.prev=2,V.next=5,Promise.all(F);case 5:return $=V.sent,$=Object.assign.apply(Object,[{}].concat(s($))),V.abrupt("return",$);case 10:return V.prev=10,V.t0=V.catch(2),V.abrupt("return",{});case 13:case"end":return V.stop()}},I,null,[[2,10]])}))).apply(this,arguments)}function C(){return(C=b(regeneratorRuntime.mark(function I(L){var F;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,fetch(L,{method:"HEAD"});case 3:return F=D.sent,D.abrupt("return",F.ok);case 7:return D.prev=7,D.t0=D.catch(0),D.abrupt("return",!1);case 10:case"end":return D.stop()}},I,null,[[0,7]])}))).apply(this,arguments)}return E.match(/\.stl$/i)?this.httpDo(y,"GET","arrayBuffer",function(I){f(S,I),x&&S.normalize(),_&&S.flipU(),T&&S.flipV(),P._decrementPreload(),typeof l=="function"&&l(S)},w):E.match(/\.obj$/i)?this.loadStrings(y,function(){var I=b(regeneratorRuntime.mark(function L(F){var D;return regeneratorRuntime.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,function(){return N.apply(this,arguments)}(F);case 3:D=B.sent,i(S,F,D),B.next=11;break;case 7:return B.prev=7,B.t0=B.catch(0),w?w(B.t0):h.default._friendlyError("Error during parsing: "+B.t0.message),B.abrupt("return");case 11:return B.prev=11,x&&S.normalize(),_&&S.flipU(),T&&S.flipV(),S._makeTriangleEdges(),P._decrementPreload(),typeof l=="function"&&l(S),B.finish(11);case 19:case"end":return B.stop()}},L,null,[[0,7,11,19]])}));return function(L){return I.apply(this,arguments)}}(),w):(h.default._friendlyFileLoadError(3,y),w?w():h.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),S},h.default.prototype.model=function(y){this._assert3d("model"),h.default._validateParameters("model",arguments),0<y.vertices.length&&(this._renderer.geometryInHash(y.gid)||(y._edgesToVertices(),this._renderer.createBuffers(y.gid,y)),this._renderer.drawBuffers(y.gid))};var u=0,g=(h.default.prototype.createModel=function(y){var d,l,w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",E=2<arguments.length?arguments[2]:void 0,x=(h.default._validateParameters("createModel",arguments),!1),_=!1,T=!1,E=(E&&v(E)==="object"?(x=E.normalize||!1,d=E.successCallback,l=E.failureCallback,_=E.flipU||!1,T=E.flipV||!1):l=typeof E=="boolean"?(x=E,d=arguments[3],arguments[4]):(d=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new h.default.Geometry);if(E.gid="".concat(w,"|").concat(x,"|").concat(u++),w.match(/\.stl$/i))try{f(E,new TextEncoder().encode(y).buffer)}catch(S){return void(l?l(S):h.default._friendlyError("Error during parsing: "+S.message))}else if(w.match(/\.obj$/i))try{i(E,y.split(`
`))}catch(S){return void(l?l(S):h.default._friendlyError("Error during parsing: "+S.message))}else h.default._friendlyFileLoadError(3,y),l?l():h.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return x&&E.normalize(),_&&E.flipU(),T&&E.flipV(),E._makeTriangleEdges(),typeof d=="function"&&d(E),E},h.default);c.default=g},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,m,c){function a(i){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}function h(i){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(v=t("../core/main"))&&v.__esModule?v:{default:v},p=function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var f=b();if(f&&f.has(i))return f.get(i);var u,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var d;Object.prototype.hasOwnProperty.call(i,u)&&((d=y?Object.getOwnPropertyDescriptor(i,u):null)&&(d.get||d.set)?Object.defineProperty(g,u,d):g[u]=i[u])}return g.default=i,f&&f.set(i,g),g}(t("../core/constants"));function b(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,b=function(){return i},i)}t("./p5.Texture"),s.default.prototype.loadShader=function(i,f,u,g){s.default._validateParameters("loadShader",arguments),g=g||console.error;function y(){l._decrementPreload(),u&&u(d)}var d=new s.default.Shader,l=this,w=!1,x=!1;return this.loadStrings(i,function(_){d._vertSrc=_.join(`
`),x=!0,w&&y()},g),this.loadStrings(f,function(_){d._fragSrc=_.join(`
`),w=!0,x&&y()},g),d},s.default.prototype.createShader=function(i,f,u){return s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,i,f,u)},s.default.prototype.createFilterShader=function(i){s.default._validateParameters("createFilterShader",arguments);var f=i.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,f=new s.default.Shader(this._renderer,f,i);return this._renderer.GL?f.ensureCompiledOnContext(this):f.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),f},s.default.prototype.shader=function(i){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),i.ensureCompiledOnContext(this),i.isStrokeShader()?this._renderer.userStrokeShader=i:(this._renderer.userFillShader=i,this._renderer._useNormalMaterial=!1),i.setDefaultUniforms(),this},s.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},s.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},s.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},s.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(i){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),i.gifProperties&&i._animateGif(this),this._renderer.drawMode=p.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=i,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(i){i!==p.IMAGE&&i!==p.NORMAL?console.warn("You tried to set ".concat(i," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=i},s.default.prototype.textureWrap=function(i){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,u=(this._renderer.textureWrapX=i,this._renderer.textureWrapY=f,!0),g=!1,y=void 0;try{for(var d,l=this._renderer.textures.values()[Symbol.iterator]();!(u=(d=l.next()).done);u=!0)d.value.setWrapMode(i,f)}catch(w){g=!0,y=w}finally{try{u||l.return==null||l.return()}finally{if(g)throw y}}},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var i=arguments.length,f=new Array(i),u=0;u<i;u++)f[u]=arguments[u];return s.default._validateParameters("normalMaterial",f),this._renderer.drawMode=p.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(i,f,u){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var g=s.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=g._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(i,f,u,g){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var y=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=y._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.specularMaterial=function(i,f,u,g){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var y=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=y._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},s.default.prototype.shininess=function(i){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=i=i<1?1:i,this},s.default.prototype.metalness=function(i){return this._assert3d("metalness"),i=1-Math.exp(-i/100),this._renderer._useMetalness=i,this},s.default.RendererGL.prototype._applyColorBlend=function(i,y){var u=this.GL,g=this.drawMode===p.TEXTURE,y=y||this.userFillShader||this.userStrokeShader||this.userPointShader||g||this.curBlendMode!==p.BLEND||i[i.length-1]<1||this._isErasing;return y!==this._isBlending&&(y||this.curBlendMode!==p.BLEND&&this.curBlendMode!==p.ADD?u.enable(u.BLEND):u.disable(u.BLEND),u.depthMask(!0),this._isBlending=y),this._applyBlendMode(),i},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var i=this.GL;switch(this.curBlendMode){case p.BLEND:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case p.ADD:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE);break;case p.REMOVE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ZERO,i.ONE_MINUS_SRC_ALPHA);break;case p.MULTIPLY:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA);break;case p.SCREEN:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_COLOR);break;case p.EXCLUSION:i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.ONE_MINUS_DST_COLOR,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE);break;case p.REPLACE:i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO);break;case p.SUBTRACT:i.blendEquationSeparate(i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case p.DARKEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case p.LIGHTEST:this.blendExt?(i.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,i.FUNC_ADD),i.blendFuncSeparate(i.ONE,i.ONE,i.ONE,i.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var v=s.default;c.default=v},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,m,c){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(s,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}a.default.prototype.camera=function(){var s;this._assert3d("camera");for(var p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];return a.default._validateParameters("camera",b),(s=this._renderer._curCamera).camera.apply(s,b),this},a.default.prototype.perspective=function(){var s;this._assert3d("perspective");for(var p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];return a.default._validateParameters("perspective",b),(s=this._renderer._curCamera).perspective.apply(s,b),this},a.default.prototype.linePerspective=function(s){if(a.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof a.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(s===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=s},a.default.prototype.ortho=function(){var s;this._assert3d("ortho");for(var p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];return a.default._validateParameters("ortho",b),(s=this._renderer._curCamera).ortho.apply(s,b),this},a.default.prototype.frustum=function(){var s;this._assert3d("frustum");for(var p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];return a.default._validateParameters("frustum",b),(s=this._renderer._curCamera).frustum.apply(s,b),this},a.default.prototype.createCamera=function(){this._assert3d("createCamera");var s=new a.default.Camera(this._renderer);return s._computeCameraDefaultSettings(),s._setDefaultCamera(),this._renderer._curCamera=s},a.default.Camera=function(){function s(v){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._renderer=v,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new a.default.Matrix,this.projMatrix=new a.default.Matrix,this.yScale=1}var p,b;return p=s,(b=[{key:"perspective",value:function(g,i,f,u){this.cameraType=0<arguments.length?"custom":"default",g===void 0?(g=this.defaultCameraFOV,this.cameraFOV=g):this.cameraFOV=this._renderer._pInst._toRadians(g),i===void 0&&(i=this.defaultAspectRatio),f===void 0&&(f=this.defaultCameraNear),u===void 0&&(u=this.defaultCameraFar),f<=1e-4&&(f=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<f&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=i,this.cameraNear=f,this.cameraFar=u,this.projMatrix=a.default.Matrix.identity();var g=1/Math.tan(this.cameraFOV/2),y=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(g/i,0,0,0,0,-g*this.yScale,0,0,0,0,(u+f)*y,-1,0,0,2*u*f*y,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(E,T,f,u,g,y){var S=this.fbo||this._renderer,S=(E===void 0&&(E=-S.width/2),T===void 0&&(T=+S.width/2),f===void 0&&(f=-S.height/2),u===void 0&&(u=+S.height/2),g===void 0&&(g=0),y===void 0&&(y=Math.max(S.width,S.height)+800),this.cameraNear=g,T-E),d=u-f,l=(this.cameraFar=y)-g,w=2/S,x=2/d*this.yScale,_=-2/l,T=-(T+E)/S,E=-(u+f)/d,S=-(y+g)/l;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-x,0,0,0,0,_,0,T,E,S,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(E,T,f,u,g,y){E===void 0&&(E=.05*-this._renderer.width),T===void 0&&(T=.05*+this._renderer.width),f===void 0&&(f=.05*+this._renderer.height),u===void 0&&(u=.05*-this._renderer.height),g===void 0&&(g=this.defaultCameraNear),y===void 0&&(y=this.defaultCameraFar),this.cameraNear=g;var S=T-E,d=u-f,l=(this.cameraFar=y)-g,w=2*g/S,x=2*g/d*this.yScale,_=-2*y*g/l,T=(T+E)/S,E=(u+f)/d,S=-(y+g)/l;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(w,0,0,0,0,-x,0,0,T,E,S,-1,0,0,_,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(w,x,_,T){var g=this.centerX,y=this.centerY,d=this.centerZ,l=(g-=this.eyeX,y-=this.eyeY,d-=this.eyeZ,a.default.Matrix.identity(this._renderer._pInst)),w=(l.rotate(this._renderer._pInst._toRadians(w),x,_,T),[g*l.mat4[0]+y*l.mat4[4]+d*l.mat4[8],g*l.mat4[1]+y*l.mat4[5]+d*l.mat4[9],g*l.mat4[2]+y*l.mat4[6]+d*l.mat4[10]]),x=(w[0]+=this.eyeX,w[1]+=this.eyeY,w[2]+=this.eyeZ,this.upX*l.mat4[0]+this.upY*l.mat4[4]+this.upZ*l.mat4[8]),_=this.upX*l.mat4[1]+this.upY*l.mat4[5]+this.upZ*l.mat4[9],T=this.upX*l.mat4[2]+this.upY*l.mat4[6]+this.upZ*l.mat4[10];this.camera(this.eyeX,this.eyeY,this.eyeZ,w[0],w[1],w[2],x,_,T)}},{key:"roll",value:function(f){var i=this._getLocalAxes(),f=a.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(f),i.z[0],i.z[1],i.z[2]).rotateVector(new a.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,f.x,f.y,f.z)}},{key:"pan",value:function(v){var i=this._getLocalAxes();this._rotateView(v,i.y[0],i.y[1],i.y[2])}},{key:"tilt",value:function(v){var i=this._getLocalAxes();this._rotateView(v,i.x[0],i.x[1],i.x[2])}},{key:"lookAt",value:function(v,i,f){this.camera(this.eyeX,this.eyeY,this.eyeZ,v,i,f,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(v,i,f,u,g,y,d,l,w){return v===void 0&&(v=this.defaultEyeX,i=this.defaultEyeY,f=this.defaultEyeZ,u=v,g=i,l=1,w=d=y=0),this.eyeX=v,this.eyeY=i,this.eyeZ=f,u!==void 0&&(this.centerX=u,this.centerY=g,this.centerZ=y),d!==void 0&&(this.upX=d,this.upY=l,this.upZ=w),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),g=-v,this.cameraMatrix.translate([g,-i,-f]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(u,g,f){var y=this._getLocalAxes(),u=[y.x[0]*u,y.x[1]*u,y.x[2]*u],g=[y.y[0]*g,y.y[1]*g,y.y[2]*g],y=[y.z[0]*f,y.z[1]*f,y.z[2]*f];this.camera(this.eyeX+u[0]+g[0]+y[0],this.eyeY+u[1]+g[1]+y[1],this.eyeZ+u[2]+g[2]+y[2],this.centerX+u[0]+g[0]+y[0],this.centerY+u[1]+g[1]+y[1],this.centerZ+u[2]+g[2]+y[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(v,i,f){var u=v-this.eyeX,g=i-this.eyeY,y=f-this.eyeZ;this.camera(v,i,f,this.centerX+u,this.centerY+g,this.centerZ+y,this.upX,this.upY,this.upZ)}},{key:"set",value:function(v){for(var i=0,f=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];i<f.length;i++){var u=f[i];this[u]=v[u]}this.cameraMatrix=v.cameraMatrix.copy(),this.projMatrix=v.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(v,i,f){var u,g,y,d,l,w,x,_,T,E,S,P,N,C,I,L,F,D;f===0?this.set(v):f===1?this.set(i):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=v.projMatrix.mat4[0]*Math.pow(i.projMatrix.mat4[0]/v.projMatrix.mat4[0],f),this.projMatrix.mat4[5]=v.projMatrix.mat4[5]*Math.pow(i.projMatrix.mat4[5]/v.projMatrix.mat4[5],f),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),d=new a.default.Vector(v.eyeX,v.eyeY,v.eyeZ),l=new a.default.Vector(i.eyeX,i.eyeY,i.eyeZ),L=new a.default.Vector(v.centerX,v.centerY,v.centerZ),D=new a.default.Vector(i.centerX,i.centerY,i.centerZ),y=a.default.Vector.dist(d,L),u=a.default.Vector.dist(l,D),u=y*Math.pow(u/y,f),y=a.default.Vector.sub(d,l),g=1,1e-6<(F=(C=d.copy().sub(l).sub(L).add(D)).magSq())&&(g=a.default.Vector.dot(y,C)/F,g=Math.max(0,Math.min(g,1))),y=a.default.Vector.lerp(a.default.Vector.lerp(d,L,g),a.default.Vector.lerp(l,D,g),f),C=v.cameraMatrix.createSubMatrix3x3(),F=i.cameraMatrix.createSubMatrix3x3(),d=C.row(2),L=F.row(2),l=C.row(1),D=F.row(1),v=new a.default.Vector,i=new a.default.Vector,w=new a.default.Vector,x=new a.default.Vector,1-(_=.5*((C=(F=F.mult3x3(C.copy().transpose3x3())).diagonal())[0]+C[1]+C[2]-1))<1e-7?(v.set(a.default.Vector.lerp(d,L,f)).normalize(),w.set(v).mult(g*u).add(y),x.set(v).mult((g-1)*u).add(y),i.set(a.default.Vector.lerp(l,D,f)).normalize()):(L=1/(1-_),D=Math.max(C[0],C[1],C[2]),P=F.mat3[1]+F.mat3[3],N=F.mat3[2]+F.mat3[6],I=F.mat3[5]+F.mat3[7],D=D===C[0]?(E=.5*P*(L/=T=Math.sqrt((C[0]-_)*L)),S=.5*N*L,.5*(F.mat3[7]-F.mat3[5])/T):D===C[1]?(S=.5*I*(L/=E=Math.sqrt((C[1]-_)*L)),T=.5*P*L,.5*(F.mat3[2]-F.mat3[6])/E):(T=.5*N*(L/=S=Math.sqrt((C[2]-_)*L)),E=.5*I*L,.5*(F.mat3[3]-F.mat3[1])/S),P=f*Math.atan2(D,_),N=Math.cos(P),C=Math.sin(P),(D=new a.default.Matrix("mat3",[N+(I=1-N)*T*T,I*(L=T*E)+C*S,I*(F=S*T)-C*E,I*L-C*S,N+I*E*E,I*(f=E*S)+C*T,I*F+C*E,I*f-C*T,N+I*S*S])).multiplyVec3(d,v),w.set(v).mult(g*u).add(y),x.set(v).mult((g-1)*u).add(y),D.multiplyVec3(l,i)),this.camera(w.x,w.y,w.z,x.x,x.y,x.z,i.x,i.y,i.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var v=new a.default.Camera(this._renderer);return v.cameraFOV=this.cameraFOV,v.aspectRatio=this.aspectRatio,v.eyeX=this.eyeX,v.eyeY=this.eyeY,v.eyeZ=this.eyeZ,v.centerX=this.centerX,v.centerY=this.centerY,v.centerZ=this.centerZ,v.upX=this.upX,v.upY=this.upY,v.upZ=this.upZ,v.cameraNear=this.cameraNear,v.cameraFar=this.cameraFar,v.cameraType=this.cameraType,v.useLinePerspective=this.useLinePerspective,v.cameraMatrix=this.cameraMatrix.copy(),v.projMatrix=this.projMatrix.copy(),v.yScale=this.yScale,v}},{key:"_getLocalAxes",value:function(){var v=this.eyeX-this.centerX,i=this.eyeY-this.centerY,f=this.eyeZ-this.centerZ,d=Math.sqrt(v*v+i*i+f*f),d=(d!==0&&(v/=d,i/=d,f/=d),this.upX),u=(l=this.upY)*f-(w=this.upZ)*i,g=-d*f+w*v,y=d*i-l*v,d=i*y-f*g,l=-v*y+f*u,w=v*g-i*u,x=Math.sqrt(u*u+g*g+y*y),x=(x!==0&&(u/=x,g/=x,y/=x),Math.sqrt(d*d+l*l+w*w));return x!==0&&(d/=x,l/=x,w/=x),{x:[u,g,y],y:[d,l,w],z:[v,i,f]}}},{key:"_orbit",value:function(v,x,w){var g=this.eyeX-this.centerX,y=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,u=Math.hypot(g,y,d),g=new a.default.Vector(g,y,d).normalize(),y=new a.default.Vector(this.upX,this.upY,this.upZ).normalize(),d=a.default.Vector.cross(y,g).normalize(),l=a.default.Vector.cross(d,y),w=((u=(u*=Math.pow(10,w))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,a.default.Vector.dot(g,y))))+x),x=v;(w<=0||w>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),y.mult(Math.cos(w)),l.mult(Math.cos(x)*Math.sin(w)),d.mult(Math.sin(x)*Math.sin(w)),g.set(y).add(l).add(d),this.eyeX=u*g.x+this.centerX,this.eyeY=u*g.y+this.centerY,this.eyeZ=u*g.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(w,x,T){var g=this.eyeX-this.centerX,y=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,u=Math.hypot(g,y,d),g=new a.default.Vector(g,y,d).normalize(),y=new a.default.Vector(this.upX,this.upY,this.upZ),d=a.default.Vector.cross(y,g).normalize(),l=a.default.Vector.cross(g,d),E=Math.atan2(x,w),E=(l.mult(Math.sin(E)),d.mult(Math.cos(E)).add(l),Math.sqrt(w*w+x*x)),l=a.default.Vector.cross(g,d),w=((u=(u*=Math.pow(10,T))<this.cameraNear?this.cameraNear:u)>this.cameraFar&&(u=this.cameraFar),Math.cos(E)),x=Math.sin(E),T=y.dot(g),E=y.dot(d),_=T*w+E*x,T=-T*x+E*w,E=y.dot(l);y.x=_*g.x+T*d.x+E*l.x,y.y=_*g.y+T*d.y+E*l.y,y.z=_*g.z+T*d.z+E*l.z,d.mult(-x),g.mult(w).add(d).mult(u),this.camera(g.x+this.centerX,g.y+this.centerY,g.z+this.centerZ,this.centerX,this.centerY,this.centerZ,y.x,y.y,y.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&h(p.prototype,b),s}(),a.default.prototype.setCamera=function(s){this._renderer._curCamera=s,this._renderer.uPMatrix.set(s.projMatrix),this._renderer.uViewMatrix.set(s.cameraMatrix)},t=a.default.Camera,c.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,m,c){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(h,s){for(var p=0;p<s.length;p++){var b=s[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}t.default.DataArray=function(){function h(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,v=this,i=h;if(!(v instanceof i))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(b),this.initialLength=b}var s,p;return s=h,(p=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var b;this.length<this.data.length/2&&(b=1<<Math.ceil(Math.log2(this.length)),(b=new Float32Array(b)).set(this.data.subarray(0,this.length),0),this.data=b)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var b=arguments.length,v=new Array(b),i=0;i<b;i++)v[i]=arguments[i];this.ensureLength(this.length+v.length),this.data.set(v,this.length),this.length+=v.length}},{key:"slice",value:function(b,v){return this.data.slice(b,Math.min(v,this.length))}},{key:"subArray",value:function(b,v){return this.data.subarray(b,Math.min(v,this.length))}},{key:"ensureLength",value:function(b){for(;this.data.length<b;){var v=new Float32Array(2*this.data.length);v.set(this.data,0),this.data=v}}}])&&a(s.prototype,p),h}(),t=t.default.DataArray,c.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(P,m,c){function a(N){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(N)}function h(N){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(C){return a(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":a(C)})(N)}P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.object.get-own-property-descriptor"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.reflect.construct"),P("core-js/modules/es.reflect.get"),P("core-js/modules/es.regexp.to-string"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint8-clamped-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/es.weak-map"),P("core-js/modules/web.dom-collections.iterator"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint8-clamped-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(S=P("../core/main"))&&S.__esModule?S:{default:S},p=function(N){if(N&&N.__esModule)return N;if(N===null||h(N)!=="object"&&typeof N!="function")return{default:N};var C=i();if(C&&C.has(N))return C.get(N);var I,L={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in N){var D;Object.prototype.hasOwnProperty.call(N,I)&&((D=F?Object.getOwnPropertyDescriptor(N,I):null)&&(D.get||D.set)?Object.defineProperty(L,I,D):L[I]=N[I])}return L.default=N,C&&C.set(N,L),L}(P("../core/constants")),b=P("./p5.Texture"),v=P("./p5.RendererGL");function i(){var N;return typeof WeakMap!="function"?null:(N=new WeakMap,i=function(){return N},N)}function f(N,C){return function(I){if(Array.isArray(I))return I}(N)||function(I,L){if(Symbol.iterator in Object(I)||Object.prototype.toString.call(I)==="[object Arguments]"){var F=[],D=!0,B=!1,$=void 0;try{for(var V,H=I[Symbol.iterator]();!(D=(V=H.next()).done)&&(F.push(V.value),!L||F.length!==L);D=!0);}catch(X){B=!0,$=X}finally{try{D||H.return==null||H.return()}finally{if(B)throw $}}return F}}(N,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(N,C,I){return C in N?Object.defineProperty(N,C,{value:I,enumerable:!0,configurable:!0,writable:!0}):N[C]=I,N}function g(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}function y(N,C){for(var I=0;I<C.length;I++){var L=C[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(N,L.key,L)}}function d(N,C,I){C&&y(N.prototype,C)}function l(N,C,I){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(B,F,D){var B=function($,V){for(;!Object.prototype.hasOwnProperty.call($,V)&&($=_($))!==null;);return $}(B,F);if(B)return(B=Object.getOwnPropertyDescriptor(B,F)).get?B.get.call(D):B.value})(N,C,I||N)}function w(N,C){return(w=Object.setPrototypeOf||function(I,L){return I.__proto__=L,I})(N,C)}function x(N){return function(){var C,I=_(N),I=(C=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(C=_(this).constructor,Reflect.construct(I,arguments,C)):I.apply(this,arguments),this);if(!C||h(C)!=="object"&&typeof C!="function"){if(I!==void 0)return I;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return C}}function _(N){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(N)}var T=function(N){var C=L;if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(N&&N.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),N&&w(C,N);var I=x(L);function L(F){var D;return g(this,L),(D=I.call(this,F.target._renderer)).fbo=F,D.yScale=-1,D}return d(L,[{key:"_computeCameraDefaultSettings",value:function(){l(_(L.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),L}(s.default.Camera),E=(s.default.FramebufferCamera=T,function(){function N(C,I){g(this,N),this.framebuffer=C,this.property=I}return d(N,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),N}()),S=(s.default.FramebufferTexture=E,function(){function N(C){var I=this,L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},F=(g(this,N),this.target=C,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=L.format||p.UNSIGNED_BYTE,this.channels=L.channels||(C._renderer._pInst._glAttributes.alpha?p.RGBA:p.RGB),this.useDepth=L.depth===void 0||L.depth,this.depthFormat=L.depthFormat||p.FLOAT,this.textureFiltering=L.textureFiltering||p.LINEAR,L.antialias===void 0?this.antialiasSamples=C._renderer._pInst._glAttributes.antialias?2:0:typeof L.antialias=="number"?this.antialiasSamples=L.antialias:this.antialiasSamples=L.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&C.webglVersion!==p.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=L.density||C.pixelDensity(),C._renderer.GL);if(this.gl=F,L.width&&L.height?(D=C._renderer._adjustDimensions(L.width,L.height),this.width=D.adjustedWidth,this.height=D.adjustedHeight,this._autoSized=!1):(L.width===void 0!=(L.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=C.width,this.height=C.height,this._autoSized=!0),this._checkIfFormatsAvailable(),L.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(L.stencil===void 0||L.stencil),this.framebuffer=F.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=F.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var D=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=D,this.draw(function(){return I.target.clear()})}return d(N,[{key:"resize",value:function(C,I){this._autoSized=!1;var L=this.target._renderer._adjustDimensions(C,I);C=L.adjustedWidth,I=L.adjustedHeight,this.width=C,this.height=I,this._handleResize()}},{key:"pixelDensity",value:function(C){if(!C)return this.density;this._autoSized=!1,this.density=C,this._handleResize()}},{key:"autoSized",value:function(C){if(C===void 0)return this._autoSized;this._autoSized=C,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var C=this.gl,C=(this.useDepth&&this.target.webglVersion===p.WEBGL&&!C.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===p.WEBGL&&this.depthFormat===p.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=p.UNSIGNED_INT),[p.UNSIGNED_BYTE,p.FLOAT,p.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=p.UNSIGNED_BYTE),this.useDepth&&![p.UNSIGNED_INT,p.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=p.FLOAT),(0,b.checkWebGLCapabilities)(this.target._renderer));C.float||this.format!==p.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=p.UNSIGNED_BYTE),this.useDepth&&!C.float&&this.depthFormat===p.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=p.UNSIGNED_INT),C.halfFloat||this.format!==p.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=p.UNSIGNED_BYTE),this.channels===p.RGB&&[p.FLOAT,p.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=p.RGBA)}},{key:"_recreateTextures",value:function(){var C=this.gl,I=(this._updateSize(),C.getParameter(C.TEXTURE_BINDING_2D)),L=C.getParameter(C.FRAMEBUFFER_BINDING),F=C.createTexture();if(!F)throw new Error("Unable to create color texture");C.bindTexture(C.TEXTURE_2D,F);var D=this._glColorFormat();if(C.texImage2D(C.TEXTURE_2D,0,D.internalFormat,this.width*this.density,this.height*this.density,0,D.format,D.type,null),this.colorTexture=F,C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,F,0),this.useDepth){var F=C.createTexture();if(!F)throw new Error("Unable to create depth texture");var B=this._glDepthFormat();C.bindTexture(C.TEXTURE_2D,F),C.texImage2D(C.TEXTURE_2D,0,B.internalFormat,this.width*this.density,this.height*this.density,0,B.format,B.type,null),C.framebufferTexture2D(C.FRAMEBUFFER,this.useStencil?C.DEPTH_STENCIL_ATTACHMENT:C.DEPTH_ATTACHMENT,C.TEXTURE_2D,F,0),this.depthTexture=F}this.antialias&&(this.colorRenderbuffer=C.createRenderbuffer(),C.bindRenderbuffer(C.RENDERBUFFER,this.colorRenderbuffer),C.renderbufferStorageMultisample(C.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,C.getParameter(C.MAX_SAMPLES))),D.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(B=this._glDepthFormat(),this.depthRenderbuffer=C.createRenderbuffer(),C.bindRenderbuffer(C.RENDERBUFFER,this.depthRenderbuffer),C.renderbufferStorageMultisample(C.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,C.getParameter(C.MAX_SAMPLES))),B.internalFormat,this.width*this.density,this.height*this.density)),C.bindFramebuffer(C.FRAMEBUFFER,this.aaFramebuffer),C.framebufferRenderbuffer(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&C.framebufferRenderbuffer(C.FRAMEBUFFER,this.useStencil?C.DEPTH_STENCIL_ATTACHMENT:C.DEPTH_ATTACHMENT,C.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new E(this,"depthTexture"),F=C.NEAREST,this.depthP5Texture=new s.default.Texture(this.target._renderer,this.depth,{minFilter:F,magFilter:F}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new E(this,"colorTexture"),D=this.textureFiltering===p.LINEAR?C.LINEAR:C.NEAREST,this.colorP5Texture=new s.default.Texture(this.target._renderer,this.color,{minFilter:D,magFilter:D}),this.target._renderer.textures.set(this.color,this.colorP5Texture),C.bindTexture(C.TEXTURE_2D,I),C.bindFramebuffer(C.FRAMEBUFFER,L)}},{key:"_glColorFormat",value:function(){var C,I,L=this.gl,F=this.format===p.FLOAT?L.FLOAT:this.format===p.HALF_FLOAT?this.target.webglVersion===p.WEBGL2?L.HALF_FLOAT:L.getExtension("OES_texture_half_float").HALF_FLOAT_OES:L.UNSIGNED_BYTE,D=this.channels===p.RGBA?L.RGBA:L.RGB;return{internalFormat:this.target.webglVersion===p.WEBGL2?(u(I={},L.FLOAT,u({},L.RGBA,L.RGBA32F)),u(I,L.HALF_FLOAT,u({},L.RGBA,L.RGBA16F)),u(I,L.UNSIGNED_BYTE,(u(C={},L.RGBA,L.RGBA8),u(C,L.RGB,L.RGB8),C)),I[F][D]):this.format===p.HALF_FLOAT?L.RGBA:D,format:D,type:F}}},{key:"_glDepthFormat",value:function(){var L=this.gl,C=this.useStencil?this.depthFormat===p.FLOAT?L.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===p.WEBGL2?L.UNSIGNED_INT_24_8:L.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===p.FLOAT?L.FLOAT:L.UNSIGNED_INT,I=this.useStencil?L.DEPTH_STENCIL:L.DEPTH_COMPONENT,L=this.useStencil?this.depthFormat===p.FLOAT?L.DEPTH32F_STENCIL8:this.target.webglVersion===p.WEBGL2?L.DEPTH24_STENCIL8:L.DEPTH_STENCIL:this.target.webglVersion===p.WEBGL2?this.depthFormat===p.FLOAT?L.DEPTH_COMPONENT32F:L.DEPTH_COMPONENT24:L.DEPTH_COMPONENT;return{internalFormat:L,format:I,type:C}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var F=this.color,C=this.depth,I=this.colorRenderbuffer,L=this.depthRenderbuffer,F=(this._deleteTexture(F),C&&this._deleteTexture(C),this.gl);I&&F.deleteRenderbuffer(I),L&&F.deleteRenderbuffer(L),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var C=new T(this);return C._computeCameraDefaultSettings(),C._setDefaultCamera(),this.target._renderer._curCamera=C}},{key:"_deleteTexture",value:function(C){this.gl.deleteTexture(C.rawTexture()),this.target._renderer.textures.delete(C)}},{key:"remove",value:function(){var C=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),C.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&C.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&C.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&C.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var C=this.gl,I=(C.bindFramebuffer(C.READ_FRAMEBUFFER,this.aaFramebuffer),C.bindFramebuffer(C.DRAW_FRAMEBUFFER,this.framebuffer),[[C.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&I.push([C.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var L=0,F=I;L<F.length;L++){var B=f(F[L],2),D=B[0],B=B[1];C.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,D,B)}}}},{key:"end",value:function(){var C=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(C.bindFramebuffer(C.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(C){this.begin(),C(),this.end()}},{key:"loadPixels",value:function(){var C=this.gl,I=this.target._renderer.activeFramebuffer(),L=(C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,v.readPixelsWebGL)(this.pixels,C,this.framebuffer,0,0,this.width*this.density,this.height*this.density,L.format,L.type),I?C.bindFramebuffer(C.FRAMEBUFFER,I._framebufferToBind()):C.bindFramebuffer(C.FRAMEBUFFER,null)}},{key:"get",value:function(C,I,L,F){s.default._validateParameters("p5.Framebuffer.get",arguments);var D=this._glColorFormat();if(C===void 0&&I===void 0)I=C=0,L=this.width,F=this.height;else if(L===void 0&&F===void 0)return(C<0||I<0||C>=this.width||I>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),C=this.target.constrain(C,0,this.width-1),I=this.target.constrain(I,0,this.height-1)),(0,v.readPixelWebGL)(this.gl,this.framebuffer,C*this.density,I*this.density,D.format,D.type);C=this.target.constrain(C,0,this.width-1),I=this.target.constrain(I,0,this.height-1),L=this.target.constrain(L,1,this.width-C),F=this.target.constrain(F,1,this.height-I);for(var B=(0,v.readPixelsWebGL)(void 0,this.gl,this.framebuffer,C*this.density,I*this.density,L*this.density,F*this.density,D.format,D.type),$=new Uint8ClampedArray(L*F*this.density*this.density*4),V=($.fill(255),D.type===this.gl.RGB?3:4),H=0;H<F*this.density;H++)for(var X=0;X<L*this.density;X++)for(var Q=0;Q<4;Q++){var se,M=4*(H*L*this.density+X)+Q;Q<V&&(se=V==4?M:(H*L*this.density+X)*V+Q,$[M]=B[se])}return C=new s.default.Image(L*this.density,F*this.density),C.imageData=C.canvas.getContext("2d").createImageData(C.width,C.height),C.imageData.data.set($),C.pixels=C.imageData.data,C.updatePixels(),this.density!==1&&C.resize(L,F),C}},{key:"updatePixels",value:function(){var C=this.gl,I=(this.colorP5Texture.bindTexture(),this._glColorFormat()),L=I.format===C.RGBA?4:3,L=this.width*this.height*this.density*this.density*L,F=I.type===C.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof F)||this.pixels.length!==L)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");C.texImage2D(C.TEXTURE_2D,0,I.internalFormat,this.width*this.density,this.height*this.density,0,I.format,I.type,this.pixels),this.colorP5Texture.unbindTexture(),F=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(C.clearDepth(1),C.clear(C.DEPTH_BUFFER_BIT)),this.end()):(C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer),this.useDepth&&(C.clearDepth(1),C.clear(C.DEPTH_BUFFER_BIT)),F?C.bindFramebuffer(C.FRAMEBUFFER,F._framebufferToBind()):C.bindFramebuffer(C.FRAMEBUFFER,null))}}]),N}()),P=s.default.Framebuffer=S;c.default=P},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,m,c){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function h(g){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(u=t("../core/main"))&&u.__esModule?u:{default:u},p=function(g){if(g&&g.__esModule)return g;if(g===null||h(g)!=="object"&&typeof g!="function")return{default:g};var y=b();if(y&&y.has(g))return y.get(g);var d,l={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in g){var x;Object.prototype.hasOwnProperty.call(g,d)&&((x=w?Object.getOwnPropertyDescriptor(g,d):null)&&(x.get||x.set)?Object.defineProperty(l,d,x):l[d]=g[d])}return l.default=g,y&&y.set(g,l),l}(t("../core/constants"));function b(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,b=function(){return g},g)}function v(g){return function(y){if(Array.isArray(y)){for(var d=0,l=new Array(y.length);d<y.length;d++)l[d]=y[d];return l}}(g)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(g,y){return function(d){if(Array.isArray(d))return d}(g)||function(d,l){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]"){var w=[],x=!0,_=!1,T=void 0;try{for(var E,S=d[Symbol.iterator]();!(x=(E=S.next()).done)&&(w.push(E.value),!l||w.length!==l);x=!0);}catch(P){_=!0,T=P}finally{try{x||S.return==null||S.return()}finally{if(_)throw T}}return w}}(g,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(g,y){for(var d=0;d<y.length;d++){var l=y[d];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(g,l.key,l)}}s.default.Geometry=function(){function g(l,w,x){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new s.default.DataArray,this.lineTangentsIn=new s.default.DataArray,this.lineTangentsOut=new s.default.DataArray,this.lineSides=new s.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new s.default.DataArray,this.detailX=l!==void 0?l:1,this.detailY=w!==void 0?w:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,x instanceof Function&&x.call(this)}var y,d;return y=g,(d=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var l=new s.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),w=new s.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),x=0;x<this.vertices.length;x++){var _=this.vertices[x];l.x=Math.min(l.x,_.x),l.y=Math.min(l.y,_.y),l.z=Math.min(l.z,_.z),w.x=Math.max(w.x,_.x),w.y=Math.max(w.y,_.y),w.z=Math.max(w.z,_.z)}var T=new s.default.Vector(w.x-l.x,w.y-l.y,w.z-l.z),E=new s.default.Vector((l.x+w.x)/2,(l.y+w.y)/2,(l.z+w.z)/2);this.boundingBoxCache={min:l,max:w,size:T,offset:E}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var l=0;l<this.vertexColors.length;l+=4)if(this.vertexColors[l+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var l=0;l<this.lineVertexColors.length;l+=4)if(this.lineVertexColors[l+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var l=this,w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",x="";if(this.vertices.forEach(function(E){x+="v ".concat(E.x," ").concat(E.y," ").concat(E.z,`
`)}),this.uvs&&0<this.uvs.length)for(var _=0;_<this.uvs.length;_+=2)x+="vt ".concat(this.uvs[_]," ").concat(this.uvs[_+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(E){x+="vn ".concat(E.x," ").concat(E.y," ").concat(E.z,`
`)}),this.faces.forEach(function(E){var S="f";E.forEach(function(P){S=S+" "+(P+1),(0<l.vertexNormals.length||0<l.uvs.length)&&(S+="/",0<l.uvs.length&&(S+=P+1),S+="/",0<l.vertexNormals.length&&(S+=P+1))}),x+=S+`
`});var T=new Blob([x],{type:"text/plain"});s.default.prototype.downloadFile(T,w,"obj")}},{key:"saveStl",value:function(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",w=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,w=w!==void 0&&w,x=l.substring(0,l.lastIndexOf(".")),_=[],T=!0,E=!1,S=void 0;try{for(var P,N=this.faces[Symbol.iterator]();!(T=(P=N.next()).done);T=!0){var C=P.value,I=s.default.Vector.sub(this.vertices[C[1]],this.vertices[C[0]]),L=s.default.Vector.sub(this.vertices[C[2]],this.vertices[C[0]]),F=I.y*L.z-I.z*L.y,D=I.z*L.x-I.x*L.z,B=I.x*L.y-I.y*L.x;_.push(new s.default.Vector(F,D,B).normalize())}}catch(ve){E=!0,S=ve}finally{try{T||N.return==null||N.return()}finally{if(E)throw S}}if(w){var $,V=80,E=2*this.faces.length+3*this.faces.length*4*4+80+4,S=new ArrayBuffer(E);($=new DataView(S)).setUint32(V,this.faces.length,!0),V+=4;for(var H=0,X=Object.entries(this.faces);H<X.length;H++){var Q=i(X[H],2),M=Q[0],Q=Q[1],M=_[M],se=($.setFloat32(V,M.x,!0),V+=4,$.setFloat32(V,M.y,!0),V+=4,$.setFloat32(V,M.z,!0),V+=4,!0),M=!1,R=void 0;try{for(var z,q=Q[Symbol.iterator]();!(se=(z=q.next()).done);se=!0){var Z=z.value,te=this.vertices[Z];$.setFloat32(V,te.x,!0),V+=4,$.setFloat32(V,te.y,!0),V+=4,$.setFloat32(V,te.z,!0),V+=4}}catch(De){M=!0,R=De}finally{try{se||q.return==null||q.return()}finally{if(M)throw R}}$.setUint16(V,0,!0),V+=2}}else{$="solid "+x+`
`;for(var ie=0,he=Object.entries(this.faces);ie<he.length;ie++){var oe=i(he[ie],2),ce=oe[0],oe=oe[1],ce=_[ce],fe=($=$+(" facet norm "+ce.x+" "+ce.y+" "+ce.z+`
`)+`  outer loop
`,!0),ce=!1,ee=void 0;try{for(var de,ye=oe[Symbol.iterator]();!(fe=(de=ye.next()).done);fe=!0){var we=de.value,ge=this.vertices[we];$+="   vertex "+ge.x+" "+ge.y+" "+ge.z+`
`}}catch(ve){ce=!0,ee=ve}finally{try{fe||ye.return==null||ye.return()}finally{if(ce)throw ee}}$=$+`  endloop
 endfacet
`}$+="endsolid "+x+`
`}w=new Blob([$],{type:"text/plain"}),s.default.prototype.downloadFile(w,l,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(l,w){return w%2==0?1-l:l})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(l,w){return w%2==0?l:1-l})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var l,w,x,_=this.detailX+1,T=0;T<this.detailY;T++)for(var E=0;E<this.detailX;E++)w=(T+1)*_+E+1,this.faces.push([T*_+E,l=T*_+E+1,x=(T+1)*_+E]),this.faces.push([x,l,w]);return this}},{key:"_getFaceNormal",value:function(w){var w=this.faces[w],x=this.vertices[w[0]],T=this.vertices[w[1]],w=this.vertices[w[2]],T=s.default.Vector.sub(T,x),w=s.default.Vector.sub(w,x),x=s.default.Vector.cross(T,w),_=s.default.Vector.mag(x),T=_/(s.default.Vector.mag(T)*s.default.Vector.mag(w));return T===0||isNaN(T)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),x):(1<T&&(T=1),x.mult(Math.asin(T)/_))}},{key:"computeNormals",value:function(){var l,w=this,x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:p.FLAT,_=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,T=this.vertexNormals,E=this.vertices,S=this.faces;if(x===p.SMOOTH){for(var P={},N=[],C=Math.pow(10,_===void 0?3:_),I=function($){return Math.round($*C)/C},L=function($){return"".concat(I($.x),",").concat(I($.y),",").concat(I($.z))},F=0;F<E.length;F++){var D=E[F],B=L(D);P[B]===void 0&&(P[B]=N.length,N.push(D))}S.forEach(function($){for(var V=0;V<3;++V){var H=$[V],H=E[H],H=L(H);$[V]=P[H]}}),this.edges.forEach(function($){for(var V=0;V<2;++V){var H=$[V],H=E[H],H=L(H);$[V]=P[H]}}),this.vertices=E=N}for(l=T.length=0;l<E.length;++l)T.push(new s.default.Vector);for(S.forEach(function($,V){for(var H=w._getFaceNormal(V),X=0;X<3;++X){var Q=$[X];T[Q].add(H)}}),l=0;l<E.length;++l)T[l].normalize();return this}},{key:"averageNormals",value:function(){for(var l=0;l<=this.detailY;l++){var w=this.detailX+1,x=s.default.Vector.add(this.vertexNormals[l*w],this.vertexNormals[l*w+this.detailX]),x=s.default.Vector.div(x,2);this.vertexNormals[l*w]=x,this.vertexNormals[l*w+this.detailX]=x}return this}},{key:"averagePoleNormals",value:function(){for(var l=new s.default.Vector(0,0,0),w=0;w<this.detailX;w++)l.add(this.vertexNormals[w]);for(var l=s.default.Vector.div(l,this.detailX),x=0;x<this.detailX;x++)this.vertexNormals[x]=l;l=new s.default.Vector(0,0,0);for(var _=this.vertices.length-1;_>this.vertices.length-1-this.detailX;_--)l.add(this.vertexNormals[_]);l=s.default.Vector.div(l,this.detailX);for(var T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)this.vertexNormals[T]=l;return this}},{key:"_makeTriangleEdges",value:function(){for(var l=this.edges.length=0;l<this.faces.length;l++)this.edges.push([this.faces[l][0],this.faces[l][1]]),this.edges.push([this.faces[l][1],this.faces[l][2]]),this.edges.push([this.faces[l][2],this.faces[l][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var l,w=new Map,x=new Set,_=0;_<this.edges.length;_++){var T,E=this.edges[_-1],S=this.edges[_],P=this.vertices[S[0]],N=this.vertices[S[1]],C=0<this.vertexStrokeColors.length&&E?this.vertexStrokeColors.slice(4*E[1],4*(E[1]+1)):[0,0,0,0],I=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*S[0],4*(S[0]+1)):[0,0,0,0],L=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*S[1],4*(S[1]+1)):[0,0,0,0],F=N.copy().sub(P).normalize(),D=0<F.magSq();D&&this._addSegment(P,N,I,L,F),0<_&&E[1]===S[0]?x.has(S[0])||(x.add(S[0]),w.delete(S[0]),l&&D&&F.dot(l)<1-1e-8&&this._addJoin(P,l,F,I)):(D&&!x.has(S[0])&&((T=w.get(S[0]))?(this._addJoin(P,T.dir,F,I),w.delete(S[0]),x.add(S[0])):w.set(S[0],{point:P,dir:F.copy().mult(-1),color:I})),l&&!x.has(E[1])&&((T=w.get(E[1]))?(this._addJoin(this.vertices[E[1]],l,T.dir.copy().mult(-1),C),w.delete(E[1]),x.add(E[1])):w.set(E[1],{point:this.vertices[E[1]],dir:l,color:C}),l=void 0)),_!==this.edges.length-1||x.has(S[1])||((P=w.get(S[1]))?(this._addJoin(N,F,P.dir.copy().mult(-1),L),w.delete(S[1]),x.add(S[1])):w.set(S[1],{point:N,dir:F,color:L})),D&&(l=F)}var B=!0,$=!1,V=void 0;try{for(var H,X=w.values()[Symbol.iterator]();!(B=(H=X.next()).done);B=!0){var Q=H.value,se=Q.point,M=Q.dir,R=Q.color;this._addCap(se,M,R)}}catch(z){$=!0,V=z}finally{try{B||X.return==null||X.return()}finally{if($)throw V}}return this}},{key:"_addSegment",value:function(E,S,x,_,T){var E=E.array(),S=S.array(),P=T.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var N=0,C=[this.lineTangentsIn,this.lineTangentsOut];N<C.length;N++)for(var I=C[N],L=0;L<6;L++)I.push.apply(I,v(P));return(T=this.lineVertices).push.apply(T,v(E).concat(v(S),v(E),v(S),v(S),v(E))),(T=this.lineVertexColors).push.apply(T,v(x).concat(v(_),v(x),v(_),v(_),v(x))),this}},{key:"_addCap",value:function(l,w,x){for(var _,T=l.array(),E=w.array(),S=[0,0,0],P=0;P<6;P++)(_=this.lineVertices).push.apply(_,v(T)),(_=this.lineTangentsIn).push.apply(_,v(E)),(_=this.lineTangentsOut).push.apply(_,S),(_=this.lineVertexColors).push.apply(_,v(x));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(l,w,x,_){for(var T,E=l.array(),S=w.array(),P=x.array(),N=0;N<12;N++)(T=this.lineVertices).push.apply(T,v(E)),(T=this.lineTangentsIn).push.apply(T,v(S)),(T=this.lineTangentsOut).push.apply(T,v(P)),(T=this.lineVertexColors).push.apply(T,v(_));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var l=this.vertices[0].copy(),w=this.vertices[0].copy(),x=0;x<this.vertices.length;x++)l.x=Math.max(l.x,this.vertices[x].x),w.x=Math.min(w.x,this.vertices[x].x),l.y=Math.max(l.y,this.vertices[x].y),w.y=Math.min(w.y,this.vertices[x].y),l.z=Math.max(l.z,this.vertices[x].z),w.z=Math.min(w.z,this.vertices[x].z);for(var _=s.default.Vector.lerp(l,w,.5),T=s.default.Vector.sub(l,w),E=200/Math.max(Math.max(T.x,T.y),T.z),S=0;S<this.vertices.length;S++)this.vertices[S].sub(_),this.vertices[S].mult(E)}return this}}])&&f(y.prototype,d),g}();var u=s.default.Geometry;c.default=u},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(b,m,c){b("core-js/modules/es.array.iterator"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),b("core-js/modules/es.array.iterator"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.typed-array.float32-array"),b("core-js/modules/es.typed-array.copy-within"),b("core-js/modules/es.typed-array.every"),b("core-js/modules/es.typed-array.fill"),b("core-js/modules/es.typed-array.filter"),b("core-js/modules/es.typed-array.find"),b("core-js/modules/es.typed-array.find-index"),b("core-js/modules/es.typed-array.for-each"),b("core-js/modules/es.typed-array.includes"),b("core-js/modules/es.typed-array.index-of"),b("core-js/modules/es.typed-array.iterator"),b("core-js/modules/es.typed-array.join"),b("core-js/modules/es.typed-array.last-index-of"),b("core-js/modules/es.typed-array.map"),b("core-js/modules/es.typed-array.reduce"),b("core-js/modules/es.typed-array.reduce-right"),b("core-js/modules/es.typed-array.reverse"),b("core-js/modules/es.typed-array.set"),b("core-js/modules/es.typed-array.slice"),b("core-js/modules/es.typed-array.some"),b("core-js/modules/es.typed-array.sort"),b("core-js/modules/es.typed-array.subarray"),b("core-js/modules/es.typed-array.to-locale-string"),b("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(b=b("../core/main"))&&b.__esModule?b:{default:b};function h(v,i){for(var f=0;f<i.length;f++){var u=i[f];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(v,u.key,u)}}var s=Array,p=function(v){return Array.isArray(v)},b=(typeof Float32Array<"u"&&(s=Float32Array,p=function(v){return Array.isArray(v)||v instanceof Float32Array}),a.default.Matrix=function(){function v(){var g=this,y=v;if(g instanceof y)return arguments.length&&((g=arguments.length-1)<0||arguments.length<=g?void 0:arguments[g])instanceof a.default&&(this.p5=(y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new s([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new s([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var i,f,u;return i=v,u=[{key:"identity",value:function(g){return new a.default.Matrix(g)}}],(f=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(g){var y=arguments;if(g instanceof a.default.Matrix?y=g.mat4:p(g)&&(y=g),y.length!==16)a.default._friendlyError("Expected 16 values but received ".concat(y.length,"."),"p5.Matrix.set");else for(var d=0;d<16;d++)this.mat4[d]=y[d];return this}},{key:"get",value:function(){return new a.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var g;return this.mat3!==void 0?((g=new a.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],g.mat3[1]=this.mat3[1],g.mat3[2]=this.mat3[2],g.mat3[3]=this.mat3[3],g.mat3[4]=this.mat3[4],g.mat3[5]=this.mat3[5],g.mat3[6]=this.mat3[6],g.mat3[7]=this.mat3[7],g.mat3[8]=this.mat3[8]):((g=new a.default.Matrix(this.p5)).mat4[0]=this.mat4[0],g.mat4[1]=this.mat4[1],g.mat4[2]=this.mat4[2],g.mat4[3]=this.mat4[3],g.mat4[4]=this.mat4[4],g.mat4[5]=this.mat4[5],g.mat4[6]=this.mat4[6],g.mat4[7]=this.mat4[7],g.mat4[8]=this.mat4[8],g.mat4[9]=this.mat4[9],g.mat4[10]=this.mat4[10],g.mat4[11]=this.mat4[11],g.mat4[12]=this.mat4[12],g.mat4[13]=this.mat4[13],g.mat4[14]=this.mat4[14],g.mat4[15]=this.mat4[15]),g}},{key:"transpose",value:function(g){var y,d,l,w,x,_;return g instanceof a.default.Matrix?(y=g.mat4[1],d=g.mat4[2],l=g.mat4[3],w=g.mat4[6],x=g.mat4[7],_=g.mat4[11],this.mat4[0]=g.mat4[0],this.mat4[1]=g.mat4[4],this.mat4[2]=g.mat4[8],this.mat4[3]=g.mat4[12],this.mat4[4]=y,this.mat4[5]=g.mat4[5],this.mat4[6]=g.mat4[9],this.mat4[7]=g.mat4[13],this.mat4[8]=d,this.mat4[9]=w,this.mat4[10]=g.mat4[10],this.mat4[11]=g.mat4[14],this.mat4[12]=l,this.mat4[13]=x,this.mat4[14]=_,this.mat4[15]=g.mat4[15]):p(g)&&(y=g[1],d=g[2],l=g[3],w=g[6],x=g[7],_=g[11],this.mat4[0]=g[0],this.mat4[1]=g[4],this.mat4[2]=g[8],this.mat4[3]=g[12],this.mat4[4]=y,this.mat4[5]=g[5],this.mat4[6]=g[9],this.mat4[7]=g[13],this.mat4[8]=d,this.mat4[9]=w,this.mat4[10]=g[10],this.mat4[11]=g[14],this.mat4[12]=l,this.mat4[13]=x,this.mat4[14]=_,this.mat4[15]=g[15]),this}},{key:"invert",value:function(B){B instanceof a.default.Matrix?(y=B.mat4[0],d=B.mat4[1],l=B.mat4[2],w=B.mat4[3],x=B.mat4[4],_=B.mat4[5],T=B.mat4[6],E=B.mat4[7],S=B.mat4[8],P=B.mat4[9],N=B.mat4[10],C=B.mat4[11],I=B.mat4[12],L=B.mat4[13],F=B.mat4[14],D=B.mat4[15]):p(B)&&(y=B[0],d=B[1],l=B[2],w=B[3],x=B[4],_=B[5],T=B[6],E=B[7],S=B[8],P=B[9],N=B[10],C=B[11],I=B[12],L=B[13],F=B[14],D=B[15]);var y,d,l,w,x,_,T,E,S,P,N,C,I,L,F,D,B=y*_-d*x,$=y*T-l*x,V=y*E-w*x,H=d*T-l*_,X=d*E-w*_,Q=l*E-w*T,se=S*L-P*I,M=S*F-N*I,R=S*D-C*I,z=P*F-N*L,q=P*D-C*L,Z=N*D-C*F,te=B*Z-$*q+V*z+H*R-X*M+Q*se;return te?(this.mat4[0]=(_*Z-T*q+E*z)*(te=1/te),this.mat4[1]=(l*q-d*Z-w*z)*te,this.mat4[2]=(L*Q-F*X+D*H)*te,this.mat4[3]=(N*X-P*Q-C*H)*te,this.mat4[4]=(T*R-x*Z-E*M)*te,this.mat4[5]=(y*Z-l*R+w*M)*te,this.mat4[6]=(F*V-I*Q-D*$)*te,this.mat4[7]=(S*Q-N*V+C*$)*te,this.mat4[8]=(x*q-_*R+E*se)*te,this.mat4[9]=(d*R-y*q-w*se)*te,this.mat4[10]=(I*X-L*V+D*B)*te,this.mat4[11]=(P*V-S*X-C*B)*te,this.mat4[12]=(_*M-x*z-T*se)*te,this.mat4[13]=(y*z-d*M+l*se)*te,this.mat4[14]=(L*$-I*H-F*B)*te,this.mat4[15]=(S*H-P*$+N*B)*te,this):null}},{key:"invert3x3",value:function(){var g=this.mat3[0],y=this.mat3[1],d=this.mat3[2],l=this.mat3[3],w=this.mat3[4],x=this.mat3[5],_=this.mat3[6],T=this.mat3[7],E=this.mat3[8],S=E*w-x*T,P=-E*l+x*_,N=T*l-w*_,C=g*S+y*P+d*N;return C?(this.mat3[0]=S*(C=1/C),this.mat3[1]=(-E*y+d*T)*C,this.mat3[2]=(x*y-d*w)*C,this.mat3[3]=P*C,this.mat3[4]=(E*g-d*_)*C,this.mat3[5]=(-x*g+d*l)*C,this.mat3[6]=N*C,this.mat3[7]=(-T*g+y*_)*C,this.mat3[8]=(w*g-y*l)*C,this):null}},{key:"transpose3x3",value:function(g){var y=(g=g===void 0?this.mat3:g)[1],d=g[2],l=g[5];return this.mat3[0]=g[0],this.mat3[1]=g[3],this.mat3[2]=g[6],this.mat3[3]=y,this.mat3[4]=g[4],this.mat3[5]=g[7],this.mat3[6]=d,this.mat3[7]=l,this.mat3[8]=g[8],this}},{key:"inverseTranspose",value:function(g){if(g=g.mat4,this.mat3===void 0?a.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=g[0],this.mat3[1]=g[1],this.mat3[2]=g[2],this.mat3[3]=g[4],this.mat3[4]=g[5],this.mat3[5]=g[6],this.mat3[6]=g[8],this.mat3[7]=g[9],this.mat3[8]=g[10]),g=this.invert3x3(),g)g.transpose3x3(this.mat3);else for(var y=0;y<9;y++)this.mat3[y]=0;return this}},{key:"determinant",value:function(){var g=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],y=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],d=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],l=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],w=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],x=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],_=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],T=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],E=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],S=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],P=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return g*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-y*P+d*S+l*E-w*T+x*_}},{key:"mult",value:function(d){var y;if(d===this||d===this.mat4)y=this.copy().mat4;else if(d instanceof a.default.Matrix)y=d.mat4;else if(p(d))y=d;else{if(arguments.length!==16)return;y=arguments}var d=this.mat4[0],l=this.mat4[1],w=this.mat4[2],x=this.mat4[3];return this.mat4[0]=d*y[0]+l*y[4]+w*y[8]+x*y[12],this.mat4[1]=d*y[1]+l*y[5]+w*y[9]+x*y[13],this.mat4[2]=d*y[2]+l*y[6]+w*y[10]+x*y[14],this.mat4[3]=d*y[3]+l*y[7]+w*y[11]+x*y[15],d=this.mat4[4],l=this.mat4[5],w=this.mat4[6],x=this.mat4[7],this.mat4[4]=d*y[0]+l*y[4]+w*y[8]+x*y[12],this.mat4[5]=d*y[1]+l*y[5]+w*y[9]+x*y[13],this.mat4[6]=d*y[2]+l*y[6]+w*y[10]+x*y[14],this.mat4[7]=d*y[3]+l*y[7]+w*y[11]+x*y[15],d=this.mat4[8],l=this.mat4[9],w=this.mat4[10],x=this.mat4[11],this.mat4[8]=d*y[0]+l*y[4]+w*y[8]+x*y[12],this.mat4[9]=d*y[1]+l*y[5]+w*y[9]+x*y[13],this.mat4[10]=d*y[2]+l*y[6]+w*y[10]+x*y[14],this.mat4[11]=d*y[3]+l*y[7]+w*y[11]+x*y[15],d=this.mat4[12],l=this.mat4[13],w=this.mat4[14],x=this.mat4[15],this.mat4[12]=d*y[0]+l*y[4]+w*y[8]+x*y[12],this.mat4[13]=d*y[1]+l*y[5]+w*y[9]+x*y[13],this.mat4[14]=d*y[2]+l*y[6]+w*y[10]+x*y[14],this.mat4[15]=d*y[3]+l*y[7]+w*y[11]+x*y[15],this}},{key:"apply",value:function(d){var y;if(d===this||d===this.mat4)y=this.copy().mat4;else if(d instanceof a.default.Matrix)y=d.mat4;else if(p(d))y=d;else{if(arguments.length!==16)return;y=arguments}var d=this.mat4,l=d[0],w=d[4],x=d[8],_=d[12],l=(d[0]=y[0]*l+y[1]*w+y[2]*x+y[3]*_,d[4]=y[4]*l+y[5]*w+y[6]*x+y[7]*_,d[8]=y[8]*l+y[9]*w+y[10]*x+y[11]*_,d[12]=y[12]*l+y[13]*w+y[14]*x+y[15]*_,d[1]),w=d[5],x=d[9],_=d[13],l=(d[1]=y[0]*l+y[1]*w+y[2]*x+y[3]*_,d[5]=y[4]*l+y[5]*w+y[6]*x+y[7]*_,d[9]=y[8]*l+y[9]*w+y[10]*x+y[11]*_,d[13]=y[12]*l+y[13]*w+y[14]*x+y[15]*_,d[2]),w=d[6],x=d[10],_=d[14],l=(d[2]=y[0]*l+y[1]*w+y[2]*x+y[3]*_,d[6]=y[4]*l+y[5]*w+y[6]*x+y[7]*_,d[10]=y[8]*l+y[9]*w+y[10]*x+y[11]*_,d[14]=y[12]*l+y[13]*w+y[14]*x+y[15]*_,d[3]),w=d[7],x=d[11],_=d[15];return d[3]=y[0]*l+y[1]*w+y[2]*x+y[3]*_,d[7]=y[4]*l+y[5]*w+y[6]*x+y[7]*_,d[11]=y[8]*l+y[9]*w+y[10]*x+y[11]*_,d[15]=y[12]*l+y[13]*w+y[14]*x+y[15]*_,this}},{key:"scale",value:function(g,y,d){return g instanceof a.default.Vector?(y=g.y,d=g.z,g=g.x):g instanceof Array&&(y=g[1],d=g[2],g=g[0]),this.mat4[0]*=g,this.mat4[1]*=g,this.mat4[2]*=g,this.mat4[3]*=g,this.mat4[4]*=y,this.mat4[5]*=y,this.mat4[6]*=y,this.mat4[7]*=y,this.mat4[8]*=d,this.mat4[9]*=d,this.mat4[10]*=d,this.mat4[11]*=d,this}},{key:"rotate",value:function(B,q,z,l){q instanceof a.default.Vector?(z=q.y,l=q.z,q=q.x):q instanceof Array&&(z=q[1],l=q[2],q=q[0]);var w=Math.sqrt(q*q+z*z+l*l),w=(q*=1/w,z*=1/w,l*=1/w,this.mat4[0]),x=this.mat4[1],_=this.mat4[2],T=this.mat4[3],E=this.mat4[4],S=this.mat4[5],P=this.mat4[6],N=this.mat4[7],C=this.mat4[8],I=this.mat4[9],L=this.mat4[10],F=this.mat4[11],D=Math.sin(B),B=Math.cos(B),$=1-B,V=q*q*$+B,H=z*q*$+l*D,X=l*q*$-z*D,Q=q*z*$-l*D,se=z*z*$+B,M=l*z*$+q*D,R=q*l*$+z*D,z=z*l*$-q*D,q=l*l*$+B;return this.mat4[0]=w*V+E*H+C*X,this.mat4[1]=x*V+S*H+I*X,this.mat4[2]=_*V+P*H+L*X,this.mat4[3]=T*V+N*H+F*X,this.mat4[4]=w*Q+E*se+C*M,this.mat4[5]=x*Q+S*se+I*M,this.mat4[6]=_*Q+P*se+L*M,this.mat4[7]=T*Q+N*se+F*M,this.mat4[8]=w*R+E*z+C*q,this.mat4[9]=x*R+S*z+I*q,this.mat4[10]=_*R+P*z+L*q,this.mat4[11]=T*R+N*z+F*q,this}},{key:"translate",value:function(l){var y=l[0],d=l[1],l=l[2]||0;this.mat4[12]+=this.mat4[0]*y+this.mat4[4]*d+this.mat4[8]*l,this.mat4[13]+=this.mat4[1]*y+this.mat4[5]*d+this.mat4[9]*l,this.mat4[14]+=this.mat4[2]*y+this.mat4[6]*d+this.mat4[10]*l,this.mat4[15]+=this.mat4[3]*y+this.mat4[7]*d+this.mat4[11]*l}},{key:"rotateX",value:function(g){this.rotate(g,1,0,0)}},{key:"rotateY",value:function(g){this.rotate(g,0,1,0)}},{key:"rotateZ",value:function(g){this.rotate(g,0,0,1)}},{key:"perspective",value:function(w,y,d,l){var w=1/Math.tan(w/2),x=1/(d-l);return this.mat4[0]=w/y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=w,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(l+d)*x,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*l*d*x,this.mat4[15]=0,this}},{key:"ortho",value:function(g,y,d,l,w,x){var _=1/(g-y),T=1/(d-l),E=1/(w-x);return this.mat4[0]=-2*_,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*T,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*E,this.mat4[11]=0,this.mat4[12]=(g+y)*_,this.mat4[13]=(l+d)*T,this.mat4[14]=(x+w)*E,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(g,y,d,l){var w=new Array(4),x=this.mat4;return w[0]=x[0]*g+x[4]*y+x[8]*d+x[12]*l,w[1]=x[1]*g+x[5]*y+x[9]*d+x[13]*l,w[2]=x[2]*g+x[6]*y+x[10]*d+x[14]*l,w[3]=x[3]*g+x[7]*y+x[11]*d+x[15]*l,w}},{key:"multiplyPoint",value:function(d){var l=d.x,y=d.y,d=d.z,l=this.multiplyVec4(l,y,d,1);return new a.default.Vector(l[0],l[1],l[2])}},{key:"multiplyAndNormalizePoint",value:function(d){var l=d.x,y=d.y,d=d.z,l=this.multiplyVec4(l,y,d,1);return l[0]/=l[3],l[1]/=l[3],l[2]/=l[3],new a.default.Vector(l[0],l[1],l[2])}},{key:"multiplyDirection",value:function(d){var l=d.x,y=d.y,d=d.z,l=this.multiplyVec4(l,y,d,0);return new a.default.Vector(l[0],l[1],l[2])}},{key:"mult3x3",value:function(d){var y;if(d===this||d===this.mat3)y=this.copy().mat3;else if(d instanceof a.default.Matrix)y=d.mat3;else if(p(d))y=d;else{if(arguments.length!==9)return;y=arguments}var d=this.mat3[0],l=this.mat3[1],w=this.mat3[2];return this.mat3[0]=d*y[0]+l*y[3]+w*y[6],this.mat3[1]=d*y[1]+l*y[4]+w*y[7],this.mat3[2]=d*y[2]+l*y[5]+w*y[8],d=this.mat3[3],l=this.mat3[4],w=this.mat3[5],this.mat3[3]=d*y[0]+l*y[3]+w*y[6],this.mat3[4]=d*y[1]+l*y[4]+w*y[7],this.mat3[5]=d*y[2]+l*y[5]+w*y[8],d=this.mat3[6],l=this.mat3[7],w=this.mat3[8],this.mat3[6]=d*y[0]+l*y[3]+w*y[6],this.mat3[7]=d*y[1]+l*y[4]+w*y[7],this.mat3[8]=d*y[2]+l*y[5]+w*y[8],this}},{key:"column",value:function(g){return new a.default.Vector(this.mat3[3*g],this.mat3[3*g+1],this.mat3[3*g+2])}},{key:"row",value:function(g){return new a.default.Vector(this.mat3[g],this.mat3[g+3],this.mat3[g+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(g,y){return(y=y===void 0?g.copy():y).x=this.row(0).dot(g),y.y=this.row(1).dot(g),y.z=this.row(2).dot(g),y}},{key:"createSubMatrix3x3",value:function(){var g=new a.default.Matrix("mat3");return g.mat3[0]=this.mat4[0],g.mat3[1]=this.mat4[1],g.mat3[2]=this.mat4[2],g.mat3[3]=this.mat4[4],g.mat3[4]=this.mat4[5],g.mat3[5]=this.mat4[6],g.mat3[6]=this.mat4[8],g.mat3[7]=this.mat4[9],g.mat3[8]=this.mat4[10],g}}])&&h(i.prototype,f),u&&h(i,u),v}(),a.default.Matrix);c.default=b},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,m,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(s,p){for(var b=0;b<p.length;b++){var v=p[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(s,v.key,v)}}a.default.Quat=function(){function s(i,f,u,g){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.w=i,this.vec=new a.default.Vector(f,u,g)}var p,b,v;return p=s,v=[{key:"fromAxisAngle",value:function(i,d,u,g){var y=Math.cos(i/2),d=new a.default.Vector(d,u,g).normalize().mult(Math.sin(i/2));return new a.default.Quat(y,d.x,d.y,d.z)}}],(b=[{key:"conjugate",value:function(){return new a.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(i){return new a.default.Quat(this.w*i.w-this.vec.x*i.vec.x-this.vec.y*i.vec.y-this.vec.z-i.vec.z,this.w*i.vec.x+this.vec.x*i.w+this.vec.y*i.vec.z-this.vec.z*i.vec.y,this.w*i.vec.y-this.vec.x*i.vec.z+this.vec.y*i.w+this.vec.z*i.vec.x,this.w*i.vec.z+this.vec.x*i.vec.y-this.vec.y*i.vec.x+this.vec.z*i.w)}},{key:"rotateVector",value:function(i){return new a.default.Vector.mult(i,this.w*this.w-this.vec.dot(this.vec)).add(a.default.Vector.mult(this.vec,2*i.dot(this.vec))).add(a.default.Vector.mult(this.vec,2*this.w).cross(i)).clampToZero()}},{key:"rotateBy",value:function(i){return i.multiply(this).multiply(i.conjugate()).vec.clampToZero()}}])&&h(p.prototype,b),v&&h(p,v),s}(),t=a.default.Quat,c.default=t},{"../core/main":283}],338:[function(t,m,c){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(h,s){for(var p=0;p<s.length;p++){var b=s[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(h,b.key,b)}}t.default.RenderBuffer=function(){function h(b,v,i,f,u,g){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.size=b,this.src=v,this.dst=i,this.attr=f,this._renderer=u,this.map=g}var s,p;return s=h,(p=[{key:"_prepareBuffer",value:function(b,v){var i,f,u,d=v.attributes,g=this._renderer.GL,y=b.model||b,d=d[this.attr];d&&(i=b[this.dst],0<(f=y[this.src]).length?((u=!i)&&(b[this.dst]=i=g.createBuffer()),g.bindBuffer(g.ARRAY_BUFFER,i),!u&&y.dirtyFlags[this.src]===!1||(u=(b=this.map)?b(f):f,this._renderer._bindBuffer(i,g.ARRAY_BUFFER,u),y.dirtyFlags[this.src]=!1),v.enableAttrib(d,this.size)):(b=d.location)!==-1&&this._renderer.registerEnabled.has(b)&&(g.disableVertexAttribArray(b),this._renderer.registerEnabled.delete(b)))}}])&&a(s.prototype,p),h}(),t=t.default.RenderBuffer,c.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,m,c){function a(u){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}function h(u){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(f=t("../core/main"))&&f.__esModule?f:{default:f},p=function(u){if(u&&u.__esModule)return u;if(u===null||h(u)!=="object"&&typeof u!="function")return{default:u};var g=b();if(g&&g.has(u))return g.get(u);var y,d={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in u){var w;Object.prototype.hasOwnProperty.call(u,y)&&((w=l?Object.getOwnPropertyDescriptor(u,y):null)&&(w.get||w.set)?Object.defineProperty(d,y,w):d[y]=u[y])}return d.default=u,g&&g.set(u,d),d}(t("../core/constants"));function b(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,b=function(){return u},u)}function v(u){return function(g){if(Array.isArray(g)){for(var y=0,d=new Array(g.length);y<g.length;y++)d[y]=g[y];return d}}(u)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(u){return this.immediateMode.shapeMode=u!==void 0?u:p.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var i={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},f=(s.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==p.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},s.default.RendererGL.prototype.vertex=function(u,g){if(this.immediateMode.shapeMode===p.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var y in i){var d=i[y],y=this.immediateMode.geometry[y];y.push.apply(y,v(y.slice(y.length-3*d,y.length-2*d)).concat(v(y.slice(y.length-d,y.length))))}var l,w,x=l=w=0,_=(arguments.length===3?x=arguments[2]:arguments.length===4?(l=arguments[2],w=arguments[3]):arguments.length===5&&(x=arguments[2],l=arguments[3],w=arguments[4]),new s.default.Vector(u,g,x)),_=(this.immediateMode.geometry.vertices.push(_),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),_=(this.immediateMode.geometry.vertexColors.push(_[0],_[1],_[2],_[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(_[0],_[1],_[2],_[3]),this.textureMode!==p.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(l/=this._tex.width,w/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(l,w),this.immediateMode._bezierVertex[0]=u,this.immediateMode._bezierVertex[1]=g,this.immediateMode._bezierVertex[2]=x,this.immediateMode._quadraticVertex[0]=u,this.immediateMode._quadraticVertex[1]=g,this.immediateMode._quadraticVertex[2]=x,this},s.default.RendererGL.prototype.normal=function(u,g,y){return u instanceof s.default.Vector?this._currentNormal=u:this._currentNormal=new s.default.Vector(u,g,y),this},s.default.RendererGL.prototype.endShape=function(u,g,y,d,l,w){var x,_=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===p.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===p.TESS&&(this.immediateMode.shapeMode=p.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),x=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==p.LINE_STRIP&&this.immediateMode.shapeMode!==p.LINES||(this.immediateMode.shapeMode=p.TRIANGLE_FAN,x=!0),this.immediateMode.shapeMode===p.QUADS?this.immediateMode.shapeMode=p.TRIANGLES:this.immediateMode.shapeMode===p.QUAD_STRIP&&(this.immediateMode.shapeMode=p.TRIANGLE_STRIP),this._doFill&&!x&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(_),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(u){var g;this.immediateMode.geometry.vertices.length!==0&&(g=this._doStroke,u=u===p.CLOSE,g&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,u),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),g=this.immediateMode.shapeMode===p.TESS,u=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||g||u)&&this.immediateMode.shapeMode!==p.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(u,g,y){var d=[],l=0,w=this.immediateMode.contourIndices.slice(),x=0;switch(u){case p.TRIANGLE_STRIP:for(l=0;l<g.length-2;l++)d.push([l,l+1]),d.push([l,l+2]);d.push([l,l+1]);break;case p.TRIANGLE_FAN:for(l=1;l<g.length-1;l++)d.push([0,l]),d.push([l,l+1]);d.push([0,g.length-1]);break;case p.TRIANGLES:for(l=0;l<g.length-2;l+=3)d.push([l,l+1]),d.push([l+1,l+2]),d.push([l+2,l]);break;case p.LINES:for(l=0;l<g.length-1;l+=2)d.push([l,l+1]);break;case p.QUADS:for(l=0;l<g.length-5;l+=6)d.push([l,l+1]),d.push([l+1,l+2]),d.push([l+3,l+5]),d.push([l+4,l+5]);break;case p.QUAD_STRIP:for(l=0;l<g.length-2;l+=2)d.push([l,l+1]),d.push([l,l+2]),d.push([l+1,l+3]);d.push([l,l+1]);break;default:for(l=0;l<g.length;l++)l+1<g.length&&l+1!==w[0]?d.push([l,l+1]):((y||x)&&d.push([l,x]),0<w.length&&(x=w.shift()))}return u!==p.TESS&&y&&d.push([g.length-1,0]),d},s.default.RendererGL.prototype._tesselateShape=function(){for(var u=this,g=(this.immediateMode.shapeMode=p.TRIANGLES,[[]]),y=0;y<this.immediateMode.geometry.vertices.length;y++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===y&&(this.immediateMode.contourIndices.shift(),g.push([])),g[g.length-1].push(this.immediateMode.geometry.vertices[y].x,this.immediateMode.geometry.vertices[y].y,this.immediateMode.geometry.vertices[y].z,this.immediateMode.geometry.uvs[2*y],this.immediateMode.geometry.uvs[2*y+1],this.immediateMode.geometry.vertexColors[4*y],this.immediateMode.geometry.vertexColors[4*y+1],this.immediateMode.geometry.vertexColors[4*y+2],this.immediateMode.geometry.vertexColors[4*y+3],this.immediateMode.geometry.vertexNormals[y].x,this.immediateMode.geometry.vertexNormals[y].y,this.immediateMode.geometry.vertexNormals[y].z);for(var d,l=this._triangulate(g),w=this.immediateMode.geometry.vertices,x=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),_=0,T=l.length;_<T;_+=s.default.RendererGL.prototype.tessyVertexSize)x.push.apply(x,v(l.slice(_+5,_+9))),this.normal.apply(this,v(l.slice(_+9,_+12))),this.vertex.apply(this,v(l.slice(_,_+5)));this.geometryBuilder&&(d=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(E){return E.map(function(S){if(!d.has(S)){var P=w[S],N=u.immediateMode.geometry.vertices.findIndex(function($){return P.x===$.x&&P.y===$.y&&P.z===$.z});if(N===-1){for(var C=1/0,I=0,L=0;L<u.immediateMode.geometry.vertices.length;L++){var D=u.immediateMode.geometry.vertices[L],B=P.x-D.x,F=P.y-D.y,D=P.z-D.z,B=B*B+F*F+D*D;B<C&&(C=B,I=L)}N=I}d.set(S,N)}return d.get(S)})})),this.immediateMode.geometry.vertexColors=x},s.default.RendererGL.prototype._drawImmediateFill=function(){var u,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,y=this.GL,d=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,u=this._getImmediateFillShader(),this._setFillUniforms(u),!0),l=!1,w=void 0;try{for(var x,_=this.immediateMode.buffers.fill[Symbol.iterator]();!(d=(x=_.next()).done);d=!0)x.value._prepareBuffer(this.immediateMode.geometry,u)}catch(T){l=!0,w=T}finally{try{d||_.return==null||_.return()}finally{if(l)throw w}}if(u.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),g===1)y.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{y.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,g)}catch{console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode")}u.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var u=this.GL,g=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),y=(this._setStrokeUniforms(g),!0),d=!1,l=void 0;try{for(var w,x=this.immediateMode.buffers.stroke[Symbol.iterator]();!(y=(w=x.next()).done);y=!0)w.value._prepareBuffer(this.immediateMode.geometry,g)}catch(_){d=!0,l=_}finally{try{y||x.return==null||x.return()}finally{if(d)throw l}}g.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),u.drawArrays(u.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),g.unbindShader()},s.default.RendererGL);c.default=f},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,m,c){function a(i){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(i)}function h(i){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var s=(v=t("../core/main"))&&v.__esModule?v:{default:v},p=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(i){if(i&&i.__esModule)return i;if(i===null||h(i)!=="object"&&typeof i!="function")return{default:i};var f=b();if(f&&f.has(i))return f.get(i);var u,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in i){var d;Object.prototype.hasOwnProperty.call(i,u)&&((d=y?Object.getOwnPropertyDescriptor(i,u):null)&&(d.get||d.set)?Object.defineProperty(g,u,d):g[u]=i[u])}return g.default=i,f&&f.set(i,g),g}(t("../core/constants")));function b(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,b=function(){return i},i)}s.default.RendererGL.prototype.freeGeometry=function(i){i.gid?this._freeBuffers(i.gid):console.warn("The model you passed to freeGeometry does not have an id!")},s.default.RendererGL.prototype._initBufferDefaults=function(i){var f;return this._freeBuffers(i),1e3<Object.keys(this.retainedMode.geometry).length&&(f=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(f)),this.retainedMode.geometry[i]={}},s.default.RendererGL.prototype._freeBuffers=function(i){var f,u=this.retainedMode.geometry[i];function g(y){var d=!0,l=!1,w=void 0;try{for(var x,_=y[Symbol.iterator]();!(d=(x=_.next()).done);d=!0){var T=x.value;u[T.dst]&&(f.deleteBuffer(u[T.dst]),u[T.dst]=null)}}catch(E){l=!0,w=E}finally{try{d||_.return==null||_.return()}finally{if(l)throw w}}}u&&(delete this.retainedMode.geometry[i],f=this.GL,u.indexBuffer&&f.deleteBuffer(u.indexBuffer),g(this.retainedMode.buffers.stroke),g(this.retainedMode.buffers.fill))},s.default.RendererGL.prototype.createBuffers=function(l,f){var u,g,y,d=this.GL,l=this._initBufferDefaults(l),w=(l.model=f,l.indexBuffer);return f.faces.length?(w=w||(l.indexBuffer=d.createBuffer()),y=(g=(u=s.default.RendererGL.prototype._flatten(f.faces)).some(function(x){return 65535<x}))?Uint32Array:Uint16Array,this._bindBuffer(w,d.ELEMENT_ARRAY_BUFFER,u,y),l.indexBufferType=g?d.UNSIGNED_INT:d.UNSIGNED_SHORT,l.vertexCount=3*f.faces.length):(w&&(d.deleteBuffer(w),l.indexBuffer=null),l.vertexCount=f.vertices?f.vertices.length:0),l.lineVertexCount=f.lineVertices?f.lineVertices.length/3:0,l},s.default.RendererGL.prototype.drawBuffers=function(i){var f=this.GL,u=this.retainedMode.geometry[i];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[i].vertexCount){this._useVertexColor=0<u.model.vertexColors.length;var g=this._getRetainedFillShader(),y=(this._setFillUniforms(g),!0),d=!1,l=void 0;try{for(var w,x=this.retainedMode.buffers.fill[Symbol.iterator]();!(y=(w=x.next()).done);y=!0)w.value._prepareBuffer(u,g)}catch(P){d=!0,l=P}finally{try{y||x.return==null||x.return()}finally{if(d)throw l}}g.disableRemainingAttributes(),u.indexBuffer&&this._bindBuffer(u.indexBuffer,f.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,u.model.hasFillTransparency()),this._drawElements(f.TRIANGLES,i),g.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<u.lineVertexCount){this._useLineColor=0<u.model.vertexStrokeColors.length;var _=this._getRetainedStrokeShader(),T=(this._setStrokeUniforms(_),!0),d=!1,l=void 0;try{for(var E,S=this.retainedMode.buffers.stroke[Symbol.iterator]();!(T=(E=S.next()).done);T=!0)E.value._prepareBuffer(u,_)}catch(C){d=!0,l=C}finally{try{T||S.return==null||S.return()}finally{if(d)throw l}}_.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,u.model.hasStrokeTransparency()),this._drawArrays(f.TRIANGLES,i),_.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(u),this},s.default.RendererGL.prototype.drawBuffersScaled=function(i,f,u,g){var y=this.uModelMatrix.copy();try{this.uModelMatrix.scale(f,u,g),this.drawBuffers(i)}finally{this.uModelMatrix=y}},s.default.RendererGL.prototype._drawArrays=function(i,f){return this.GL.drawArrays(i,0,this.retainedMode.geometry[f].lineVertexCount),this},s.default.RendererGL.prototype._drawElements=function(i,u){var u=this.retainedMode.geometry[u],g=this.GL;if(u.indexBuffer){if(this._pInst.webglVersion!==p.WEBGL2&&u.indexBufferType===g.UNSIGNED_INT&&!g.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");g.drawElements(g.TRIANGLES,u.vertexCount,u.indexBufferType,0)}else g.drawArrays(i||g.TRIANGLES,0,u.vertexCount)},s.default.RendererGL.prototype._drawPoints=function(i,f){var u=this.GL,g=this._getImmediatePointShader();this._setPointUniforms(g),this._bindBuffer(f,u.ARRAY_BUFFER,this._vToNArray(i),Float32Array,u.STATIC_DRAW),g.enableAttrib(g.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),u.drawArrays(u.Points,0,i.length),g.unbindShader()};var v=s.default.RendererGL;c.default=v},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(L,m,c){function a(H){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(H)}function h(H){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(X){return a(X)}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":a(X)})(H)}L("core-js/modules/es.symbol"),L("core-js/modules/es.symbol.description"),L("core-js/modules/es.symbol.iterator"),L("core-js/modules/es.array.concat"),L("core-js/modules/es.array.copy-within"),L("core-js/modules/es.array.every"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.flat"),L("core-js/modules/es.array.flat-map"),L("core-js/modules/es.array.from"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.array.map"),L("core-js/modules/es.array.slice"),L("core-js/modules/es.array.some"),L("core-js/modules/es.array.unscopables.flat"),L("core-js/modules/es.array.unscopables.flat-map"),L("core-js/modules/es.map"),L("core-js/modules/es.object.assign"),L("core-js/modules/es.object.get-own-property-descriptor"),L("core-js/modules/es.object.get-prototype-of"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.reflect.construct"),L("core-js/modules/es.reflect.get"),L("core-js/modules/es.regexp.to-string"),L("core-js/modules/es.set"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.string.iterator"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.float64-array"),L("core-js/modules/es.typed-array.int16-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint16-array"),L("core-js/modules/es.typed-array.uint32-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),L("core-js/modules/es.weak-map"),L("core-js/modules/web.dom-collections.iterator"),L("core-js/modules/es.symbol"),L("core-js/modules/es.symbol.description"),L("core-js/modules/es.symbol.iterator"),L("core-js/modules/es.array.concat"),L("core-js/modules/es.array.copy-within"),L("core-js/modules/es.array.every"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.flat"),L("core-js/modules/es.array.flat-map"),L("core-js/modules/es.array.from"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.array.map"),L("core-js/modules/es.array.slice"),L("core-js/modules/es.array.some"),L("core-js/modules/es.array.unscopables.flat"),L("core-js/modules/es.array.unscopables.flat-map"),L("core-js/modules/es.map"),L("core-js/modules/es.object.assign"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.set"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.string.iterator"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.float64-array"),L("core-js/modules/es.typed-array.int16-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint16-array"),L("core-js/modules/es.typed-array.uint32-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),L("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.readPixelsWebGL=$,c.readPixelWebGL=V,c.default=void 0;var s=u(L("../core/main")),p=function(H){if(H&&H.__esModule)return H;if(H===null||h(H)!=="object"&&typeof H!="function")return{default:H};var X=f();if(X&&X.has(H))return X.get(H);var Q,se={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Q in H){var R;Object.prototype.hasOwnProperty.call(H,Q)&&((R=M?Object.getOwnPropertyDescriptor(H,Q):null)&&(R.get||R.set)?Object.defineProperty(se,Q,R):se[Q]=H[Q])}return se.default=H,X&&X.set(H,se),se}(L("../core/constants")),b=u(L("./GeometryBuilder")),v=u(L("libtess")),i=(L("./p5.Shader"),L("./p5.Camera"),L("../core/p5.Renderer"),L("./p5.Matrix"),L("./p5.Framebuffer"),L("path"),L("./p5.Texture"));function f(){var H;return typeof WeakMap!="function"?null:(H=new WeakMap,f=function(){return H},H)}function u(H){return H&&H.__esModule?H:{default:H}}function g(H){return function(X){if(Array.isArray(X)){for(var Q=0,se=new Array(X.length);Q<X.length;Q++)se[Q]=X[Q];return se}}(H)||function(X){if(Symbol.iterator in Object(X)||Object.prototype.toString.call(X)==="[object Arguments]")return Array.from(X)}(H)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(H,X){for(var Q=0;Q<X.length;Q++){var se=X[Q];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(H,se.key,se)}}function d(H,X,Q){return(d=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(z,M,R){var z=function(q,Z){for(;!Object.prototype.hasOwnProperty.call(q,Z)&&(q=_(q))!==null;);return q}(z,M);if(z)return(z=Object.getOwnPropertyDescriptor(z,M)).get?z.get.call(R):z.value})(H,X,Q||H)}function l(H,X){return(l=Object.setPrototypeOf||function(Q,se){return Q.__proto__=se,Q})(H,X)}function w(H){return function(){var X,Q,se=_(H);return X=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(X=_(this).constructor,Reflect.construct(se,arguments,X)):se.apply(this,arguments),se=this,!(Q=X)||h(Q)!=="object"&&typeof Q!="function"?x(se):Q}}function x(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function _(H){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)})(H)}function T(H,X,Q){X in H?Object.defineProperty(H,X,{value:Q,enumerable:!0,configurable:!0,writable:!0}):H[X]=Q}function E(H,X){I+="#define STROKE_CAP_".concat(H," ").concat(X,`
`),N[p[H]]=X}function S(H,X){I+="#define STROKE_JOIN_".concat(H," ").concat(X,`
`),C[p[H]]=X}var P,N={},C={},I="",L=(E("ROUND",0),E("PROJECT",1),E("SQUARE",2),S("ROUND",0),S("MITER",1),S("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 separate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),F={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:L+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:L+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:I+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision highp int;
precision highp float;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(0., -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:I+`precision highp int;
precision highp float;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},D=F.sphereMappingFrag;for(P in F)F[P]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+F[P];T(L={},p.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),T(L,p.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),T(L,p.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),T(L,p.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),T(L,p.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),T(L,p.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),T(L,p.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),T(L,p.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var B=L;function $(H,X,he,se,M,R,z,q,Z,te){var ie=X.getParameter(X.FRAMEBUFFER_BINDING),he=(X.bindFramebuffer(X.FRAMEBUFFER,he),q===X.RGBA?4:3),oe=R*z*he,fe=Z===X.UNSIGNED_BYTE?Uint8Array:Float32Array;if(H instanceof fe&&H.length===oe||(H=new fe(oe)),X.readPixels(se,te?te-M-z:M,R,z,q,Z,H),X.bindFramebuffer(X.FRAMEBUFFER,ie),te)for(var ce=Math.floor(z/2),ee=new fe(R*he),de=0;de<ce;de++){var ye=de*R*4,we=(z-de-1)*R*4;ee.set(H.subarray(ye,ye+4*R)),H.copyWithin(ye,we,we+4*R),H.set(ee,we)}return H}function V(H,Z,Q,se,M,R,z){var q=H.getParameter(H.FRAMEBUFFER_BINDING),Z=(H.bindFramebuffer(H.FRAMEBUFFER,Z),M===H.RGBA?4:3),Z=new(R===H.UNSIGNED_BYTE?Uint8Array:Float32Array)(Z);return H.readPixels(Q,z?z-se-1:se,1,1,M,R,Z),H.bindFramebuffer(H.FRAMEBUFFER,q),Array.from(Z)}s.default.prototype.setAttributes=function(H,X){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Q=!0;if(X!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[H]!==X&&(this._glAttributes[H]=X,Q=!1)):H instanceof Object&&this._glAttributes!==H&&(this._glAttributes=H,Q=!1),this._renderer.isP3D&&!Q){if(!this._setupDone){for(var se in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(se))return void s.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL=function(H){var X=se;if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(H&&H.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),H&&l(X,H);var Q=w(se);function se(M,R,z,q){if(this instanceof se)return(M=Q.call(this,M,R,z))._setAttributeDefaults(R),M._initContext(),M.isP3D=!0,M.geometryBuilder=void 0,M.GL=M.drawingContext,M._pInst._setProperty("drawingContext",M.drawingContext),M._isErasing=!1,M._clipDepths=[],M._isClipApplied=!1,M._stencilTestOn=!1,M._enableLighting=!1,M.ambientLightColors=[],M.mixedAmbientLight=[],M.mixedSpecularColor=[],M.specularColors=[1,1,1],M.directionalLightDirections=[],M.directionalLightDiffuseColors=[],M.directionalLightSpecularColors=[],M.pointLightPositions=[],M.pointLightDiffuseColors=[],M.pointLightSpecularColors=[],M.spotLightPositions=[],M.spotLightDirections=[],M.spotLightDiffuseColors=[],M.spotLightSpecularColors=[],M.spotLightAngle=[],M.spotLightConc=[],M.activeImageLight=null,M.diffusedTextures=new Map,M.specularTextures=new Map,M.drawMode=p.FILL,M.curFillColor=M._cachedFillStyle=[1,1,1,1],M.curAmbientColor=M._cachedFillStyle=[1,1,1,1],M.curSpecularColor=M._cachedFillStyle=[0,0,0,0],M.curEmissiveColor=M._cachedFillStyle=[0,0,0,0],M.curStrokeColor=M._cachedStrokeStyle=[0,0,0,1],M.curBlendMode=p.BLEND,M.preEraseBlend=void 0,M._cachedBlendMode=void 0,M.webglVersion===p.WEBGL2?M.blendExt=M.GL:M.blendExt=M.GL.getExtension("EXT_blend_minmax"),M._isBlending=!1,M._hasSetAmbient=!1,M._useSpecularMaterial=!1,M._useEmissiveMaterial=!1,M._useNormalMaterial=!1,M._useShininess=1,M._useMetalness=0,M._useLineColor=!1,M._useVertexColor=!1,M.registerEnabled=new Set,M._tint=[255,255,255,255],M.constantAttenuation=1,M.linearAttenuation=0,M.quadraticAttenuation=0,M.uModelMatrix=new s.default.Matrix,M.uViewMatrix=new s.default.Matrix,M.uMVMatrix=new s.default.Matrix,M.uPMatrix=new s.default.Matrix,M.uNMatrix=new s.default.Matrix("mat3"),M.curMatrix=new s.default.Matrix("mat3"),M._currentNormal=new s.default.Vector(0,0,1),M._curCamera=new s.default.Camera(x(M)),M._curCamera._computeCameraDefaultSettings(),M._curCamera._setDefaultCamera(),M.filterCamera=new s.default.Camera(x(M)),M.filterCamera._computeCameraDefaultSettings(),M.filterCamera._setDefaultCamera(),M.prevTouches=[],M.zoomVelocity=0,M.rotateVelocity=new s.default.Vector(0,0),M.moveVelocity=new s.default.Vector(0,0),M.executeZoom=!1,M.executeRotateAndMove=!1,M.specularShader=void 0,M.sphereMapping=void 0,M.diffusedShader=void 0,M._defaultLightShader=void 0,M._defaultImmediateModeShader=void 0,M._defaultNormalShader=void 0,M._defaultColorShader=void 0,M._defaultPointShader=void 0,M.userFillShader=void 0,M.userStrokeShader=void 0,M.userPointShader=void 0,M.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",x(M)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",x(M)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",x(M)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",x(M)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",x(M))],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(M),M._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",x(M),M._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",x(M)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",x(M)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(M),M._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(M),M._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(M),M._flatten)]}},M.immediateMode={geometry:new s.default.Geometry,shapeMode:p.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",x(M),M._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",x(M),M._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",x(M)),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",x(M)),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",x(M),M._flatten)],stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",x(M)),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",x(M)),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",x(M)),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",x(M)),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",x(M))],point:M.GL.createBuffer()}},M.pointSize=5,M.curStrokeWeight=1,M.curStrokeCap=p.ROUND,M.curStrokeJoin=p.ROUND,M.textures=new Map,M.framebuffers=new Set,M.activeFramebuffers=[],M.filterShader=void 0,M.filterLayer=void 0,M.filterLayerTemp=void 0,M.defaultFilterShaders={},M.textureMode=p.IMAGE,M.textureWrapX=p.CLAMP,M.textureWrapY=p.CLAMP,M._tex=null,M._curveTightness=6,M._lookUpTableBezier=[],M._lookUpTableQuadratic=[],M._lutBezierDetail=0,M._lutQuadraticDetail=0,M.isProcessingVertices=!1,M._tessy=M._initTessy(),M.fontInfos={},M._curShader=void 0,M;throw new TypeError("Cannot call a class as a function")}return X=se,(H=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new b.default(this)}},{key:"endGeometry",value:function(){var M;if(this.geometryBuilder)return M=this.geometryBuilder.finish(),this.geometryBuilder=void 0,M;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(M){return this.beginGeometry(),M(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(M){var R={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};M._glAttributes===null?M._glAttributes=R:M._glAttributes=Object.assign(R,M._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?p.WEBGL2:p.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var M=this.drawingContext;M.enable(M.DEPTH_TEST),M.depthFunc(M.LEQUAL),M.viewport(0,0,M.drawingBufferWidth,M.drawingBufferHeight),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var M=this.drawingContext;return M.getParameter(M.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(M,R){this._maxTextureSize||(this._maxTextureSize=this._getParam());var q=this._maxTextureSize,q=(s.default.prototype._maxAllowedPixelDimensions,Math.floor(q/this.pixelDensity())),z=Math.min(M,q),q=Math.min(R,q);return z===M&&q===R||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(z,", height: ").concat(q,".")),{adjustedWidth:z,adjustedHeight:q}}},{key:"_resetContext",value:function(M,R){var z,q=this.width,Z=this.height,ie=this.canvas.id,te=this._pInst instanceof s.default.Graphics,ie=(te?((z=this._pInst).canvas.parentNode.removeChild(z.canvas),z.canvas=document.createElement("canvas"),(z._pInst._userNode||document.body).appendChild(z.canvas),s.default.Element.call(z,z.canvas,z._pInst),z.width=q,z.height=Z):((z=this.canvas)&&z.parentNode.removeChild(z),(z=document.createElement("canvas")).id=ie,(this._pInst._userNode||document.body).appendChild(z),this._pInst.canvas=z,this.canvas=z),new s.default.RendererGL(this._pInst.canvas,this._pInst,!te));this._pInst._setProperty("_renderer",ie),ie.resize(q,Z),ie._applyDefaults(),te||this._pInst._elements.push(ie),typeof R=="function"&&setTimeout(function(){R.apply(window._renderer,M)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var q=(q=this._pInst).color.apply(q,arguments),M=q.levels[0]/255,R=q.levels[1]/255,z=q.levels[2]/255,q=q.levels[3]/255;this.clear(M,R,z,q)}},{key:"fill",value:function(M,R,z,q){var Z=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=Z._array,this.drawMode=p.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(M,R,z,q){var Z=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=Z._array}},{key:"strokeCap",value:function(M){this.curStrokeCap=M}},{key:"strokeJoin",value:function(M){this.curStrokeJoin=M}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(M,R){M.width===R.width&&M.height===R.height||M.resize(R.width,R.height),M.pixelDensity()!==R.pixelDensity()&&M.pixelDensity(R.pixelDensity())}},{key:"filter",value:function(){var M,R,z=this,q=this.getFilterLayer(),Z=void 0,te=void 0,ie=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(te=arguments.length<=0?void 0:arguments[0],T(M={},p.BLUR,3),T(M,p.POSTERIZE,4),T(M,p.THRESHOLD,.5),Z=te in(M=M)&&(arguments.length<=1?void 0:arguments[1])===void 0?M[te]:arguments.length<=1?void 0:arguments[1],te in this.defaultFilterShaders||(this.defaultFilterShaders[te]=new s.default.Shader(q._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,B[te])),this.filterShader=this.defaultFilterShaders[te]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),he=(this.matchSize(q,ie),q.draw(function(){return z._pInst.clear()}),[1/(ie.width*ie.pixelDensity()),1/(ie.height*ie.pixelDensity())]);te===p.BLUR?(R=this.getFilterLayerTemp(),this.matchSize(R,ie),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(p.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",he),this.filterShader.setUniform("canvasSize",[ie.width,ie.height]),this.filterShader.setUniform("radius",Math.max(1,Z)),R.draw(function(){z.filterShader.setUniform("direction",[1,0]),z.filterShader.setUniform("tex0",ie),z._pInst.clear(),z._pInst.shader(z.filterShader),z._pInst.noLights(),z._pInst.plane(ie.width,ie.height)}),q.draw(function(){z.filterShader.setUniform("direction",[0,1]),z.filterShader.setUniform("tex0",R),z._pInst.clear(),z._pInst.shader(z.filterShader),z._pInst.noLights(),z._pInst.plane(ie.width,ie.height)}),this._pInst.pop()):q.draw(function(){z._pInst.noStroke(),z._pInst.blendMode(p.BLEND),z._pInst.shader(z.filterShader),z.filterShader.setUniform("tex0",ie),z.filterShader.setUniform("texelSize",he),z.filterShader.setUniform("canvasSize",[ie.width,ie.height]),z.filterShader.setUniform("filterParameter",Z),z._pInst.noLights(),z._pInst.plane(ie.width,ie.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(p.CORNER),this._pInst.blendMode(p.BLEND),ie.filterCamera._resize(),this._pInst.setCamera(ie.filterCamera),this._pInst.resetMatrix(),this._pInst.image(q,-ie.width/2,-ie.height/2,ie.width,ie.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(M){return M?this._pInst.pixelDensity(M):this._pInst.pixelDensity()}},{key:"blendMode",value:function(M){M===p.DARKEST||M===p.LIGHTEST||M===p.ADD||M===p.BLEND||M===p.SUBTRACT||M===p.SCREEN||M===p.EXCLUSION||M===p.REPLACE||M===p.MULTIPLY||M===p.REMOVE?this.curBlendMode=M:M!==p.BURN&&M!==p.OVERLAY&&M!==p.HARD_LIGHT&&M!==p.SOFT_LIGHT&&M!==p.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(M,R){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(p.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,M/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,R/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},M=(d(_(se.prototype),"beginClip",this).call(this,M),this.drawTarget()._isClipApplied=!0,this.GL);M.clearStencil(0),M.clear(M.STENCIL_BUFFER_BIT),M.enable(M.STENCIL_TEST),this._stencilTestOn=!0,M.stencilFunc(M.ALWAYS,1,255),M.stencilOp(M.KEEP,M.KEEP,M.REPLACE),M.disable(M.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var M=this.GL;M.stencilOp(M.KEEP,M.KEEP,M.KEEP),M.stencilFunc(this._clipInvert?M.EQUAL:M.NOTEQUAL,0,255),M.enable(M.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),d(_(se.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(M){this.curStrokeWeight!==M&&(this.pointSize=M,this.curStrokeWeight=M)}},{key:"_getPixel",value:function(M,R){var z=this.GL;return V(z,null,M,R,z.RGBA,z.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var M,R,z=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(M=this._pInst._pixelDensity,R=this.GL,z._setProperty("pixels",$(z.pixels,R,null,0,0,this.width*M,this.height*M,R.RGBA,R.UNSIGNED_BYTE,this.height*M)))}},{key:"updatePixels",value:function(){var M=this._getTempFramebuffer();M.pixels=this._pixelsState.pixels,M.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(p.CENTER),this._pInst.image(M,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:p.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:p.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(M){return this.retainedMode.geometry[M]!==void 0}},{key:"viewport",value:function(M,R){this._viewport=[0,0,M,R],this.GL.viewport(0,0,M,R)}},{key:"resize",value:function(Z,q){s.default.Renderer.prototype.resize.call(this,Z,q),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var Z=this._pixelsState,z=(Z.pixels!==void 0&&Z._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),q=!1,Z=void 0;try{for(var te,ie=this.framebuffers[Symbol.iterator]();!(z=(te=ie.next()).done);z=!0)te.value._canvasSizeChanged()}catch(he){q=!0,Z=he}finally{try{z||ie.return==null||ie.return()}finally{if(q)throw Z}}}},{key:"clear",value:function(){var M=(arguments.length<=0?void 0:arguments[0])||0,R=(arguments.length<=1?void 0:arguments[1])||0,z=(arguments.length<=2?void 0:arguments[2])||0,q=(arguments.length<=3?void 0:arguments[3])||0,Z=this.activeFramebuffer();Z&&Z.format===p.UNSIGNED_BYTE&&!Z.antialias&&q===0&&(q=1e-10),this.GL.clearColor(M*q,R*q,z*q,q),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(M,R,z,q,Z,te){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([M,R,0,0,z,q,0,0,0,0,1,0,Z,te,0,1])}},{key:"translate",value:function(M,R,z){return M instanceof s.default.Vector&&(z=M.z,R=M.y,M=M.x),this.uModelMatrix.translate([M,R,z]),this}},{key:"scale",value:function(M,R,z){return this.uModelMatrix.scale(M,R,z),this}},{key:"rotate",value:function(M,R){return R===void 0?this.rotateZ(M):(s.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(M){return this.rotate(M,1,0,0),this}},{key:"rotateY",value:function(M){return this.rotate(M,0,1,0),this}},{key:"rotateZ",value:function(M){return this.rotate(M,0,0,1),this}},{key:"push",value:function(){var M=s.default.Renderer.prototype.push.apply(this),R=M.properties;return R.uModelMatrix=this.uModelMatrix.copy(),R.uViewMatrix=this.uViewMatrix.copy(),R.uPMatrix=this.uPMatrix.copy(),R._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),R.ambientLightColors=this.ambientLightColors.slice(),R.specularColors=this.specularColors.slice(),R.directionalLightDirections=this.directionalLightDirections.slice(),R.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),R.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),R.pointLightPositions=this.pointLightPositions.slice(),R.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),R.pointLightSpecularColors=this.pointLightSpecularColors.slice(),R.spotLightPositions=this.spotLightPositions.slice(),R.spotLightDirections=this.spotLightDirections.slice(),R.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),R.spotLightSpecularColors=this.spotLightSpecularColors.slice(),R.spotLightAngle=this.spotLightAngle.slice(),R.spotLightConc=this.spotLightConc.slice(),R.userFillShader=this.userFillShader,R.userStrokeShader=this.userStrokeShader,R.userPointShader=this.userPointShader,R.pointSize=this.pointSize,R.curStrokeWeight=this.curStrokeWeight,R.curStrokeColor=this.curStrokeColor,R.curFillColor=this.curFillColor,R.curAmbientColor=this.curAmbientColor,R.curSpecularColor=this.curSpecularColor,R.curEmissiveColor=this.curEmissiveColor,R._hasSetAmbient=this._hasSetAmbient,R._useSpecularMaterial=this._useSpecularMaterial,R._useEmissiveMaterial=this._useEmissiveMaterial,R._useShininess=this._useShininess,R._useMetalness=this._useMetalness,R.constantAttenuation=this.constantAttenuation,R.linearAttenuation=this.linearAttenuation,R.quadraticAttenuation=this.quadraticAttenuation,R._enableLighting=this._enableLighting,R._useNormalMaterial=this._useNormalMaterial,R._tex=this._tex,R.drawMode=this.drawMode,R._currentNormal=this._currentNormal,R.curBlendMode=this.curBlendMode,R.activeImageLight=this.activeImageLight,R.textureMode=this.textureMode,M}},{key:"pop",value:function(){var M;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var R=arguments.length,z=new Array(R),q=0;q<R;q++)z[q]=arguments[q];(M=d(_(se.prototype),"pop",this)).call.apply(M,[this].concat(z)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var M=this.drawTarget();M._isClipApplied!==this._stencilTestOn&&(M._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var M=this.userStrokeShader;return M&&M.isStrokeShader()?M:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(M){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(D)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",M),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var M=this.userFillShader;if(this._useNormalMaterial&&(!M||!M.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!M||!M.isLightShader())return this._getLightShader()}else if(this._tex){if(!M||!M.isTextureShader())return this._getLightShader()}else if(!M)return this._getImmediateModeShader();return M}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var M=this.userFillShader;if(this._enableLighting){if(!M||!M.isLightShader())return this._getLightShader()}else if(this._tex){if(!M||!M.isTextureShader())return this._getLightShader()}else if(!M)return this._getColorShader();return M}},{key:"_getImmediatePointShader",value:function(){var M=this.userPointShader;return M&&M.isPointShader()?M:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+F.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+F.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+F.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+F.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+F.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+F.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===p.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+F.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+F.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(M,R){var z="";return this.webglVersion===p.WEBGL2&&(z+=`#version 300 es
#define WEBGL2
`),M==="vert"?z+=`#define VERTEX_SHADER
`:M==="frag"&&(z+=`#define FRAGMENT_SHADER
`),R&&(z+="precision ".concat(R,` float;
`)),z}},{key:"_getEmptyTexture",value:function(){var M;return this._emptyTexture||((M=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,M)),this._emptyTexture}},{key:"getTexture",value:function(M){M instanceof s.default.Framebuffer&&(M=M.color);var R=this.textures.get(M);return R||(R=new s.default.Texture(this,M),this.textures.set(M,R),R)}},{key:"getDiffusedTexture",value:function(M){var R,z,q=this;return this.diffusedTextures.get(M)!=null?this.diffusedTextures.get(M):(R=Math.floor(M.height/M.width*200),z=this._pInst.createFramebuffer({width:200,height:R,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(F.imageLightVert,F.imageLightDiffusedFrag)),z.draw(function(){q._pInst.shader(q.diffusedShader),q.diffusedShader.setUniform("environmentMap",M),q._pInst.noStroke(),q._pInst.rectMode(p.CENTER),q._pInst.noLights(),q._pInst.rect(0,0,200,R)}),this.diffusedTextures.set(M,z),z)}},{key:"getSpecularTexture",value:function(M){var R=this;if(this.specularTextures.get(M)!=null)return this.specularTextures.get(M);for(var z,q=[],Z=this._pInst.createFramebuffer({width:512,height:512,density:1}),te=Math.log(512)/Math.log(2),ie=(this.specularShader||(this.specularShader=this._pInst.createShader(F.imageLightVert,F.imageLightSpecularFrag)),512);1<=ie;ie/=2)(function(he){Z.resize(he,he);var oe=1-Math.log(he)/Math.log(2)/te;Z.draw(function(){R._pInst.shader(R.specularShader),R._pInst.clear(),R.specularShader.setUniform("environmentMap",M),R.specularShader.setUniform("roughness",oe),R._pInst.noStroke(),R._pInst.noLights(),R._pInst.plane(he,he)}),q.push(Z.get().drawingContext.getImageData(0,0,he,he))})(ie);return Z.remove(),z=new i.MipmapTexture(this,q,{}),this.specularTextures.set(M,z),z}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(M){return new s.default.Framebuffer(this,M)}},{key:"_setStrokeUniforms",value:function(M){M.bindShader(),M.setUniform("uUseLineColor",this._useLineColor),M.setUniform("uMaterialColor",this.curStrokeColor),M.setUniform("uStrokeWeight",this.curStrokeWeight),M.setUniform("uStrokeCap",N[this.curStrokeCap]),M.setUniform("uStrokeJoin",C[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(M){var R=this,z=(M.bindShader(),this.mixedSpecularColor=g(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(q,Z){return R.curFillColor[Z]*R._useMetalness+q*(1-R._useMetalness)})),M.setUniform("uUseVertexColor",this._useVertexColor),M.setUniform("uMaterialColor",this.curFillColor),M.setUniform("isTexture",!!this._tex),this._tex&&M.setUniform("uSampler",this._tex),M.setUniform("uTint",this._tint),M.setUniform("uHasSetAmbient",this._hasSetAmbient),M.setUniform("uAmbientMatColor",this.curAmbientColor),M.setUniform("uSpecularMatColor",this.mixedSpecularColor),M.setUniform("uEmissiveMatColor",this.curEmissiveColor),M.setUniform("uSpecular",this._useSpecularMaterial),M.setUniform("uEmissive",this._useEmissiveMaterial),M.setUniform("uShininess",this._useShininess),M.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(M),M.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),z=(M.setUniform("uPointLightCount",z),M.setUniform("uPointLightLocation",this.pointLightPositions),M.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),M.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),z=(M.setUniform("uDirectionalLightCount",z),M.setUniform("uLightingDirection",this.directionalLightDirections),M.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),M.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),z=(this.mixedAmbientLight=g(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(q){return q-=R._useMetalness,Math.max(0,q)})),M.setUniform("uAmbientLightCount",z),M.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);M.setUniform("uSpotLightCount",z),M.setUniform("uSpotLightAngle",this.spotLightAngle),M.setUniform("uSpotLightConc",this.spotLightConc),M.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),M.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),M.setUniform("uSpotLightLocation",this.spotLightPositions),M.setUniform("uSpotLightDirection",this.spotLightDirections),M.setUniform("uConstantAttenuation",this.constantAttenuation),M.setUniform("uLinearAttenuation",this.linearAttenuation),M.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),M.bindTextures()}},{key:"_setImageLightUniforms",value:function(M){var R;M.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(R=this.getDiffusedTexture(this.activeImageLight),M.setUniform("environmentMapDiffused",R),R=this.getSpecularTexture(this.activeImageLight),M.setUniform("environmentMapSpecular",R))}},{key:"_setPointUniforms",value:function(M){M.bindShader(),M.setUniform("uMaterialColor",this.curStrokeColor),M.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(M,R,z,q,Z){R=R||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(R,M),z!==void 0&&((M=z)instanceof s.default.DataArray?M=z.dataArray():M instanceof(q||Float32Array)||(M=new(q||Float32Array)(M)),this.GL.bufferData(R,M,Z||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(M,R){return M.length===R.length&&M.every(function(z,q){return z===R[q]})}},{key:"_isTypedArray",value:function(M){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(R){return M instanceof R})}},{key:"_flatten",value:function(M){return M.flat()}},{key:"_vToNArray",value:function(M){return M.flatMap(function(R){return[R.x,R.y,R.z]})}},{key:"_bezierCoefficients",value:function(M){var R=M*M,z=1-M,q=z*z;return[q*z,3*q*M,3*z*R,R*M]}},{key:"_quadraticCoefficients",value:function(M){var R=1-M;return[R*R,2*R*M,M*M]}},{key:"_bezierToCatmull",value:function(M){return[M[1],M[1]+(M[2]-M[0])/this._curveTightness,M[2]-(M[3]-M[1])/this._curveTightness,M[2]]}},{key:"_initTessy",value:function(){var M=new v.default.GluTesselator;return M.gluTessCallback(v.default.gluEnum.GLU_TESS_VERTEX_DATA,function(R,z){var q=!0,Z=!1,te=void 0;try{for(var ie,he=R[Symbol.iterator]();!(q=(ie=he.next()).done);q=!0){var oe=ie.value;z.push(oe)}}catch(fe){Z=!0,te=fe}finally{try{q||he.return==null||he.return()}finally{if(Z)throw te}}}),M.gluTessCallback(v.default.gluEnum.GLU_TESS_BEGIN,function(R){R!==v.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(R))}),M.gluTessCallback(v.default.gluEnum.GLU_TESS_ERROR,function(R){console.log("error callback"),console.log("error number: ".concat(R))}),M.gluTessCallback(v.default.gluEnum.GLU_TESS_COMBINE,function(R,z,q){for(var Z=new Array(s.default.RendererGL.prototype.tessyVertexSize).fill(0),te=0;te<q.length;te++)for(var ie=0;ie<Z.length;ie++)q[te]!==0&&z[te]&&(Z[ie]+=z[te][ie]*q[te]);return Z}),M.gluTessCallback(v.default.gluEnum.GLU_TESS_EDGE_FLAG,function(R){}),M.gluTessProperty(v.default.gluEnum.GLU_TESS_WINDING_RULE,v.default.windingRule.GLU_TESS_WINDING_NONZERO),M}},{key:"_triangulate",value:function(M){var R=M[0]?M[0][2]:void 0,z=!0,q=!0,oe=!1,ce=void 0;try{for(var Z,te=M[Symbol.iterator]();!(q=(Z=te.next()).done);q=!0)for(var ie=Z.value,he=0;he<ie.length;he+=s.default.RendererGL.prototype.tessyVertexSize)if(ie[he+2]!==R){z=!1;break}}catch(je){oe=!0,ce=je}finally{try{q||te.return==null||te.return()}finally{if(oe)throw ce}}z?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var oe=[],fe=(this._tessy.gluTessBeginPolygon(oe),!0),ce=!1,ee=void 0;try{for(var de,ye=M[Symbol.iterator]();!(fe=(de=ye.next()).done);fe=!0){var we=de.value;this._tessy.gluTessBeginContour();for(var ge=0;ge<we.length;ge+=s.default.RendererGL.prototype.tessyVertexSize){var ve=we.slice(ge,ge+s.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(ve,ve)}this._tessy.gluTessEndContour()}}catch(je){ce=!0,ee=je}finally{try{fe||ye.return==null||ye.return()}finally{if(ce)throw ee}}return this._tessy.gluTessEndPolygon(),oe}}])&&y(X.prototype,H),se}(s.default.Renderer),s.default.prototype._assert3d=function(H){if(!this._renderer.isP3D)throw new Error("".concat(H,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see https://p5js.org/examples/3d-geometries/ for more information."))},s.default.RendererGL.prototype.tessyVertexSize=12,L=s.default.RendererGL,c.default=L},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,m,c){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(p,b){return function(v){if(Array.isArray(v))return v}(p)||function(v,i){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]"){var f=[],u=!0,g=!1,y=void 0;try{for(var d,l=v[Symbol.iterator]();!(u=(d=l.next()).done)&&(f.push(d.value),!i||f.length!==i);u=!0);}catch(w){g=!0,y=w}finally{try{u||l.return==null||l.return()}finally{if(g)throw y}}return f}}(p,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(p,b){for(var v=0;v<b.length;v++){var i=b[v];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(p,i.key,i)}}a.default.Shader=function(){function p(i,f,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},y=this,d=p;if(!(y instanceof d))throw new TypeError("Cannot call a class as a function");this._renderer=i,this._vertSrc=f,this._fragSrc=u,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:g.uniforms||{},declarations:g.declarations,helpers:g.helpers||{},vertex:g.vertex||{},fragment:g.fragment||{},modified:{vertex:g.modified&&g.modified.vertex||{},fragment:g.modified&&g.modified.fragment||{}}}}var b,v;return b=p,(v=[{key:"shaderSrc",value:function(x,f){var u,g,y,d,l,x=h(x.split("void main"),2),w=x[0],x=x[1],_="";for(u in this.hooks.uniforms)_+="uniform ".concat(u,`;
`);for(g in this.hooks.declarations&&(_+=this.hooks.declarations+`
`),this.hooks[f].declarations&&(_+=this.hooks[f].declarations+`
`),this.hooks.helpers)_+="".concat(g).concat(this.hooks.helpers[g],`
`);for(y in this.hooks[f])y!=="declarations"&&(d=(l=h(y.split(" "),2))[0],l=l[1],this.hooks.modified[f][y]&&(_+="#define AUGMENTED_HOOK_"+l+`
`),_+=d+" HOOK_"+l+this.hooks[f][y]+`
`);return w+_+"void main"+x}},{key:"version",value:function(){var i=/#version (.+)$/.exec(this.vertSrc());return i?i[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var i in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[i]?"[MODIFIED] ":"")+i+this.hooks.vertex[i]);for(var f in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[f]?"[MODIFIED] ":"")+f+this.hooks.fragment[f]);for(var u in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(u+this.hooks.helpers[u])}},{key:"modify",value:function(i){a.default._validateParameters("p5.Shader.modify",arguments);var f,u={vertex:{},fragment:{},helpers:{}};for(f in i)f!=="declarations"&&f!=="uniforms"&&(f==="vertexDeclarations"?u.vertex.declarations=(u.vertex.declarations||"")+`
`+i[f]:f==="fragmentDeclarations"?u.fragment.declarations=(u.fragment.declarations||"")+`
`+i[f]:this.hooks.vertex[f]?u.vertex[f]=i[f]:this.hooks.fragment[f]?u.fragment[f]=i[f]:u.helpers[f]=i[f]);var g,y,d=Object.assign({},this.hooks.modified.vertex),l=Object.assign({},this.hooks.modified.fragment);for(g in u.vertex||{})g!=="declarations"&&(d[g]=!0);for(y in u.fragment||{})y!=="declarations"&&(l[y]=!0);return new a.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(i.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,i.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,u.fragment||{}),vertex:Object.assign({},this.hooks.vertex,u.vertex||{}),helpers:Object.assign({},this.hooks.helpers,u.helpers||{}),modified:{vertex:d,fragment:l}})}},{key:"init",value:function(){if(this._glProgram===0){var i,f=this._renderer.GL;if(this._vertShader=f.createShader(f.VERTEX_SHADER),f.shaderSource(this._vertShader,this.vertSrc()),f.compileShader(this._vertShader),!f.getShaderParameter(this._vertShader,f.COMPILE_STATUS))return i=f.getShaderInfoLog(this._vertShader),console.error(i),null;if(this._fragShader=f.createShader(f.FRAGMENT_SHADER),f.shaderSource(this._fragShader,this.fragSrc()),f.compileShader(this._fragShader),!f.getShaderParameter(this._fragShader,f.COMPILE_STATUS))return i=f.getShaderInfoLog(this._fragShader),console.error(i),null;this._glProgram=f.createProgram(),f.attachShader(this._glProgram,this._vertShader),f.attachShader(this._glProgram,this._fragShader),f.linkProgram(this._glProgram),f.getProgramParameter(this._glProgram,f.LINK_STATUS)||a.default._friendlyError("Snap! Error linking shader program: ".concat(f.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var i in this.hooks.uniforms){var f=h(i.split(" "),2)[1],i=this.hooks.uniforms[i],u=void 0;(u=i instanceof Function?i():i)!=null&&this.setUniform(f,u)}}},{key:"copyToContext",value:function(i){var f=new a.default.Shader(i._renderer,this._vertSrc,this._fragSrc);return f.ensureCompiledOnContext(i),f}},{key:"ensureCompiledOnContext",value:function(i){if(this._glProgram!==0&&this._renderer!==i._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=i._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var i=this._renderer.GL,f=i.getProgramParameter(this._glProgram,i.ACTIVE_ATTRIBUTES),u=0;u<f;++u){var g=i.getActiveAttrib(this._glProgram,u),y=g.name,d=i.getAttribLocation(this._glProgram,y),l={};l.name=y,l.location=d,l.index=u,l.type=g.type,l.size=g.size,this.attributes[y]=l}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var i=this._renderer.GL,f=i.getProgramParameter(this._glProgram,i.ACTIVE_UNIFORMS),u=0,g=0;g<f;++g){var y=i.getActiveUniform(this._glProgram,g),d={},l=(d.location=i.getUniformLocation(this._glProgram,y.name),d.size=y.size,y.name);1<y.size&&(l=l.substring(0,l.indexOf("[0]"))),d.name=l,d.type=y.type,d._cachedData=void 0,d.type===i.SAMPLER_2D&&(d.samplerIndex=u,u++,this.samplers.push(d)),d.isArray=1<y.size||d.type===i.FLOAT_MAT3||d.type===i.FLOAT_MAT4||d.type===i.FLOAT_VEC2||d.type===i.FLOAT_VEC3||d.type===i.FLOAT_VEC4||d.type===i.INT_VEC2||d.type===i.INT_VEC4||d.type===i.INT_VEC3,this.uniforms[l]=d}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var i=this._renderer.GL,f=!0,u=!1,g=void 0;try{for(var y,d=this.samplers[Symbol.iterator]();!(f=(y=d.next()).done);f=!0){var l=y.value,w=l.texture;w===void 0&&(w=this._renderer._getEmptyTexture()),i.activeTexture(i.TEXTURE0+l.samplerIndex),w.bindTexture(),w.update(),i.uniform1i(l.location,l.samplerIndex)}}catch(x){u=!0,g=x}finally{try{f||d.return==null||d.return()}finally{if(u)throw g}}}},{key:"updateTextures",value:function(){var i=!0,f=!1,u=void 0;try{for(var g,y=this.samplers[Symbol.iterator]();!(i=(g=y.next()).done);i=!0){var d=g.value.texture;d&&d.update()}}catch(l){f=!0,u=l}finally{try{i||y.return==null||y.return()}finally{if(f)throw u}}}},{key:"unbindTextures",value:function(){var i=!0,f=!1,u=void 0;try{for(var g,y=this.samplers[Symbol.iterator]();!(i=(g=y.next()).done);i=!0){var d=g.value;this.setUniform(d.name,this._renderer._getEmptyTexture())}}catch(l){f=!0,u=l}finally{try{i||y.return==null||y.return()}finally{if(f)throw u}}}},{key:"_setMatrixUniforms",value:function(){var i=this._renderer.uModelMatrix,f=this._renderer.uViewMatrix,u=this._renderer.uPMatrix,g=i.copy().mult(f),y=(this._renderer.uMVMatrix=g).copy();y.mult(u),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",f.mat4),this.setUniform("uProjectionMatrix",u.mat4),this.setUniform("uModelMatrix",i.mat4),this.setUniform("uModelViewMatrix",g.mat4),this.setUniform("uModelViewProjectionMatrix",y.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var i=this._renderer.GL;return this._renderer._curShader!==this&&(i.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(i,f){var u=this.uniforms[i];if(u){var g=this._renderer.GL;if(u.isArray){if(u._cachedData&&this._renderer._arraysEqual(u._cachedData,f))return;u._cachedData=f.slice(0)}else{if(u._cachedData&&u._cachedData===f)return;Array.isArray(f)?u._cachedData=f.slice(0):u._cachedData=f}var y=u.location;switch(this.useProgram(),u.type){case g.BOOL:f===!0?g.uniform1i(y,1):g.uniform1i(y,0);break;case g.INT:1<u.size?f.length&&g.uniform1iv(y,f):g.uniform1i(y,f);break;case g.FLOAT:1<u.size?f.length&&g.uniform1fv(y,f):g.uniform1f(y,f);break;case g.FLOAT_MAT3:g.uniformMatrix3fv(y,!1,f);break;case g.FLOAT_MAT4:g.uniformMatrix4fv(y,!1,f);break;case g.FLOAT_VEC2:1<u.size?f.length&&g.uniform2fv(y,f):g.uniform2f(y,f[0],f[1]);break;case g.FLOAT_VEC3:1<u.size?f.length&&g.uniform3fv(y,f):g.uniform3f(y,f[0],f[1],f[2]);break;case g.FLOAT_VEC4:1<u.size?f.length&&g.uniform4fv(y,f):g.uniform4f(y,f[0],f[1],f[2],f[3]);break;case g.INT_VEC2:1<u.size?f.length&&g.uniform2iv(y,f):g.uniform2i(y,f[0],f[1]);break;case g.INT_VEC3:1<u.size?f.length&&g.uniform3iv(y,f):g.uniform3i(y,f[0],f[1],f[2]);break;case g.INT_VEC4:1<u.size?f.length&&g.uniform4iv(y,f):g.uniform4i(y,f[0],f[1],f[2],f[3]);break;case g.SAMPLER_2D:if(typeof f=="number"){if(f<g.TEXTURE0||f>g.TEXTURE31||f!==Math.ceil(f))return console.log("🌸 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;g.activeTexture(f),g.uniform1i(y,f)}else g.activeTexture(g.TEXTURE0+u.samplerIndex),u.texture=f instanceof a.default.Texture?f:this._renderer.getTexture(f),g.uniform1i(y,u.samplerIndex),u.texture.src.gifProperties&&u.texture.src._animateGif(this._renderer._pInst);break;case g.SAMPLER_CUBE:case g.SAMPLER_3D:case g.SAMPLER_2D_SHADOW:case g.SAMPLER_2D_ARRAY:case g.SAMPLER_2D_ARRAY_SHADOW:case g.SAMPLER_CUBE_SHADOW:case g.INT_SAMPLER_2D:case g.INT_SAMPLER_3D:case g.INT_SAMPLER_CUBE:case g.INT_SAMPLER_2D_ARRAY:case g.UNSIGNED_INT_SAMPLER_2D:case g.UNSIGNED_INT_SAMPLER_3D:case g.UNSIGNED_INT_SAMPLER_CUBE:case g.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof f=="number"&&(f<g.TEXTURE0||f>g.TEXTURE31||f!==Math.ceil(f)?console.log("🌸 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(g.activeTexture(f),g.uniform1i(y,f)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(i){return i!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(i,f,u,g,y,d){var l;return i&&(i=i.location)!==-1&&(l=this._renderer.GL,this._renderer.registerEnabled.has(i)||(l.enableVertexAttribArray(i),this._renderer.registerEnabled.add(i)),this._renderer.GL.vertexAttribPointer(i,f,u||l.FLOAT,g||!1,y||0,d||0)),this}},{key:"disableRemainingAttributes",value:function(){var i=this,f=!0,u=!1,g=void 0;try{for(var y,d=this._renderer.registerEnabled.values()[Symbol.iterator]();!(f=(y=d.next()).done);f=!0)(function(){var l=y.value;Object.keys(i.attributes).some(function(w){return i.attributes[w].location===l})||(i._renderer.GL.disableVertexAttribArray(l),i._renderer.registerEnabled.delete(l))})()}catch(l){u=!0,g=l}finally{try{f||d.return==null||d.return()}finally{if(u)throw g}}}}])&&s(b.prototype,v),p}(),t=a.default.Shader,c.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,m,c){function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(w)}function h(w){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(x){return a(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":a(x)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(c,"__esModule",{value:!0}),c.checkWebGLCapabilities=l,c.default=c.MipmapTexture=void 0;var s=(d=t("../core/main"))&&d.__esModule?d:{default:d},p=function(w){if(w&&w.__esModule)return w;if(w===null||h(w)!=="object"&&typeof w!="function")return{default:w};var x=b();if(x&&x.has(w))return x.get(w);var _,T={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in w){var S;Object.prototype.hasOwnProperty.call(w,_)&&((S=E?Object.getOwnPropertyDescriptor(w,_):null)&&(S.get||S.set)?Object.defineProperty(T,_,S):T[_]=w[_])}return T.default=w,x&&x.set(w,T),T}(t("../core/constants"));function b(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,b=function(){return w},w)}function v(w,x){return(v=Object.setPrototypeOf||function(_,T){return _.__proto__=T,_})(w,x)}function i(w){return function(){var x,_=f(w),_=(x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=f(this).constructor,Reflect.construct(_,arguments,x)):_.apply(this,arguments),this);if(!x||h(x)!=="object"&&typeof x!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return x}}function f(w){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(w)}function u(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function g(w,x){for(var _=0;_<x.length;_++){var T=x[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}function y(w,x,_){x&&g(w.prototype,x)}s.default.Texture=function(){function w(P,_,S){u(this,w),this._renderer=P;var E=this._renderer.GL,S=(S=S||{},this.src=_,this.glTex=void 0,this.glTarget=E.TEXTURE_2D,this.glFormat=S.format||E.RGBA,this.mipmaps=!1,this.glMinFilter=S.minFilter||E.LINEAR,this.glMagFilter=S.magFilter||E.LINEAR,this.glWrapS=S.wrapS||E.CLAMP_TO_EDGE,this.glWrapT=S.wrapT||E.CLAMP_TO_EDGE,this.glDataType=S.dataType||E.UNSIGNED_BYTE,l(P)),P=(this.glFormat!==E.HALF_FLOAT||S.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=E.FLOAT),this.glFormat!==E.HALF_FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||S.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.glFormat!==E.FLOAT||S.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=E.UNSIGNED_BYTE),this.glFormat!==E.FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||S.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.isSrcMediaElement=s.default.MediaElement!==void 0&&_ instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&_ instanceof s.default.Element&&!(_ instanceof s.default.Graphics)&&!(_ instanceof s.default.Renderer),this.isSrcP5Image=_ instanceof s.default.Image,this.isSrcP5Graphics=_ instanceof s.default.Graphics,this.isSrcP5Renderer=_ instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&_ instanceof ImageData,this.isFramebufferTexture=_ instanceof s.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=P.width,this.height=P.height,this.init(P),this}return y(w,[{key:"_getTextureDataFromSource",value:function(){var x;return this.isFramebufferTexture?x=this.src.rawTexture():this.isSrcP5Image?x=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),x=this.src.canvas||this.src.elt):this.isImageData&&(x=this.src),x}},{key:"init",value:function(x){var _,T=this._renderer.GL;this.isFramebufferTexture||(this.glTex=T.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,this.glMagFilter),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(_=new Uint8Array([1,1,1,1]),T.texImage2D(this.glTarget,0,T.RGBA,1,1,0,this.glFormat,this.glDataType,_)):T.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,x))}},{key:"update",value:function(){var x,_,T,E=this.src;return E.width!==0&&E.height!==0&&!this.isFramebufferTexture&&(x=this._getTextureDataFromSource(),_=!1,T=this._renderer.GL,x.width!==this.width||x.height!==this.height?(_=!0,this.width=x.width||E.width,this.height=x.height||E.height,this.isSrcP5Image?E.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&E.setModified(!0)):this.isSrcP5Image?E.isModified()&&E.setModified(!(_=!0)):this.isSrcMediaElement?E.isModified()?E.setModified(!(_=!0)):E.loadedmetadata&&this._videoPrevUpdateTime!==E.time()&&(this._videoPrevUpdateTime=E.time(),_=!0):this.isImageData?E._dirty&&(_=!(E._dirty=!1)):_=!0,_&&(this.bindTexture(),T.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,x)),_)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(x,_){var T=this._renderer.GL;this.glMinFilter=this.glFilter(x),this.glMagFilter=this.glFilter(_),this.bindTexture(),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,this.glMinFilter),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(x){var _=this._renderer.GL;return x===p.NEAREST?_.NEAREST:_.LINEAR}},{key:"setWrapMode",value:function(x,_){function T(N){return(N&N-1)==0}var E=this._renderer.GL,P=this._getTextureDataFromSource(),P=P.naturalWidth&&P.naturalHeight?(S=P.naturalWidth,P.naturalHeight):(S=this.width,this.height),S=T(S),P=T(P);x===p.REPEAT?this._renderer.webglVersion===p.WEBGL2||S&&P?this.glWrapS=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):x===p.MIRROR?this._renderer.webglVersion===p.WEBGL2||S&&P?this.glWrapS=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):this.glWrapS=E.CLAMP_TO_EDGE,_===p.REPEAT?this._renderer.webglVersion===p.WEBGL2||S&&P?this.glWrapT=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):_===p.MIRROR?this._renderer.webglVersion===p.WEBGL2||S&&P?this.glWrapT=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):this.glWrapT=E.CLAMP_TO_EDGE,this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,this.glWrapS),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),w}();var d=function(w){var x=T;if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),w&&v(x,w);var _=i(T);function T(E,S,P){return u(this,T),S=(E=_.call(this,E,S,P))._renderer.GL,E.glMinFilter===S.LINEAR&&(E.glMinFilter=S.LINEAR_MIPMAP_LINEAR),E}return y(T,[{key:"glFilter",value:function(E){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(E){var S=this._renderer.GL;this.glTex=S.createTexture(),this.bindTexture();for(var P=0;P<E.length;P++)S.texImage2D(this.glTarget,P,this.glFormat,this.glFormat,this.glDataType,E[P]);this.glMinFilter=S.LINEAR_MIPMAP_LINEAR,S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,this.glMagFilter),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),T}(s.default.Texture);function l(E){var x=E.GL,E=E.webglVersion,_=E===p.WEBGL2?x.getExtension("EXT_color_buffer_float")&&x.getExtension("EXT_float_blend"):x.getExtension("OES_texture_float"),T=_&&x.getExtension("OES_texture_float_linear"),E=E===p.WEBGL2?x.getExtension("EXT_color_buffer_float"):x.getExtension("OES_texture_half_float");return{float:_,floatLinear:T,halfFloat:E,halfFloatLinear:E&&x.getExtension("OES_texture_half_float_linear")}}c.MipmapTexture=d,t=s.default.Texture,c.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,m,c){function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(w)}function h(w){return(h=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(x){return a(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":a(x)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var s,p=(s=t("../core/main"))&&s.__esModule?s:{default:s},b=function(w){if(w&&w.__esModule)return w;if(w===null||h(w)!=="object"&&typeof w!="function")return{default:w};var x=v();if(x&&x.has(w))return x.get(w);var _,T={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in w){var S;Object.prototype.hasOwnProperty.call(w,_)&&((S=E?Object.getOwnPropertyDescriptor(w,_):null)&&(S.get||S.set)?Object.defineProperty(T,_,S):T[_]=w[_])}return T.default=w,x&&x.set(w,T),T}(t("../core/constants"));function v(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,v=function(){return w},w)}function i(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function f(w,x){for(var _=0;_<x.length;_++){var T=x[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}function u(w,x,_){x&&f(w.prototype,x)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),p.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},p.default.RendererGL.prototype.textWidth=function(w){return this._isOpenType()?this._textFont._textWidth(w,this._textSize):0};var g=function(){function w(x,_){i(this,w),this.width=x,this.height=_,this.infos=[]}return u(w,[{key:"findImage",value:function(x){var _,T,E=this.width*this.height;if(E<x)throw new Error("font is too complex to render in 3D");for(var S=this.infos.length-1;0<=S;--S){var P=this.infos[S];if(P.index+x<E){T=(_=P).imageData;break}}if(!_){try{T=new ImageData(this.width,this.height)}catch{var N=document.getElementsByTagName("canvas")[0],C=!N,I=(N||((N=document.createElement("canvas")).style.display="none",document.body.appendChild(N)),N.getContext("2d"));I&&(T=I.createImageData(this.width,this.height)),C&&document.body.removeChild(N)}this.infos.push(_={index:0,imageData:T})}return I=_.index,_.index+=x,T._dirty=!0,{imageData:T,index:I}}}]),w}();function y(P,x,_,T,E){var S=P.imageData.data,P=4*P.index++;S[P++]=x,S[P++]=_,S[P++]=T,S[+P]=E}var d=Math.sqrt(3),l=function(){function w(x){i(this,w),this.font=x,this.strokeImageInfos=new g(64,64),this.colDimImageInfos=new g(64,64),this.rowDimImageInfos=new g(64,64),this.colCellImageInfos=new g(64,64),this.rowCellImageInfos=new g(64,64),this.glyphInfos={}}return u(w,[{key:"getGlyphInfo",value:function(x){var _=this.glyphInfos[x.index];if(!_){var T=x.getBoundingBox(),E=T.x1,S=T.y1,P=T.x2-E,N=T.y2-S,C=x.path.commands;if(P==0||N==0||!C.length)return this.glyphInfos[x.index]={};for(var I=[],L=[],F=[],D=8;0<=D;--D)F.push([]);for(D=8;0<=D;--D)L.push([]);var B,$,V,H,X=function(){function $e(We,Ke,Ye,_e){i(this,$e),this.p0=We,this.c0=Ke,this.c1=Ye,this.p1=_e}return u($e,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return p.default.Vector.sub(p.default.Vector.sub(this.p1,this.p0),p.default.Vector.mult(p.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Re){var Ke=p.default.Vector.lerp(this.p0,this.c0,Re),_e=p.default.Vector.lerp(this.c0,this.c1,Re),Ye=p.default.Vector.lerp(Ke,_e,Re),_e=(this.c1=p.default.Vector.lerp(this.c1,this.p1,Re),this.c0=p.default.Vector.lerp(_e,this.c1,Re),p.default.Vector.lerp(Ye,this.c0,Re)),Re=new $e(this.p0,Ke,Ye,_e);return this.p0=_e,Re}},{key:"splitInflections",value:function(){var We=p.default.Vector.sub(this.c0,this.p0),Ke=p.default.Vector.sub(p.default.Vector.sub(this.c1,this.c0),We),Ye=p.default.Vector.sub(p.default.Vector.sub(p.default.Vector.sub(this.p1,this.c1),We),p.default.Vector.mult(Ke,2)),_e=[],Re=Ke.x*Ye.y-Ke.y*Ye.x;return Re!==0&&0<=(We=(Ye=We.x*Ye.y-We.y*Ye.x)*Ye-4*Re*(We.x*Ke.y-We.y*Ke.x))&&(Re<0&&(Re=-Re,Ye=-Ye),We=(-Ye+(Ke=Math.sqrt(We)))/(2*Re),0<(Ye=(-Ye-Ke)/(2*Re))&&Ye<1&&(_e.push(this.split(Ye)),We=1-(1-We)/(1-Ye)),0<We&&We<1&&_e.push(this.split(We))),_e.push(this),_e}}]),$e}(),Q=!0,se=!1,M=void 0;try{for(var R,z=C[Symbol.iterator]();!(Q=(R=z.next()).done);Q=!0){var q=R.value,Z=(q.x-E)/P,te=(q.y-S)/N;if(!Te(B,$,Z,te)){switch(q.type){case"M":V=Z,H=te;break;case"L":De(B,$,Z,te);break;case"Q":var ie=(q.x1-E)/P,he=(q.y1-S)/N;ve([B,Z,ie],[$,te,he],{x:B,y:$,cx:ie,cy:he});break;case"Z":Te(B,$,V,H)?I.push({x:B,y:$}):(De(B,$,V,H),I.push({x:V,y:H}));break;case"C":for(var oe=function(ne,ke,Le,Ye,_e,Re,Ee,J){var ne=new X(new p.default.Vector(ne,ke),new p.default.Vector(Le,Ye),new p.default.Vector(_e,Re),new p.default.Vector(Ee,J)).splitInflections(),K=[],ae=30/d,be=!0,ke=!1,Le=void 0;try{for(var ze,Ve=ne[Symbol.iterator]();!(be=(ze=Ve.next()).done);be=!0){for(var qe=ze.value,Qe=[],ct=void 0;!(.125<=(ct=ae/qe.quadError()));){var lt=Math.pow(ct,.3333333333333333),rt=qe.split(lt),Fe=qe.split(1-lt/(1-lt));K.push(rt),Qe.push(qe),qe=Fe}ct<1&&K.push(qe.split(.5)),K.push(qe),Array.prototype.push.apply(K,Qe.reverse())}}catch(Xe){ke=!0,Le=Xe}finally{try{be||Ve.return==null||Ve.return()}finally{if(ke)throw Le}}return K}(B,$,(q.x1-E)/P,(q.y1-S)/N,(q.x2-E)/P,(q.y2-S)/N,Z,te),fe=0;fe<oe.length;fe++){var ce=oe[fe].toQuadratic();ve([ce.x,ce.x1,ce.cx],[ce.y,ce.y1,ce.cy],ce)}break;default:throw new Error("unknown command type: ".concat(q.type))}B=Z,$=te}}}catch($e){se=!0,M=$e}finally{try{Q||z.return==null||z.return()}finally{if(se)throw M}}for(var ee=I.length,de=this.strokeImageInfos.findImage(ee),ye=de.index,we=0;we<ee;++we){var ge=I[we];y(de,je(ge.x),je(ge.y),je(ge.cx),je(ge.cy))}(_=this.glyphInfos[x.index]={glyph:x,uGlyphRect:[T.x1,-T.y1,T.x2,-T.y2],strokeImageInfo:de,strokes:I,colInfo:tt(F,this.colDimImageInfos,this.colCellImageInfos),rowInfo:tt(L,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[_.colInfo.dimOffset,_.rowInfo.dimOffset]}return _;function ve($e,We,Ke){var Ye=I.length;function _e(K,ae,be){for(var ke=K.length;0<ke--;){var Le=K[ke];Le<ae&&(ae=Le),be<Le&&(be=Le)}return{min:ae,max:be}}I.push(Ke);for(var Ke=_e($e,1,0),$e=Math.max(Math.floor(9*Ke.min-.5),0),Re=Math.min(Math.ceil(9*Ke.max+.5),9),Ee=$e;Ee<Re;++Ee)F[Ee].push(Ye);for(var Ke=_e(We,1,0),$e=Math.max(Math.floor(9*Ke.min-.5),0),J=Math.min(Math.ceil(9*Ke.max+.5),9),ne=$e;ne<J;++ne)L[ne].push(Ye)}function je($e){return($e=(Ke=255)*$e)<(We=0)?We:Ke<$e?Ke:$e;var We,Ke}function De($e,We,Ke,Ye){ve([$e,Ke],[We,Ye],{x:$e,y:We,cx:($e+Ke)/2,cy:(We+Ye)/2})}function Te($e,We,Ke,Ye){return Math.abs(Ke-$e)<1e-5&&Math.abs(Ye-We)<1e-5}function tt($e,We,Ke){for(var Ye=$e.length,_e=We.findImage(Ye),We=_e.index,Re=0,Ee=0;Ee<Ye;++Ee)Re+=$e[Ee].length;for(var J=Ke.findImage(Re),ne=0;ne<Ye;++ne){var K=$e[ne],ae=K.length,be=J.index;y(_e,be>>7,127&be,ae>>7,127&ae);for(var ke=0;ke<ae;++ke){var Le=K[ke]+ye;y(J,Le>>7,127&Le,0,0)}}return{cellImageInfo:J,dimOffset:We,dimImageInfo:_e}}}}]),w}();p.default.RendererGL.prototype._renderText=function(w,x,_,T,E){if(this._textFont&&typeof this._textFont!="string"){if(!(E<=T)&&this._doFill){if(this._isOpenType()){w.push();var E=this._doStroke,S=this.drawMode,P=(this._doStroke=!1,this.drawMode=b.TEXTURE,this._textFont.font),N=(N=this._textFont._fontInfo)||(this._textFont._fontInfo=new l(P)),_=this._textFont._handleAlignment(this,x,_,T),T=this._textSize/P.unitsPerEm,C=(this.translate(_.x,_.y,0),this.scale(T,T,1),this.GL),_=!this._defaultFontShader,I=this._getFontShader(),L=(I.init(),I.bindShader(),_&&(I.setUniform("uGridImageSize",[64,64]),I.setUniform("uCellsImageSize",[64,64]),I.setUniform("uStrokeImageSize",[64,64]),I.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),F=(L||((T=this._textGeom=new p.default.Geometry(1,1,function(){for(var fe=0;fe<=1;fe++)for(var ce=0;ce<=1;ce++)this.vertices.push(new p.default.Vector(ce,fe,0)),this.uvs.push(ce,fe)})).computeFaces().computeNormals(),L=this.createBuffers("glyph",T)),!0),_=!1,T=void 0;try{for(var D,B=this.retainedMode.buffers.text[Symbol.iterator]();!(F=(D=B.next()).done);F=!0)D.value._prepareBuffer(L,I)}catch(fe){_=!0,T=fe}finally{try{F||B.return==null||B.return()}finally{if(_)throw T}}this._bindBuffer(L.indexBuffer,C.ELEMENT_ARRAY_BUFFER),I.setUniform("uMaterialColor",this.curFillColor),C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var $=0,V=null,H=P.stringToGlyphs(x),X=!0,Q=!1,se=void 0;try{for(var M,R=H[Symbol.iterator]();!(X=(M=R.next()).done);X=!0){var z,q,Z=M.value,te=(V&&($+=P.getKerningValue(V,Z)),N.getGlyphInfo(Z));te.uGlyphRect&&(z=te.rowInfo,q=te.colInfo,I.setUniform("uSamplerStrokes",te.strokeImageInfo.imageData),I.setUniform("uSamplerRowStrokes",z.cellImageInfo.imageData),I.setUniform("uSamplerRows",z.dimImageInfo.imageData),I.setUniform("uSamplerColStrokes",q.cellImageInfo.imageData),I.setUniform("uSamplerCols",q.dimImageInfo.imageData),I.setUniform("uGridOffset",te.uGridOffset),I.setUniform("uGlyphRect",te.uGlyphRect),I.setUniform("uGlyphOffset",$),I.bindTextures(),C.drawElements(C.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),$+=Z.advanceWidth,V=Z}}catch(fe){Q=!0,se=fe}finally{try{X||R.return==null||R.return()}finally{if(Q)throw se}}}finally{I.unbindShader(),this._doStroke=E,this.drawMode=S,C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),w.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return w}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})})(ov);var N_=ov.exports;const A_=dd(N_),R_=(r,n,o)=>{let t=!1;for(let m=0,c=r.length-1;m<r.length;c=m,m+=1){const a=r[m][0],h=r[m][1],s=r[c][0],p=r[c][1];h>o!=p>o&&n<(s-a)*(o-h)/(p-h+Number.EPSILON)+a&&(t=!t)}return t},Hp=(r,n,o)=>{var t;return!r||!((t=r.polygons)!=null&&t.length)?!1:r.polygons.some(m=>R_(m.points,n,o))},I_=({config:r,className:n})=>{const o=Ne.useRef(null),t=Ne.useRef(null),[m,c]=Ne.useState(!0),a=Ne.useMemo(()=>[...r.elements].sort((h,s)=>(h.zIndex??r.elements.length)-(s.zIndex??r.elements.length)),[r.elements]);return Ne.useEffect(()=>{let h=!0;const s=o.current;if(!s)return;let p=r.baseWidth,b=r.baseHeight;c(!0);const v=u=>{let g=null;const y=a.map(_=>({config:_,baseImage:null,hoverImage:null,hitbox:null,hovered:!1})),d=()=>{if(!o.current)return;const _=Math.max(o.current.clientWidth,1),T=r.baseHeight/r.baseWidth;p=_,b=_*T,u.resizeCanvas(p,b)},l=(_,T)=>{const E=_/p*r.baseWidth,S=T/b*r.baseHeight;return{x:E,y:S}},w=(_,T)=>{let E=!1;const S=new Set;y.forEach(P=>{!!(P.hitbox&&Hp(P.hitbox,_,T))&&S.add(P.config.id)}),y.forEach(P=>{var C,I;const N=S.has(P.config.id);P.hovered!==N&&(P.hovered=N,E=!0,(I=(C=P.config).onHoverChange)==null||I.call(C,N))}),E&&u.redraw()},x=(_,T)=>{var S,P;const E=y.filter(N=>N.hitbox&&Hp(N.hitbox,_,T)).sort((N,C)=>(C.config.zIndex??0)-(N.config.zIndex??0));E.length&&((P=(S=E[0].config).onClick)==null||P.call(S))};u.preload=()=>{g=u.loadImage(r.backgroundImage),y.forEach(_=>{_.baseImage=u.loadImage(_.config.image),_.config.selectedImage&&(_.hoverImage=u.loadImage(_.config.selectedImage)),_.config.hitboxPath&&(_.hitbox=u.loadJSON(_.config.hitboxPath))})},u.setup=()=>{u.createCanvas(r.baseWidth,r.baseHeight),u.noStroke(),u.noLoop(),d(),h&&c(!1)},u.draw=()=>{u.clear(),g?u.image(g,0,0,p,b):u.background(0),y.forEach(_=>{const{layout:T}=_.config,E=T.x/r.baseWidth*p,S=T.y/r.baseHeight*b,P=T.width/r.baseWidth*p,N=T.height/r.baseHeight*b;_.baseImage&&u.image(_.baseImage,E,S,P,N),_.hovered&&_.hoverImage&&u.image(_.hoverImage,E,S,P,N)})},u.mouseMoved=()=>{const{x:_,y:T}=l(u.mouseX,u.mouseY);w(_,T)},u.mousePressed=()=>{const{x:_,y:T}=l(u.mouseX,u.mouseY);x(_,T)},u.windowResized=()=>{d(),u.redraw()}},i=new A_(v,s);t.current=i;const f=new ResizeObserver(()=>{var u;(u=i.windowResized)==null||u.call(i)});return f.observe(s),()=>{h=!1,f.disconnect(),i.remove(),t.current=null}},[r.backgroundImage,r.baseHeight,r.baseWidth,a]),G.jsx("div",{className:n,children:G.jsx("div",{ref:o,className:"relative",children:m&&G.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 backdrop-blur-sm pointer-events-none",children:G.jsx("div",{className:"h-10 w-10 border-4 border-white/50 border-t-transparent rounded-full animate-spin"})})})})},sv=Ne.memo(I_),av={white:"#e5e5e5",black:"#1f2937",red:"#ef4444",orange:"#f97316",yellow:"#facc15",purple:"#a855f7",blue:"#3b82f6",lightBlue:"#22d3ee",brown:"#92400e",lime:"#84cc16",green:"#059669",neutral:"#9ca3af"},iv=r=>{const n=r.trim();return n.startsWith("#")?n.length===4?`#${n[1]}${n[1]}${n[2]}${n[2]}${n[3]}${n[3]}`.toLowerCase():n.toLowerCase():iv(`#${n}`)},bf=r=>{const n=iv(r).replace("#",""),o=parseInt(n.slice(0,2),16),t=parseInt(n.slice(2,4),16),m=parseInt(n.slice(4,6),16);return{r:o,g:t,b:m}},Lr=(r,n)=>{const{r:o,g:t,b:m}=bf(r),c=n>=0?255:0,a=Math.min(Math.abs(n),1),h=b=>Math.round(b+(c-b)*a),s=n>=0?{r:h(o),g:h(t),b:h(m)}:{r:Math.round(o*(1-a)),g:Math.round(t*(1-a)),b:Math.round(m*(1-a))},p=b=>b.toString(16).padStart(2,"0");return`#${p(s.r)}${p(s.g)}${p(s.b)}`},D_=r=>{const{r:n,g:o,b:t}=bf(r),m=s=>{const p=s/255;return p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4)},c=m(n),a=m(o),h=m(t);return .2126*c+.7152*a+.0722*h},ad=r=>D_(r)>.5?"#0f172a":"#f8fafc",F_=(r,n)=>{const{r:o,g:t,b:m}=bf(r);return`rgba(${o}, ${t}, ${m}, ${n})`},lv=(r,{hovered:n=!1,backgroundShift:o,borderShift:t=-.35,includeShadow:m,shadowOpacity:c=.32}={})=>{const a=av[r],h=o??(n?.12:.04),s=m??n,p=Lr(a,h),b=ad(p),v=Lr(a,t),i={backgroundColor:p,color:b,borderColor:v};return s&&(i.boxShadow=`0 10px 22px ${F_(a,c)}`),b==="#f8fafc"&&(i.textShadow="0 2px 6px rgba(0, 0, 0, 0.35)"),i},U_={white:"Bianca",black:"Nera",red:"Rossa",orange:"Arancione",yellow:"Gialla",purple:"Viola",blue:"Blu",lightBlue:"Azzurra",brown:"Marrone",lime:"Lime",green:"Verde",neutral:"Neutra"},B_=({doorsOpened:r,turn:n,blockedDoors:o})=>G.jsxs("aside",{className:"w-60 rounded-lg bg-black/50 p-3 text-xs text-white backdrop-blur-sm shadow-lg",children:[G.jsxs("div",{className:"flex items-baseline justify-between gap-3 pb-1 border-b border-white/10",children:[G.jsx("span",{className:"font-semibold uppercase tracking-wider text-[11px]",children:"Progressi"}),G.jsxs("span",{className:"text-[11px] text-white/70",children:["Turno ",n]})]}),G.jsxs("dl",{className:"mt-2 space-y-2",children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsx("dt",{className:"text-[11px]",children:"Porte aperte"}),G.jsx("dd",{className:"font-semibold text-[#a67c52]",children:r})]}),G.jsxs("div",{children:[G.jsx("dt",{className:"uppercase text-[10px] text-white/50",children:"In contrasto con le tue scelte:"}),o.length===0?G.jsx("p",{className:"text-[11px] text-white/60",children:"Nessuna porta in contrasto."}):G.jsx("ul",{className:"mt-1 space-y-1",children:o.map(t=>G.jsxs("li",{className:"flex items-center justify-between rounded border px-2 py-1 text-[10px] uppercase tracking-[0.25em] transition-all duration-200 hover:-translate-y-0.5 hover:shadow-lg hover:brightness-105",style:lv(t.type,{backgroundShift:.18,borderShift:-.4,includeShadow:!1}),children:[G.jsx("span",{children:U_[t.type]}),G.jsxs("span",{children:[t.turnsLeft," turni"]})]},`${t.type}-${t.turnsLeft}`))})]})]}),G.jsx(Wr,{to:"/door-types",className:"mt-3 inline-flex items-center justify-center rounded-full border border-white/20 px-3 py-1 text-[10px] uppercase tracking-[0.3em] text-white/60 transition hover:border-[#a67c52] hover:text-[#a67c52]",children:"Tipologia porte"})]});function uv(r){var n,o,t="";if(typeof r=="string"||typeof r=="number")t+=r;else if(typeof r=="object")if(Array.isArray(r)){var m=r.length;for(n=0;n<m;n++)r[n]&&(o=uv(r[n]))&&(t&&(t+=" "),t+=o)}else for(o in r)r[o]&&(t&&(t+=" "),t+=o);return t}function En(){for(var r,n,o=0,t="",m=arguments.length;o<m;o++)(r=arguments[o])&&(n=uv(r))&&(t&&(t+=" "),t+=n);return t}const Ls={white:"Porta Bianca",black:"Porta Nera",red:"Porta Rossa",orange:"Porta Arancione",yellow:"Porta Gialla",purple:"Porta Viola",blue:"Porta Blu",lightBlue:"Porta Azzurra",brown:"Porta Marrone",lime:"Porta Lime",green:"Porta Verde",neutral:"Porta Neutra"},z_=()=>Mr(r=>{var n;return((n=r.save)==null?void 0:n.progress.lastLobbyDraw)??[]}),$n=1785,Yn=1004,Wu={porta1:0,porta2:1,porta3:2},qu=[{id:"casa",label:"Casa",hitboxPath:"/assets/lobby/pulsanti/casa.json",image:"/assets/lobby/pulsanti/casa.png",selectedImage:"/assets/lobby/pulsanti/casa_selected.png",layout:{x:0,y:0,width:$n,height:Yn},labelPosition:{x:155,y:240},zIndex:10,route:"/house"},{id:"baule",label:"Baule",hitboxPath:"/assets/lobby/pulsanti/baule.json",image:"/assets/lobby/pulsanti/baule.png",selectedImage:"/assets/lobby/pulsanti/baule_selected.png",layout:{x:0,y:0,width:$n,height:Yn},labelPosition:{x:1700,y:680},zIndex:12,route:"/chest"},{id:"zaino",label:"Zaino",hitboxPath:"/assets/lobby/pulsanti/zaino.json",image:"/assets/lobby/pulsanti/zaino.png",selectedImage:"/assets/lobby/pulsanti/zaino_selected.png",layout:{x:0,y:0,width:$n,height:Yn},labelPosition:{x:760,y:735},zIndex:14,route:"/inventory"},{id:"porta1",label:"Porta 1",hitboxPath:"/assets/lobby/pulsanti/porta1.json",image:"/assets/lobby/pulsanti/porta1.png",selectedImage:"/assets/lobby/pulsanti/porta1.png",layout:{x:0,y:0,width:$n,height:Yn},labelPosition:{x:535,y:365},zIndex:20,isDoor:!0},{id:"porta2",label:"Porta 2",hitboxPath:"/assets/lobby/pulsanti/porta2.json",image:"/assets/lobby/pulsanti/porta2.png",selectedImage:"/assets/lobby/pulsanti/porta2.png",layout:{x:0,y:0,width:$n,height:Yn},labelPosition:{x:986.5,y:365},zIndex:22,isDoor:!0},{id:"porta3",label:"Porta 3",hitboxPath:"/assets/lobby/pulsanti/porta3.json",image:"/assets/lobby/pulsanti/porta3.png",selectedImage:"/assets/lobby/pulsanti/porta3.png",layout:{x:0,y:0,width:$n,height:Yn},labelPosition:{x:1428.5,y:365},zIndex:24,isDoor:!0}],G_={porta1:{x:392,y:275,width:285,height:520},porta2:{x:844,y:275,width:285,height:520},porta3:{x:1286,y:275,width:285,height:520}},Wp={white:"bianco",black:"nero",red:"rosso",orange:"arancione",yellow:"giallo",purple:"magenta",blue:"blu",lightBlue:"azzurro",brown:"marrone",lime:"lime",green:"verde",neutral:null},qp=(r,n)=>`${r/n*100}%`,V_=r=>r==="neutral"?"/assets/porte/porta_base.png":`/assets/porte/${Wp[r]}/porta_${Wp[r]}_base.png`,H_=()=>{const r=Fs(),n=Mr(u=>u.save),o=Mr(u=>u.drawLobbyDoors),t=Mr(u=>u.openDoor),m=z_(),[c,a]=Ne.useState({casa:!1,baule:!1,zaino:!1,porta1:!1,porta2:!1,porta3:!1});Ne.useEffect(()=>{n&&(n.progress.lastLobbyDraw.length||o())},[n,o]);const h=Ne.useRef(m);h.current=m;const s=Ne.useRef(t);s.current=t;const p=Ne.useRef(r);p.current=r;const b=Ne.useCallback((u,g)=>{a(y=>({...y,[u]:g}))},[]),v=Ne.useMemo(()=>qu.reduce((u,g)=>(u[g.id]={onClick:()=>{if(g.route)return p.current(g.route);if(g.isDoor){const y=Wu[g.id],d=h.current[y];if(d){const l=typeof d=="string"?d:d.type;s.current(l),p.current("/door")}}},onHoverChange:y=>b(g.id,y)},u),{}),[b]),i=Ne.useMemo(()=>{const u=new Map;return n==null||n.progress.blockedDoors.forEach(g=>u.set(g.type,g.turnsLeft)),u},[n]),f=Ne.useMemo(()=>{const u=[];return qu.forEach(g=>{if(u.push({id:g.id,image:g.image,selectedImage:g.selectedImage,hitboxPath:g.hitboxPath,layout:g.layout,zIndex:g.zIndex,onClick:v[g.id].onClick,onHoverChange:v[g.id].onHoverChange}),g.isDoor){const y=g.id,d=Wu[y],l=m[d];if(l){const w=typeof l=="string"?l:l.type,x=V_(w);if(x){const _=G_[y];u.push({id:`${g.id}-texture`,image:x,layout:_,zIndex:g.zIndex+20})}}}}),{baseWidth:$n,baseHeight:Yn,backgroundImage:"/assets/lobby/sfondo_lobby.png",elements:u}},[m,v]);return G.jsxs("div",{className:"relative min-h-screen flex flex-col bg-[#080910] text-white",children:[G.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 z-50",children:G.jsx("div",{className:"group/header relative h-8 w-full pointer-events-auto",children:G.jsxs("div",{className:`absolute inset-x-0 top-0 flex items-center justify-between px-6 py-3 bg-[#0b3a6f]/90 text-whit border-b border-white/10 backdrop-blur transition-all duration-300 ease-out  opacity-0 -translate-y-full  group-hover/header:opacity-100 group-hover/header:translate-y-0  pointer-events-auto
          `,children:[G.jsx("span",{className:"text-xs uppercase tracking-[0.4em]",children:"Lobby"}),G.jsx("button",{type:"button",onClick:()=>r("/"),className:"rounded-full border border-white/30 px-4 py-1 text-xs uppercase tracking-widest transition hover:border-[#a67c52] hover:text-[#a67c52]",children:"Esci"})]})})}),G.jsxs("main",{className:"relative flex-1",children:[G.jsx(sv,{config:f,className:"absolute inset-0 w-full h-full"}),G.jsx("div",{className:"pointer-events-none absolute inset-0",children:qu.map(u=>{const g=c[u.id];let y=null,d;if(u.isDoor){const _=u.id,T=m[Wu[_]];T&&(y=typeof T=="string"?T:T.type,d=i.get(y))}const l=["rounded-full border px-3 py-1 uppercase tracking-[0.35em] transition-all duration-200",u.isDoor?"text-xs":"text-[11px]"],w=u.isDoor&&y?lv(y,{hovered:g}):void 0,x=u.isDoor?`${l.join(" ")} ${g?"shadow-lg":"shadow-sm"}`:`${l.join(" ")} ${g?"border-[#a67c52] bg-black/70 text-[#a67c52]":"border-white/30 bg-black/60 text-white"}`;return G.jsxs("div",{className:u.isDoor?"absolute flex flex-col items-center gap-2":"absolute -translate-x-1/2 -translate-y-full -mt-2",style:{left:qp(u.labelPosition.x,$n),top:qp(u.labelPosition.y,Yn),...u.isDoor?{transform:"translate(-50%, 0)"}:{}},children:[G.jsx("span",{className:x,style:w,children:u.isDoor&&y?Ls[y]:u.label}),typeof d=="number"&&d>0?G.jsxs("span",{className:"rounded-full bg-red-600/80 px-3 py-1 text-[10px] uppercase tracking-[0.3em] text-white",children:["Bloccata (",d,")"]}):null]},`label-${u.id}`)})}),n?G.jsx("div",{className:"absolute right-[5%] top-[5%] z-50 w-64",children:G.jsx(B_,{doorsOpened:n.progress.doorsOpened,turn:n.progress.turn,blockedDoors:n.progress.blockedDoors})}):null]})]})},W_=r=>`/assets/armi/${`${encodeURIComponent(r.toLowerCase())}.png`}`,q_=({open:r,locked:n,weapons:o,weaponConfigs:t,ammoInventory:m,onClose:c,onConfirm:a})=>{const[h,s]=Ne.useState(null),[p,b]=Ne.useState(1),v=Ne.useMemo(()=>o.filter(u=>u.unlocked).map(u=>{const g=t.find(l=>l.name===u.name),y=hs(u.name),d=m[y]??0;return{weapon:u,config:g,ammoKind:y,ammoAvailable:d}}).filter(u=>u.config),[o,t,m]),i=u=>{const g=hs(u),y=m[g]??0;s(u),b(Math.max(1,Math.min(p,Math.max(1,y))))},f=()=>{h&&(n||(a(h,p),s(null),b(1),c()))};return r?G.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/70 p-6",children:G.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-background/95 p-6 shadow-2xl",children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsx("h2",{className:"text-2xl font-display uppercase tracking-widest",children:"Armi"}),G.jsx("button",{type:"button",onClick:()=>{s(null),c()},className:"rounded border border-white/20 px-3 py-1 text-sm uppercase tracking-wide text-white/80 hover:bg-white/10",children:"Indietro"})]}),n?G.jsx("p",{className:"mt-4 rounded bg-red-500/20 px-4 py-3 text-center text-sm text-red-200",children:"Le armi non possono pi\\u00f9 essere usate in questo contrasto."}):null,G.jsx("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:v.map(({weapon:u,config:g,ammoKind:y,ammoAvailable:d})=>{const l=g!=null&&g.displayName?W_(g.displayName):null,w=h===u.name;return G.jsx("button",{type:"button",disabled:n||d<=0,onClick:()=>i(u.name),"aria-pressed":w,tabIndex:0,className:En("rounded-xl border border-white/10 bg-white/5 p-4 text-left transition hover:border-accent hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent",w&&"border-accent bg-white/10 ring-2 ring-accent",(n||d<=0)&&"cursor-not-allowed opacity-50"),"data-selected":w?"true":"false",children:G.jsxs("div",{className:"flex items-start gap-3",children:[l&&G.jsxs("div",{className:"flex-shrink-0 relative",children:[G.jsx("img",{src:"/assets/armi/badge.png",alt:"badge",className:"h-16 w-16 object-contain",draggable:!1}),G.jsx("img",{src:l,alt:g==null?void 0:g.displayName,className:"absolute inset-0 h-16 w-16 object-contain p-1",draggable:!1,onError:x=>{x.currentTarget.style.display="none"}})]}),G.jsxs("div",{className:"flex-1 min-w-0",children:[G.jsx("h3",{className:"text-lg font-semibold text-white",children:g==null?void 0:g.displayName}),G.jsxs("p",{className:"text-xs uppercase text-white/50",children:["Munizioni ",y]}),G.jsxs("p",{className:"mt-2 text-sm text-white/80",children:["Danno colpo: ",g==null?void 0:g.damagePerShot]}),G.jsxs("p",{className:"text-sm text-white/80",children:["Disponibili: ",d]})]})]})},u.name)})}),h?G.jsxs("div",{className:"mt-6 rounded-xl border border-white/10 bg-black/40 p-4",children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("span",{className:"text-lg font-semibold uppercase tracking-wide text-accent",children:["Ammo:",p]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("input",{type:"range",min:1,max:Math.max(1,m[hs(h)]??1),value:p,onChange:u=>b(Number(u.target.value)),className:"w-40 accent-accent"}),G.jsx("input",{type:"number",value:p,min:1,max:Math.max(1,m[hs(h)]??1),onChange:u=>b(Math.max(1,Number(u.target.value)||1)),className:"w-16 rounded border border-white/10 bg-black/60 px-2 py-1 text-center text-white"})]})]}),G.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[G.jsx("button",{type:"button",onClick:()=>{s(null),b(1)},className:"rounded border border-white/20 px-4 py-2 text-sm uppercase text-white/70 hover:bg-white/10",children:"Annulla"}),G.jsx("button",{type:"button",onClick:f,disabled:n,className:"rounded bg-accent px-4 py-2 text-sm uppercase text-black hover:bg-accent/90 disabled:cursor-not-allowed disabled:bg-accent/40",children:"Spara"})]})]}):null]})}):null},$_="/assets/animali/icona",Sl="/assets/animali/icona/gatto.png",Y_=r=>r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().split(/\s+/)[0].replace(/[^a-z0-9]/g,""),id=r=>r?"image"in r&&r.image?r.image:r.kind?`${$_}/${Y_(r.kind)}.png`:Sl:Sl,ld=r=>{const n=r.currentTarget;n.src!==Sl&&(n.src=Sl)},X_=(r,n)=>r.find(o=>o.id===n),K_=({open:r,animals:n,configs:o,onClose:t,onDeploy:m})=>{if(!r)return null;const a=n.reduce((s,p,b)=>{const v=X_(o,p.configId)??null,i=Wa(v,p),f=mf(v,p),u=gf(v,p),g=i.staminaCap>0?Math.round(Math.max(0,p.stamina)/i.staminaCap*100):0,y=i.lifeCap>0?Math.round(Math.max(0,p.life)/i.lifeCap*100):0;return s.push({index:b,config:v,name:(v==null?void 0:v.kind)??`#${p.configId}`,instance:p,stats:i,readiness:f,missingStamina:u,staminaPercent:g,lifePercent:y}),s},[]).reduce((s,p)=>(s[p.readiness].push(p),s),{ready:[],recovering:[],fallen:[]}),h={ready:{label:"Pronto",tone:"border-emerald-400/40 bg-emerald-500/10 text-emerald-200",helper:()=>"Stamina al massimo.",action:"Schiera",disabled:!1},recovering:{label:"In recupero",tone:"border-amber-300/40 bg-amber-400/10 text-amber-200",helper:s=>`Mancano ${s.missingStamina} stamina - costo cibo ${s.missingStamina}`,action:"Non pronto",disabled:!0},fallen:{label:"Ko",tone:"border-rose-400/40 bg-rose-500/10 text-rose-200",helper:()=>"Torni disponibile dopo il prossimo riposo.",action:"Non disponibile",disabled:!0}};return G.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/75 p-6",children:G.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-background/95 p-6 shadow-2xl",children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsx("h2",{className:"text-2xl font-display uppercase tracking-widest",children:"Animali"}),G.jsx("button",{type:"button",onClick:t,className:"rounded border border-white/20 px-3 py-1 text-sm uppercase tracking-wide text-white/80 hover:bg-white/10",children:"Indietro"})]}),G.jsx("div",{className:"mt-4 space-y-6",children:[{key:"ready",title:"Pronti a combattere"},{key:"recovering",title:"In recupero"},{key:"fallen",title:"Ko"}].map(({key:s,title:p})=>{const b=a[s];return G.jsxs("div",{children:[G.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:p}),b.length===0?G.jsx("p",{className:"mt-2 text-xs text-white/50",children:s==="ready"?"Nessun animale pronto.":s==="recovering"?"Nessun animale sta recuperando stamina.":"Nessun animale è caduto."}):G.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:b.map(v=>{var u;const i=h[v.readiness],f=id(v.config);return G.jsx("div",{className:En("rounded-xl border border-white/10 bg-white/5 p-4",v.readiness==="fallen"&&"opacity-60"),children:G.jsxs("div",{className:"flex items-start gap-4",children:[G.jsxs("div",{className:"flex-shrink-0",children:[G.jsx("img",{src:f,alt:v.name,className:"h-28 w-28 rounded-lg object-contain bg-black/20 p-1",draggable:!1,onError:ld}),G.jsxs("div",{className:"absolute text-xs text-white",children:[G.jsxs("p",{children:["Vita: ",v.instance.life,"/",v.stats.lifeCap]}),G.jsxs("p",{children:["Danno: ",v.stats.damage]}),G.jsxs("p",{children:["Velocità: ",v.stats.attackSpeed]}),G.jsxs("p",{children:["Armatura: ",v.instance.armor??0]})]})]}),G.jsxs("div",{className:"flex-1 min-w-0",children:[G.jsxs("div",{className:"flex items-start justify-between",children:[G.jsxs("div",{children:[G.jsx("span",{className:"text-lg font-semibold text-white",children:v.name}),G.jsx("p",{className:"text-xs uppercase text-white/50",children:v.instance.size})]}),G.jsx("span",{className:En("rounded-full border px-2 py-0.5 text-[10px] uppercase tracking-[0.2em]",i.tone),children:i.label})]}),G.jsxs("dl",{className:"mt-3 space-y-1 text-sm text-white/80",children:[G.jsxs("div",{className:"flex justify-between",children:[G.jsx("dt",{children:"Vita"}),G.jsxs("dd",{children:[v.instance.life,"/",v.stats.lifeCap]})]}),G.jsxs("div",{className:"flex justify-between",children:[G.jsx("dt",{children:"Danno"}),G.jsx("dd",{children:v.stats.damage})]}),G.jsxs("div",{className:"flex justify-between",children:[G.jsx("dt",{children:"Velocità"}),G.jsx("dd",{children:v.stats.attackSpeed})]}),G.jsxs("div",{className:"flex justify-between",children:[G.jsx("dt",{children:"Armatura"}),G.jsx("dd",{children:v.instance.armor??0})]})]}),G.jsxs("div",{className:"mt-3 space-y-2 text-xs uppercase text-white/60",children:[G.jsxs("div",{children:[G.jsx("span",{children:"Stamina"}),G.jsx("div",{className:"mt-1 h-2 w-full overflow-hidden rounded bg-white/10",children:G.jsx("div",{className:"h-full rounded bg-emerald-400",style:{width:`${Math.min(100,Math.max(0,v.staminaPercent))}%`}})})]}),G.jsxs("div",{children:[G.jsx("span",{children:"Resistenza"}),G.jsx("div",{className:"mt-1 h-2 w-full overflow-hidden rounded bg-white/10",children:G.jsx("div",{className:"h-full rounded bg-sky-400",style:{width:`${Math.min(100,Math.max(0,v.lifePercent))}%`}})})]})]}),G.jsx("p",{className:"mt-3 text-xs text-white/60",children:i.helper(v)}),G.jsx("button",{type:"button",disabled:i.disabled,onClick:()=>m(v.index),className:En("mt-4 w-full rounded px-4 py-2 text-sm uppercase tracking-[0.3em]",i.disabled?"border border-white/20 text-white/40":"border border-emerald-400 bg-emerald-500 text-black hover:bg-emerald-400"),children:i.action})]})]})},`${((u=v.config)==null?void 0:u.id)??"cfg"}-${v.index}`)})})]},s)})})]})})},Q_="housePiece",cv=r=>typeof r=="string"&&r.startsWith(`${Q_}:`),Z_=r=>r==="housePiece:any",dv=r=>{if(Z_(r))return null;const[,n]=r.split(":"),o=Number(n);return Number.isFinite(o)?o:null},fv=(r,n)=>{if(n===null)return null;const o=r.find(t=>t.id===n);return o?o.name:null},zn="#a67c52",J_=(r,n)=>{var o;return((o=r.find(t=>t.name===n))==null?void 0:o.displayName)??n},eS=(r,n)=>{var o;return((o=r.find(t=>t.id===n))==null?void 0:o.kind)??`#${n}`},tS=({open:r,loot:n,weaponsUsed:o,fallenAnimals:t,animalConfigs:m,weaponConfigs:c,medalUnlocked:a,houseObjects:h,onContinue:s})=>{if(!r)return null;const p=()=>{if(!n)return G.jsx("p",{className:"mt-2 text-sm text-white/70",children:"Nessun bottino."});if(wl(n.type)){const b=jl(n.type);return G.jsx("p",{className:"mt-2 text-lg font-semibold",style:{color:zn},children:`Medaglietta ${Ls[b]}`})}if(cv(n.type)){const b=dv(n.type),v=fv(h,b),i=v?`Pezzi arredamento (${v})`:"Pezzi arredamento";return G.jsxs("p",{className:"mt-2 text-lg font-semibold",style:{color:zn},children:["+",n.qty," ",i]})}return G.jsxs("p",{className:"mt-2 text-lg font-semibold",style:{color:zn},children:["+",n.qty," ",n.type]})};return G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-6",children:G.jsxs("div",{className:"w-full max-w-xl rounded-3xl border border-white/10 bg-white/10 p-6 text-white shadow-xl backdrop-blur",children:[G.jsx("h2",{className:"text-4xl font-display uppercase tracking-[0.4em]",style:{color:zn},children:"Vittoria"}),G.jsxs("section",{className:"mt-4 space-y-4",children:[G.jsxs("div",{children:[G.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/60",children:"Armi utilizzate"}),o.length===0?G.jsx("p",{className:"text-sm text-white/70",children:"Nessun colpo sparato."}):G.jsx("ul",{className:"mt-2 space-y-1 text-sm",children:o.map(b=>G.jsxs("li",{className:"flex justify-between",children:[G.jsx("span",{children:J_(c,b.name)}),G.jsxs("span",{children:[b.shots," colpi"]})]},b.name))})]}),G.jsxs("div",{children:[G.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/60",children:"Animali caduti"}),t.length===0?G.jsx("p",{className:"text-sm text-white/70",children:"Nessuna perdita."}):G.jsx("ul",{className:"mt-2 list-inside list-disc space-y-1 text-sm text-white/80",children:t.map((b,v)=>G.jsx("li",{children:eS(m,b.configId)},`${b.configId}-${v}`))})]})]}),G.jsxs("section",{className:"mt-5 rounded-xl border border-white/10 bg-black/40 p-4 text-center",children:[G.jsx("h3",{className:"text-sm uppercase tracking-[0.3em] text-white/60",children:"Ricompensa"}),p()]}),a?G.jsxs("section",{className:"mt-3 rounded-xl border p-4 text-center",style:{borderColor:zn,backgroundColor:"rgba(166,124,82,0.12)",color:"#f4e7da"},children:[G.jsx("h4",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#e7d6c7"},children:"Nuova medaglietta sbloccata!"}),G.jsx("p",{className:"mt-2 text-lg font-semibold",style:{color:zn},children:Ls[a]})]}):null,G.jsx("button",{type:"button",onClick:s,className:"mt-6 w-full rounded-full px-6 py-3 text-sm font-semibold uppercase tracking-widest transition",style:{backgroundColor:zn,color:"#0f0f0f"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="#8b5e34"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor=zn},children:"Procedi"})]})})},rS=({open:r,doorsOpened:n,onReturn:o})=>r?G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/85 p-6",children:G.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-red-500/30 bg-red-950/80 p-6 text-center text-white shadow-glow",children:[G.jsx("h2",{className:"text-4xl font-display uppercase tracking-[0.4em] text-red-300",children:"Sconfitta"}),G.jsxs("p",{className:"mt-4 text-sm text-white/80",children:["Porte aperte in totale:"," ",G.jsx("span",{className:"text-lg font-semibold text-red-200",children:n})]}),G.jsx("button",{type:"button",onClick:o,className:"mt-6 w-full rounded-full bg-red-400 py-3 text-sm font-semibold uppercase tracking-widest text-red-950 hover:bg-red-300",children:"Torna al menu"})]})}):null,nS={bullets:0,shells:0,arrows:0,darts:0,grenades:0},oS={white:"/assets/scenari/Stanza_bianca.png",black:"/assets/scenari/Stanza_nera.png",red:"/assets/scenari/Stanza_rossa.png",orange:"/assets/scenari/Stanza_arancione.png",yellow:"/assets/scenari/Stanza_gialla.png",purple:"/assets/scenari/Stanza_rosa.png",blue:"/assets/scenari/Stanza_blu.png",lightBlue:"/assets/scenari/Stanza_azzurra.png",brown:"/assets/scenari/Stanza_marrone.png",lime:"/assets/scenari/Stanza_lime.png",green:"/assets/scenari/Stanza_verde.png",neutral:"/assets/scenari/Stanza_neutrale.png"},sS="/assets/scenari/Stanza_neutrale.png",$p="/assets/animali/icona",Gn="/assets/ui/animal_placeholder.png",Yp=r=>r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,""),Pi=r=>r?r.image?r.image:r.kind?`${$p}/${Yp(r.kind)}.png`:r.id?`${$p}/${Yp(String(r.id))}.png`:null:null,aS={ready:{label:"Pronto",description:"Stamina al massimo.",tone:"border-emerald-400/40 bg-emerald-500/10 text-emerald-200"},recovering:{label:"In recupero",description:"L'animale sta recuperando stamina.",tone:"border-amber-300/40 bg-amber-400/10 text-amber-200"},fallen:{label:"Ko",description:"Questo animale è fuori combattimento.",tone:"border-rose-400/40 bg-rose-500/10 text-rose-200"}},Xp={ready:0,recovering:1,fallen:2},Kp=({side:r,amount:n})=>{const[o,t]=Ne.useState("idle");Ne.useEffect(()=>{const s=requestAnimationFrame(()=>t("show")),p=setTimeout(()=>t("hide"),450),b=setTimeout(()=>t("idle"),650);return()=>{cancelAnimationFrame(s),clearTimeout(p),clearTimeout(b)}},[]);const m="pointer-events-none absolute transition-all duration-300 text-sm font-semibold px-3 py-1 rounded-full shadow-lg",c=r==="enemy"?"bg-emerald-500/90 text-black border border-emerald-300/80":"bg-rose-500/90 text-white border border-rose-300/80",a=r==="enemy"?"right-6":"left-6",h=o==="show"?"-translate-y-6 opacity-100 scale-105":o==="hide"?"-translate-y-8 opacity-0 scale-95":"opacity-0 translate-y-0 scale-90";return G.jsxs("div",{className:`${m} ${c} ${a} ${h}`,children:["-",n]})},iS=()=>{var lt,rt;const r=Fs(),[n,o]=Ne.useState(!1),[t,m]=Ne.useState(!1),{save:c,configs:a,pendingReward:h,battleResult:s,weaponsPhaseLocked:p,resolveWeaponAttack:b,resolveAnimalDuel:v,collectReward:i,resetBattleResult:f,currentDuel:u,clearCurrentDuel:g}=Mr(Fe=>({save:Fe.save,configs:Fe.configs,pendingReward:Fe.pendingReward,battleResult:Fe.battleResult,weaponsPhaseLocked:Fe.weaponsPhaseLocked,resolveWeaponAttack:Fe.resolveWeaponAttack,resolveAnimalDuel:Fe.resolveAnimalDuel,collectReward:Fe.collectReward,resetBattleResult:Fe.resetBattleResult,currentDuel:Fe.currentDuel,clearCurrentDuel:Fe.clearCurrentDuel}));Ne.useEffect(()=>{c===null&&r("/lobby",{replace:!0})},[c,r]);const y=c==null?void 0:c.battleState,d=y==null?void 0:y.door,l=d?d.enemies[d.index]:null,w=d?d.enemies.slice(d.index+1):[],x=(a==null?void 0:a.animals)??[],_=(a==null?void 0:a.weapons)??[],T=Ne.useMemo(()=>l?x.find(Fe=>Fe.id===l.configId)??null:null,[x,l]),E=((lt=y==null?void 0:y.door)==null?void 0:lt.type)??"neutral",S=oS[E]??sS,[P,N]=Ne.useState(null),[C,I]=Ne.useState(-1),[L,F]=Ne.useState(!1),[D,B]=Ne.useState(!1),[$,V]=Ne.useState(!1),[H,X]=Ne.useState(!1),Q=Ne.useRef(((rt=y==null?void 0:y.door)==null?void 0:rt.index)??null),[se,M]=Ne.useState(!1);Ne.useEffect(()=>{if(!u){I(-1),F(!1),B(!1);return}N(u.playerAnimalIndex),V(u.playerLifeEnd<=0),I(-1),F(!1),B(!1)},[u]),Ne.useEffect(()=>{if(!u)return;if(!u.log.length){F(!0);return}if(C===-1){const Xe=setTimeout(()=>I(0),250);return()=>clearTimeout(Xe)}if(C>=u.log.length-1){const Xe=setTimeout(()=>F(!0),450);return()=>clearTimeout(Xe)}const Fe=setTimeout(()=>I(Xe=>Xe+1),650);return()=>clearTimeout(Fe)},[u,C]),Ne.useEffect(()=>{if(!L||!u)return;const Fe=setTimeout(()=>B(!0),300);return()=>clearTimeout(Fe)},[L,u]),Ne.useEffect(()=>{y!=null&&y.active||N(null)},[y==null?void 0:y.active]),Ne.useEffect(()=>{if(u)return;const Fe=(d==null?void 0:d.index)??null;let Xe=null,ut=null;return Q.current!==null&&Fe!==null&&Fe!==Q.current&&(X(!0),Xe=requestAnimationFrame(()=>{ut=requestAnimationFrame(()=>X(!1))})),Q.current=Fe,()=>{Xe&&cancelAnimationFrame(Xe),ut&&cancelAnimationFrame(ut)}},[d==null?void 0:d.index,u]),Ne.useEffect(()=>{if(s==="defeat"){M(!0);const Fe=setTimeout(()=>M(!1),1600);return()=>clearTimeout(Fe)}return()=>{}},[s]);const R=(Fe,Xe)=>{b(Fe,Xe),o(!1)},z=Fe=>{v(Fe),m(!1)},q=()=>{B(!1),F(!1),I(-1);const Fe=$;V(!1),g(),Fe&&m(!0)};Ne.useEffect(()=>{const Fe=Xe=>{Xe.key==="Escape"&&(n&&o(!1),t&&m(!1))};return window.addEventListener("keydown",Fe),()=>window.removeEventListener("keydown",Fe)},[n,t]);const Z=(c==null?void 0:c.animals.owned)??[],te=Ne.useCallback(Fe=>x.find(Xe=>Xe.id===Fe)??null,[x]),ie=Ne.useMemo(()=>Z.map((Fe,Xe)=>{const ut=te(Fe.configId),jt=Wa(ut,Fe),Et=mf(ut,Fe),pt=jt.staminaCap>0?Math.round(Math.max(0,Fe.stamina)/jt.staminaCap*100):0,wt=jt.lifeCap>0?Math.round(Math.max(0,Fe.life)/jt.lifeCap*100):0;return{index:Xe,name:(ut==null?void 0:ut.kind)??`#${Fe.configId}`,readiness:Et,missingStamina:gf(ut,Fe),life:Fe.life,lifeCap:jt.lifeCap,damage:jt.damage,attackSpeed:jt.attackSpeed,armor:Fe.armor??0,staminaPercent:pt,lifePercent:wt,config:ut,instance:Fe}}),[Z,te]),he=Ne.useMemo(()=>[...ie].sort((Fe,Xe)=>{const ut=Xp[Fe.readiness]-Xp[Xe.readiness];return ut!==0?ut:Xe.lifePercent-Fe.lifePercent}),[ie]),oe=Fe=>{const{config:Xe,instance:ut,readiness:jt}=Fe,Et=Pi(Xe)??Gn,pt=jt==="fallen"||!ut.alive,wt=jt!=="ready",yt=aS[jt];return G.jsxs("div",{className:`w-full flex gap-4 rounded-lg border ${pt?"border-red-900/30 bg-black/50":"border-white/10 bg-black/30"} p-4`,children:[G.jsxs("div",{className:"relative",children:[G.jsx("img",{src:Et,alt:Fe.name,className:`h-20 w-20 rounded-lg object-contain bg-black/20 p-1 ${pt?"opacity-50":""}`,draggable:!1,onError:Kt=>{Kt.currentTarget.src=Gn}}),pt&&G.jsx("div",{className:"absolute top-1 right-1 bg-red-500/80 text-white text-xs font-bold px-1.5 py-0.5 rounded",children:"KO"})]}),G.jsxs("div",{className:"flex-1 min-w-0",children:[G.jsxs("div",{className:"flex items-center justify-between mb-2",children:[G.jsx("span",{className:`font-semibold text-lg truncate ${pt?"text-white/50":"text-white"}`,children:Fe.name}),G.jsx("span",{className:"text-sm uppercase text-white/50",children:ut.size==="Small"?"Baby":"Adulto"})]}),G.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[G.jsxs("div",{className:"rounded-md bg-black/30 px-3 py-1.5",children:[G.jsx("div",{className:"text-white/60",children:"Vita"}),G.jsxs("div",{className:`font-medium ${pt?"text-red-500":"text-white"}`,children:[ut.life,"/",Fe.lifeCap]})]}),G.jsxs("div",{className:"rounded-md bg-black/30 px-3 py-1.5",children:[G.jsx("div",{className:"text-white/60",children:"Danno"}),G.jsx("div",{className:"font-medium text-white",children:Fe.damage})]}),G.jsxs("div",{className:"rounded-md bg-black/30 px-3 py-1.5",children:[G.jsx("div",{className:"text-white/60",children:"Velocità"}),G.jsx("div",{className:"font-medium text-white",children:Fe.attackSpeed})]})]}),!pt&&G.jsx("button",{type:"button",onClick:()=>z(Fe.index),disabled:wt,className:`mt-3 w-full rounded-md border px-4 py-1.5 text-sm font-medium transition ${wt?"border-white/20 text-white/40 cursor-not-allowed":"border-[#a67c52] text-[#a67c52] hover:bg-[#a67c52]/10"}`,children:wt?yt.label:"Schiera"}),wt&&G.jsx("p",{className:"mt-2 text-xs text-white/60",children:jt==="recovering"?`Mancano ${Fe.missingStamina} stamina per combattere.`:"Questo animale è fuori combattimento."})]})]},`${ut.configId}-${Fe.index}`)},fe=u?u.playerAnimalIndex:P,ce=fe!==null?Z[fe]??null:null,ee=u?te(u.playerConfigId):ce?te(ce.configId):null,de=ce&&ee?Wa(ee,ce):null,ye=u?te(u.enemyConfigId):null,we=u&&(y!=null&&y.door)?y.door.enemies[u.enemyIndex]??null:null,ge=u?we??null:l,ve=u?ye:T,je=u&&C>=0&&u.log.length?u.log[Math.min(C,u.log.length-1)]:null,De=u?Math.max(0,C>=0&&u.log.length?u.log[Math.min(C,u.log.length-1)].playerLifeAfter:u.playerLifeStart):Math.max(0,(ce==null?void 0:ce.life)??0),Te=(de==null?void 0:de.lifeCap)??(u?Math.max(u.playerLifeStart,(ee==null?void 0:ee.life)??u.playerLifeStart):De),tt=u?Math.max(0,C>=0&&u.log.length?u.log[Math.min(C,u.log.length-1)].enemyLifeAfter:u.enemyLifeStart):Math.max(0,(l==null?void 0:l.life)??0),$e=u?Math.max(u.enemyLifeStart,(ve==null?void 0:ve.life)??u.enemyLifeStart):Math.max(0,(ve==null?void 0:ve.life)??(l==null?void 0:l.life)??0),We=je?je.attacker==="player"?"enemy":"player":null,Ke=Te>0?Math.round(De/Te*100):0,Ye=$e>0?Math.round(tt/$e*100):0,_e=(je==null?void 0:je.round)??null,Re=H&&!u,Ee=Pi(ee)??Gn,J=Pi(ve)??Gn,ne=(ee==null?void 0:ee.kind)??(ce?`#${ce.configId}`:"Nessun animale"),K=(ve==null?void 0:ve.kind)??(ge?`#${ge.configId}`:"Nessun avversario"),ae=ce?ce.size==="Small"?"Baby":"Adulto":"—",be=u?u.enemySize==="Small"?"Baby":"Adulto":ge?ge.size==="Small"?"Baby":"Adulto":"—",ke=(de==null?void 0:de.damage)??(ee==null?void 0:ee.damage)??0,Le=(de==null?void 0:de.attackSpeed)??(ee==null?void 0:ee.attackSpeed)??0,ze=(ce==null?void 0:ce.armor)??0,Ve=(ve==null?void 0:ve.damage)??0,qe=(ve==null?void 0:ve.attackSpeed)??0,Qe=()=>{i(),f(),r("/lobby")},ct=()=>{f(),r("/")};return G.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[G.jsxs("div",{className:"absolute inset-0 -z-10",children:[G.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${S})`}}),G.jsx("div",{className:"absolute inset-0 bg-black/70"})]}),se?G.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:G.jsxs("div",{className:"relative flex h-48 w-48 items-center justify-center rounded-full border border-red-500/50 bg-red-500/10 shadow-lg shadow-red-900/40",children:[G.jsx("div",{className:"absolute inset-0 animate-ping rounded-full border border-red-500/40"}),G.jsx("span",{className:"animate-bounce text-2xl font-bold uppercase tracking-[0.4em] text-red-300",children:"Sconfitta"})]})}):null,s==="victory"&&h&&c?G.jsx(tS,{open:!0,loot:h.loot,weaponsUsed:h.weaponsUsed,fallenAnimals:h.fallenAnimals,animalConfigs:x,weaponConfigs:_,medalUnlocked:h.medalUnlocked??null,houseObjects:c.house.objects,onContinue:Qe}):null,s==="defeat"&&c?G.jsx(rS,{open:!0,doorsOpened:c.progress.doorsOpened,onReturn:ct}):null,G.jsxs("header",{className:"flex items-center justify-between uppercase tracking-[0.4em] text-white/60 px-6 pt-10",children:[G.jsx("span",{children:"Porta"}),G.jsx("button",{type:"button",onClick:()=>r("/lobby"),className:"rounded-full border border-white/30 px-4 py-1 text-xs uppercase tracking-widest transition hover:border-[#a67c52] hover:text-[#a67c52]",children:"Torna alla lobby"})]}),G.jsx("main",{className:"mt-8 flex flex-col gap-8 px-6 pb-10",children:d?G.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/10 p-6 shadow-xl backdrop-blur",children:[G.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[G.jsxs("div",{children:[G.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-white/50",children:"Ti contrasta ..."}),G.jsx("h2",{className:"text-3xl font-display uppercase tracking-[0.35em] text-[#a67c52]",children:K})]}),u?G.jsxs("div",{className:"flex flex-col items-start gap-1 text-[10px] uppercase tracking-[0.35em] text-white/50 md:items-end",children:[G.jsxs("span",{children:["Round ",_e??u.log.length]}),G.jsx("span",{children:je?je.attacker==="player"?"Turno del giocatore":"Turno dell'avversario":"Risoluzione"})]}):null]}),G.jsxs("div",{className:"mt-8 grid gap-6 lg:grid-cols-[1fr_auto_1fr] lg:items-center",children:[G.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-white/10 bg-black/40 p-6 transition-all duration-300 ${We==="player"?"ring-2 ring-rose-400/70 shadow-lg shadow-rose-500/30":""}`,children:[We==="player"&&je&&je.damage>0?G.jsx(Kp,{side:"player",amount:je.damage},`player-${C}`):null,ce&&ee?G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsx("img",{src:Ee,alt:ne,className:"h-24 w-24 rounded-lg object-contain bg-black/20 p-2",draggable:!1,onError:Fe=>{Fe.currentTarget.src=Gn}}),G.jsxs("div",{children:[G.jsx("p",{className:"text-xs uppercase text-white/50",children:"Il tuo animale"}),G.jsx("h3",{className:"text-xl font-semibold text-white",children:ne}),G.jsx("span",{className:"text-xs uppercase text-white/40",children:ae})]})]}),G.jsxs("div",{className:"mt-4 space-y-4 text-sm",children:[G.jsxs("div",{children:[G.jsxs("div",{className:"flex items-center justify-between text-xs uppercase text-white/50",children:[G.jsx("span",{children:"Vita"}),G.jsxs("span",{children:[De,"/",Te]})]}),G.jsx("div",{className:"mt-1 h-2 w-full rounded bg-white/10",children:G.jsx("div",{className:"h-full rounded bg-emerald-400",style:{width:`${Math.min(100,Math.max(0,Ke))}%`}})})]}),G.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs uppercase text-white/60",children:[G.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 p-3 text-center",children:[G.jsx("span",{children:"Danno"}),G.jsx("p",{className:"mt-1 text-lg font-semibold text-white",children:ke})]}),G.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 p-3 text-center",children:[G.jsx("span",{children:"Velocità"}),G.jsx("p",{className:"mt-1 text-lg font-semibold text-white",children:Le})]}),G.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 p-3 text-center",children:[G.jsx("span",{children:"Armatura"}),G.jsx("p",{className:"mt-1 text-lg font-semibold text-white",children:ze})]})]})]})]}):G.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-sm text-white/60",children:[G.jsx("p",{children:"Nessun animale schierato."}),G.jsx("p",{className:"text-xs",children:"Apri il pannello animali per scegliere un combattente."})]})]}),G.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 text-xs uppercase tracking-[0.4em] text-white/60",children:[G.jsx("span",{children:"Vs"}),u?G.jsx("span",{className:"text-[10px] text-white/40",children:je?je.attacker==="player"?"Attacco del giocatore":"Attacco dell'avversario":"Simulazione"}):G.jsx("span",{className:"text-[10px] text-white/40",children:"In attesa"})]}),G.jsxs("div",{className:`relative overflow-hidden rounded-2xl border border-white/10 bg-black/40 p-6 transition-opacity duration-500 ${We==="enemy"?"ring-2 ring-emerald-400/70 shadow-lg shadow-emerald-500/30":""} ${Re?"opacity-0":"opacity-100"}`,children:[We==="enemy"&&je&&je.damage>0?G.jsx(Kp,{side:"enemy",amount:je.damage},`enemy-${C}`):null,G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsx("img",{src:J,alt:K,className:"h-24 w-24 rounded-lg object-contain bg-black/20 p-2",draggable:!1,onError:Fe=>{Fe.currentTarget.src=Gn}}),G.jsxs("div",{children:[G.jsx("p",{className:"text-xs uppercase text-white/50",children:"Avversario"}),G.jsx("h3",{className:"text-xl font-semibold text-white",children:K}),G.jsx("span",{className:"text-xs uppercase text-white/40",children:be})]})]}),G.jsxs("div",{className:"mt-4 space-y-4 text-sm",children:[G.jsxs("div",{children:[G.jsxs("div",{className:"flex items-center justify-between text-xs uppercase text-white/50",children:[G.jsx("span",{children:"Vita"}),G.jsxs("span",{children:[tt,"/",$e]})]}),G.jsx("div",{className:"mt-1 h-2 w-full rounded bg-white/10",children:G.jsx("div",{className:"h-full rounded bg-rose-400",style:{width:`${Math.min(100,Math.max(0,Ye))}%`}})})]}),G.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs uppercase text-white/60",children:[G.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 p-3 text-center",children:[G.jsx("span",{children:"Danno"}),G.jsx("p",{className:"mt-1 text-lg font-semibold text-white",children:Ve})]}),G.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 p-3 text-center",children:[G.jsx("span",{children:"Velocità"}),G.jsx("p",{className:"mt-1 text-lg font-semibold text-white",children:qe})]}),G.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 p-3 text-center",children:[G.jsx("span",{children:"Armatura"}),G.jsx("p",{className:"mt-1 text-lg font-semibold text-white",children:"0"})]})]})]})]})]}),G.jsxs("div",{className:"mt-8 flex flex-col gap-6 md:flex-row md:items-start md:justify-between",children:[u?G.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 text-sm text-white/70 md:max-w-sm",children:[G.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Esito parziale"}),G.jsx("p",{className:"mt-2",children:je?je.attacker==="player"?`Il tuo animale infligge ${je.damage} danni.`:`L'avversario infligge ${je.damage} danni.`:u.winner==="player"?"Contrasto vinto.":"Contrasto in corso."})]}):G.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/10 p-4 text-sm text-white/50 md:max-w-sm",children:[G.jsx("p",{className:"text-xs uppercase tracking-[0.3em]",children:"Esito parziale"}),G.jsx("p",{className:"mt-2",children:"Schiera un animale per iniziare a contrastare."})]}),G.jsxs("div",{className:"md:ml-auto md:text-right",children:[G.jsx("h3",{className:"text-xs uppercase tracking-[0.35em] text-white/50",children:"Prossimi nemici"}),G.jsx("div",{className:"mt-3 flex flex-wrap justify-start gap-2 md:justify-end",children:w.length?w.map((Fe,Xe)=>{const ut=x.find(Et=>Et.id===Fe.configId),jt=Pi(ut)??Gn;return G.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-white/15 bg-black/30 px-3 py-2 text-xs text-white/70",style:{opacity:Math.max(.35,1-Xe*.12)},children:[G.jsx("img",{src:jt,alt:(ut==null?void 0:ut.kind)??`#${Fe.configId}`,className:"h-12 w-12 rounded-xl object-contain bg-black/20 p-1 shadow-inner",draggable:!1,onError:Et=>{Et.currentTarget.src=Gn}}),G.jsx("span",{children:(ut==null?void 0:ut.kind)??`#${Fe.configId}`})]},`${Fe.configId}-${Xe}`)}):G.jsx("span",{className:"rounded-lg border border-white/10 bg-black/40 px-3 py-2 text-xs text-white/70",children:"Ultimo avversario"})})]})]}),G.jsxs("div",{className:"mt-10 flex items-center justify-center gap-4",children:[G.jsx("button",{type:"button",onClick:()=>o(!0),disabled:p,className:"rounded-full border border-[#a67c52] px-6 py-3 text-sm uppercase tracking-[0.3em] text-[#a67c52] transition hover:bg-[#a67c52]/10 disabled:cursor-not-allowed disabled:opacity-40",children:"Armi"}),G.jsx("button",{type:"button",onClick:()=>m(!0),className:"rounded-full border border-[#a67c52] px-6 py-3 text-sm uppercase tracking-[0.3em] text-[#a67c52] transition hover:bg-[#a67c52]/10",children:"Animali"})]})]}):G.jsx("section",{className:"rounded-3xl border border-white/10 bg-white/10 p-6 text-center text-sm text-white/70 shadow-xl backdrop-blur",children:h?"Ricompensa pronta da raccogliere.":"Nessun combattimento attivo."})}),D&&u?G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 px-6",children:G.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-black/80 p-6 text-center",children:[G.jsx("h3",{className:"text-xl font-semibold text-white",children:"Contrasto concluso"}),G.jsx("p",{className:"mt-3 text-sm text-white/70",children:u.winner==="player"?"Il tuo animale ha contrastato il nemico.":"L'avversario ha contrastato la tua avanzata."}),u.playerLifeEnd<=0?G.jsx("p",{className:"mt-2 text-sm text-rose-300",children:"Il tuo animale è stato sconfitto. Scegline un altro per continuare."}):null,u.enemyLifeEnd<=0?G.jsx("p",{className:"mt-2 text-sm text-emerald-300",children:"L'avversario è stato battuto!"}):null,G.jsx("button",{type:"button",onClick:q,className:"mt-5 inline-flex items-center justify-center rounded-full border border-white/20 px-5 py-2 text-sm uppercase tracking-[0.3em] text-white transition hover:border-[#a67c52] hover:text-[#a67c52]",children:"Continua"})]})}):null,a&&(y!=null&&y.active)?G.jsx(q_,{open:n,locked:p,weapons:(c==null?void 0:c.weapons)??[],weaponConfigs:_,ammoInventory:(c==null?void 0:c.inventory.ammo)??nS,onClose:()=>o(!1),onConfirm:R}):null,a&&(y!=null&&y.active)?t&&(y!=null&&y.active)?G.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[G.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>m(!1)}),G.jsxs("div",{className:"relative z-10 w-[min(800px,90%)] max-h-[85vh] overflow-hidden rounded-2xl border border-white/10 bg-black/40 p-6",children:[G.jsxs("div",{className:"flex items-center justify-between pb-4 mb-4 border-b border-white/10",children:[G.jsx("h3",{className:"text-lg font-semibold text-white",children:"I tuoi animali"}),G.jsx("button",{type:"button",onClick:()=>m(!1),className:"text-sm text-white/50 hover:text-white",children:"Chiudi"})]}),G.jsx("div",{className:"space-y-3 overflow-auto pr-2",style:{maxHeight:"calc(85vh - 100px)"},children:he.length===0?G.jsx("p",{className:"text-sm text-white/60",children:"Nessun animale disponibile."}):he.map(Fe=>oe(Fe))})]})]}):G.jsx(K_,{open:t,animals:(c==null?void 0:c.animals.owned)??[],configs:x,onClose:()=>m(!1),onDeploy:z}):null]})},lS=({title:r,description:n})=>G.jsxs("div",{className:"rounded-xl border border-white/20 bg-black/80 p-4 text-sm text-white shadow-lg",children:[G.jsx("h3",{className:"text-base font-semibold",children:r}),n?G.jsx("p",{className:"mt-1 text-white/70",children:n}):null]}),To=1785,Mo=1004,Qp=[{id:"bacheca",label:"Bacheca",hitboxPath:"/assets/casa/pulsanti/bacheca.json",image:"/assets/casa/pulsanti/bacheca.png",selectedImage:"/assets/casa/pulsanti/bacheca_selected.png",layout:{x:0,y:0,width:To,height:Mo},labelPosition:{x:342,y:160},zIndex:10},{id:"incubatrice",label:"Incubatrice",hitboxPath:"/assets/casa/pulsanti/incubatrice.json",image:"/assets/casa/pulsanti/incubatrice.png",selectedImage:"/assets/casa/pulsanti/incubatrice_selected.png",layout:{x:0,y:0,width:To,height:Mo},labelPosition:{x:389,y:630},zIndex:12},{id:"porta",label:"Lobby",hitboxPath:"/assets/casa/pulsanti/porta.json",image:"/assets/casa/pulsanti/porta.png",selectedImage:"/assets/casa/pulsanti/porta_selected.png",layout:{x:0,y:0,width:To,height:Mo},labelPosition:{x:925,y:800},zIndex:8}],uS={1:{x:1500,y:408,width:260,height:220},2:{x:1390,y:140,width:220,height:240},3:{x:1180,y:872,width:340,height:220},4:{x:395,y:800,width:220,height:210}},cS={poltrona:1,mensola:4,tavolino:3,sedie:2,lampada:1,orologio:1,tappeto:1,tavolo:1},dS=r=>{const n=r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,"");return n.length>0?n:"arredamento"},fS=r=>{const n=dS(r.name),o=cS[n],t=Number.isFinite(r.piecesNeeded)?r.piecesNeeded:0,m=Math.max(0,o??Math.max(0,Math.round(t)));return{key:n,maxStage:m}},Li=(r,n)=>`${r/n*100}%`,hS=()=>{const r=Fs(),n=Mr(u=>u.save),[o,t]=Ne.useState(null),[m,c]=Ne.useState("none"),[a,h]=Ne.useState({bacheca:!1,incubatrice:!1,porta:!1}),s=Ne.useMemo(()=>n?n.house.objects:[],[n]),p=s.find(u=>u.id===o)??null,b=Ne.useCallback((u,g)=>{h(y=>(y[u]??!1)===g?y:{...y,[u]:g})},[]),v=Ne.useCallback(()=>{c("none"),t(null)},[]),i=Ne.useCallback(u=>{if(u==="porta"){r("/lobby");return}if(u==="bacheca"){r("/medals");return}u==="incubatrice"&&c("incubatrice")},[r]);Ne.useEffect(()=>{m!=="none"&&h({bacheca:!1,incubatrice:!1,porta:!1})},[m]);const f=Ne.useMemo(()=>{const u=s.map((y,d)=>{const{key:l,maxStage:w}=fS(y),x=Math.max(0,w),_=Math.max(0,y.piecesOwned),T=y.unlocked?x:Math.min(x,_);return{id:`furniture-${y.id}`,image:`/assets/casa/arredamento/${l}_${T}.png`,layout:{x:0,y:0,width:To,height:Mo},zIndex:2+d}}),g=Qp.map(y=>({id:y.id,image:y.image,selectedImage:y.selectedImage,hitboxPath:y.hitboxPath,layout:y.layout,zIndex:y.zIndex,onClick:()=>i(y.id),onHoverChange:d=>b(y.id,d)}));return{baseWidth:To,baseHeight:Mo,backgroundImage:"/assets/casa/sfondo_casa.png",elements:[...u,...g]}},[i,b,s]);return G.jsxs("div",{className:"relative min-h-screen flex flex-col bg-[#080910] text-white",children:[G.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 z-50",children:G.jsx("div",{className:"group/header relative h-8 w-full pointer-events-auto",children:G.jsxs("div",{className:"absolute inset-x-0 top-0 flex items-center justify-between px-6 py-3 bg-[#0b3a6f]/90 text-whit border-b border-white/10 backdrop-blur transition-all duration-300 ease-out  opacity-0 -translate-y-full  group-hover/header:opacity-100 group-hover/header:translate-y-0  pointer-events-auto",children:[G.jsx("span",{className:"text-xs uppercase tracking-[0.4em]",children:"Casa"}),G.jsx("button",{type:"button",onClick:()=>r("/lobby"),className:"rounded-full border border-white/30 px-4 py-1 text-xs uppercase tracking-widest transition hover:border-[#a67c52] hover:text-[#a67c52]",children:"Lobby"})]})})}),G.jsx("main",{className:"relative flex-1",children:G.jsx("div",{className:"absolute inset-0",children:G.jsxs("div",{className:"relative w-screen h-full overflow-hidden",children:[G.jsx(sv,{config:f,className:"w-full h-full"}),G.jsx("div",{className:"absolute inset-0",children:s.map(u=>{const g=uS[u.id],y=g?Li(g.x,To):"50%",d=g?Li(g.y,Mo):"85%",l=u.piecesNeeded?Math.round(u.piecesOwned/u.piecesNeeded*100):0,w=u.unlocked,x=o===u.id;return G.jsx("div",{className:"absolute inset-0 pointer-events-none",children:G.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2 pointer-events-none",style:{left:y,top:d},children:G.jsxs("button",{type:"button",disabled:m!=="none",onClick:()=>t(u.id),className:`pointer-events-auto flex min-w-[200px] flex-col gap-2 rounded-2xl border px-4 py-3 text-left backdrop-blur-sm transition ${w?"border-emerald-400/60 bg-emerald-500/20":"border-white/20 bg-black/60"} ${x?"ring-2 ring-[#a67c52]":""} disabled:cursor-not-allowed disabled:opacity-60`,children:[G.jsx("span",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-white",children:u.name}),G.jsxs("span",{className:"text-xs uppercase text-white/70",children:[u.piecesOwned,"/",u.piecesNeeded," pezzi"]}),G.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded bg-white/15",children:G.jsx("div",{className:`h-full ${w?"bg-emerald-400":"bg-white/50"}`,style:{width:`${Math.min(100,Math.max(0,l))}%`}})}),G.jsx("span",{className:"text-[11px] uppercase tracking-[0.3em] text-white/60",children:w?"Bonus attivo":`${l}% completato`})]})})},u.id)})}),G.jsx("div",{className:"pointer-events-none absolute inset-0",children:Qp.map(u=>{const g=a[u.id],y=u.id==="bacheca"&&(n==null?void 0:n.medals.highlighted);return G.jsx("div",{className:"absolute -translate-x-1/2 -translate-y-1/2",style:{left:Li(u.labelPosition.x,To),top:Li(u.labelPosition.y,Mo)},children:G.jsx("span",{className:`rounded-full border px-3 py-1 text-[11px] uppercase tracking-[0.35em] ${y?"border-yellow-300 bg-yellow-400/20 text-yellow-200":g?"border-[#a67c52] bg-black/70 text-[#a67c52]":"border-white/30 bg-black/60 text-white"}`,children:u.label})},`label-${u.id}`)})})]})})}),m==="bacheca"?G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-6",children:G.jsxs("div",{className:"relative w-full max-w-4xl rounded-[28px] border border-white/10 bg-[#111522]/95 p-6 shadow-xl",children:[G.jsx("button",{type:"button",onClick:v,className:"absolute right-6 top-6 rounded-full border border-white/20 px-3 py-1 text-xs uppercase tracking-[0.4em] text-white/80 transition hover:border-[#a67c52] hover:text-[#a67c52]",children:"Chiudi"}),G.jsx("h2",{className:"text-xl font-semibold uppercase tracking-[0.4em] text-white/80",children:"Bacheca delle Medaglie"}),G.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Esplora la collezione di oggetti sbloccati nella tua casa."}),s.length===0?G.jsx("p",{className:"mt-6 rounded-2xl border border-white/10 bg-white/5 p-6 text-center text-sm text-white/70",children:"Trova pezzi nell'avventura per iniziare ad arredare la casa."}):G.jsx("div",{className:"mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.map(u=>G.jsxs("button",{type:"button",onClick:()=>t(u.id),className:"rounded-3xl border border-white/10 bg-white/5 p-4 text-left transition hover:border-[#a67c52] hover:text-[#a67c52]",children:[G.jsx("span",{className:"text-lg font-semibold text-white",children:u.name}),G.jsxs("div",{className:"mt-2 text-xs uppercase text-white/60",children:[G.jsxs("span",{className:"block",children:[u.piecesOwned,"/",u.piecesNeeded," pezzi"]}),G.jsx("span",{className:"block",children:u.unlocked?"Completato":"Incompleto"})]})]},u.id))}),p?G.jsxs("div",{className:"mt-6 space-y-3 rounded-2xl border border-white/10 bg-black/70 p-4 text-sm",children:[G.jsx(lS,{title:p.name,description:p.unlocked?`Bonus ogni ${p.bonus.turnsCooldown} turni`:void 0}),p.unlocked?G.jsxs("div",{className:"text-white/80",children:[G.jsxs("p",{children:["Bonus:"," ",Array.isArray(p.bonus.amount)?p.bonus.amount.join(", "):p.bonus.amount]}),G.jsxs("p",{className:"text-white/60",children:["Turni al prossimo bonus: ",p.turnsToNextBonus??"-"]})]}):G.jsxs("p",{className:"text-white/70",children:["Pezzi mancanti: ",p.piecesNeeded-p.piecesOwned]})]}):null]})}):null,m==="incubatrice"?G.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-6",children:G.jsxs("div",{className:"relative w-full max-w-md rounded-[28px] border border-white/10 bg-[#111522]/95 p-6 text-center shadow-xl",children:[G.jsx("button",{type:"button",onClick:v,className:"absolute right-6 top-6 rounded-full border border-white/20 px-3 py-1 text-xs uppercase tracking-[0.4em] text-white/80 transition hover:border-[#a67c52] hover:text-[#a67c52]",children:"Chiudi"}),G.jsx("h2",{className:"text-lg font-semibold uppercase tracking-[0.4em] text-white/80",children:"Incubatrice"}),G.jsx("p",{className:"mt-4 text-sm text-white/70",children:"Questa sezione non è ancora disponibile. Torna più tardi per scoprire novità!"})]})}):null]})},pS=()=>{const{save:r,openChest:n}=Mr(x=>({save:x.save,openChest:x.openChest})),[o,t]=Ne.useState(null),[m,c]=Ne.useState("idle"),[a,h]=Ne.useState(null),[s,p]=Ne.useState(null);Ne.useEffect(()=>{console.debug("[ChestRoute] Game state snapshot:",Mr.getState())},[]);const b=(r==null?void 0:r.chests.inventory)??{common:0,uncommon:0,rare:0,epic:0,legendary:0},v=(r==null?void 0:r.chests.unlockedHistory)??[],i=(r==null?void 0:r.house.objects)??[],f=o?b[o]??0:0,u=x=>{if(cv(x.type)){const _=dv(x.type),T=fv(i,_);return T?`Pezzi arredamento (${T})`:"Pezzi arredamento"}return x.type},g=x=>{if(!x)return"Nessun bottino";if(wl(x.type)){const _=jl(x.type);return`Medaglietta ${Ls[_]}`}return`+${x.qty} ${u(x)}`},y=x=>{p(null),o!==x&&(t(x),c("preview"),h(null))},d=()=>{if(!o)return;if((b[o]??0)<=0){p("Nessun baule di questa rarità disponibile.");return}c("opening"),p(null),window.setTimeout(()=>{const _=n(o);h(_),c("opened")},1200)},l=()=>{c("preview"),h(null),p(null)},w=o?ed.find(x=>x.id===o):null;return G.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[G.jsxs("div",{className:"absolute inset-0 -z-10",children:[G.jsx("div",{className:"absolute inset-0 bg-[url('/assets/lobby/sfondo_lobby.png')] bg-cover bg-center blur-sm opacity-60"}),G.jsx("div",{className:"absolute inset-0 bg-black/75"})]}),G.jsxs("div",{className:"mx-auto flex min-h-screen w-full max-w-[1400px] flex-col px-6 py-10",children:[G.jsxs("header",{className:"flex items-center justify-between border-b border-white/10 pb-5 uppercase tracking-[0.4em] text-white/70",children:[G.jsx("span",{children:"Bauli"}),G.jsx(Wr,{to:"/lobby",className:"rounded-full border border-white/30 px-4 py-1 text-xs uppercase tracking-widest transition hover:border-yellow-400 hover:text-yellow-300",children:"Lobby"})]}),G.jsxs("div",{className:"mt-10 flex flex-col gap-8 lg:flex-row",children:[G.jsx("aside",{className:"w-full lg:max-w-sm",children:G.jsx("ul",{className:"space-y-4",children:ed.map(x=>{const _=b[x.id]??0,T=o===x.id;return G.jsx("li",{children:G.jsxs("button",{type:"button",onClick:()=>y(x.id),disabled:m==="opening",className:En("flex w-full items-center justify-between gap-4 rounded-3xl border px-4 py-3 text-left transition-all duration-300",T?"border-yellow-400 bg-yellow-400/15 text-yellow-200 shadow-lg shadow-yellow-400/20 scale-[1.02]":"border-white/10 bg-white/5 text-white/80 hover:border-yellow-300/60 hover:scale-[1.01]",m==="opening"&&"opacity-50 cursor-not-allowed"),children:[G.jsxs("div",{className:"flex items-center gap-4",children:[G.jsx("img",{src:x.image,alt:x.name,className:"h-16 w-16 rounded-2xl bg-black/40 object-contain"}),G.jsxs("div",{children:[G.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.35em]",children:x.name}),G.jsx("p",{className:"mt-1 text-xs text-white/60",children:x.description})]})]}),G.jsxs("span",{className:"rounded-full border border-white/15 bg-black/40 px-3 py-1 text-xs uppercase tracking-[0.35em] text-white/70",children:["x",_]})]})},x.id)})})}),G.jsxs("section",{className:"relative flex flex-1 flex-col items-center justify-center rounded-3xl border border-white/10 bg-black/40 p-8 shadow-lg",children:[s?G.jsx("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 rounded-full border border-red-400/40 bg-red-500/10 px-4 py-2 text-xs uppercase tracking-[0.35em] text-red-200",children:s}):null,w?G.jsxs("div",{className:"flex flex-col items-center text-center",children:[G.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-[0.35em] text-white/80",children:w.name}),G.jsx("p",{className:"mt-2 max-w-md text-sm text-white/60",children:w.description}),G.jsxs("div",{className:En("relative mt-8 flex h-64 w-64 items-center justify-center rounded-full shadow-2xl transition-all duration-500",m==="preview"&&"bg-black/30",m==="opening"&&"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 animate-pulse scale-110",m==="opened"&&"bg-gradient-to-br from-emerald-500/20 to-green-500/10"),style:{boxShadow:m==="opening"?`0 0 60px ${w.accent}40`:m==="opened"?"0 0 40px rgba(34, 197, 94, 0.3)":"none"},children:[m==="opening"&&G.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-yellow-400/50 animate-ping"}),m!=="opened"?G.jsx("img",{src:w.image,alt:w.name,className:En("h-48 w-48 object-contain transition-all duration-500",m==="opening"&&"scale-90 blur-sm")}):G.jsx("div",{className:"flex h-full w-full items-center justify-center p-6 animate-fade-in",children:a!=null&&a.loot?G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"text-6xl mb-3",children:"🎁"}),G.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-emerald-300/80",children:"Ricompensa"}),G.jsx("p",{className:"mt-2 text-2xl font-bold text-emerald-100",children:g(a.loot)})]}):G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"text-5xl mb-3",children:"❌"}),G.jsx("p",{className:"text-sm text-emerald-100/70",children:"Nessun bottino"})]})})]}),m==="preview"?G.jsx("button",{type:"button",onClick:d,disabled:f<=0,className:En("mt-8 rounded-full px-8 py-3 font-semibold uppercase tracking-[0.35em] transition-all duration-300",f>0?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-lg shadow-yellow-500/30 hover:scale-105 hover:shadow-xl hover:shadow-yellow-500/40":"cursor-not-allowed border border-white/10 bg-white/10 text-white/40"),children:"Apri Baule"}):null,m==="opening"?G.jsxs("div",{className:"mt-8 flex flex-col items-center gap-2",children:[G.jsxs("div",{className:"flex gap-2",children:[G.jsx("div",{className:"h-3 w-3 animate-bounce rounded-full bg-yellow-400",style:{animationDelay:"0ms"}}),G.jsx("div",{className:"h-3 w-3 animate-bounce rounded-full bg-yellow-400",style:{animationDelay:"150ms"}}),G.jsx("div",{className:"h-3 w-3 animate-bounce rounded-full bg-yellow-400",style:{animationDelay:"300ms"}})]}),G.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.35em] text-yellow-200",children:"Apertura in corso..."})]}):null,m==="opened"?G.jsxs("div",{className:"mt-6 flex w-full max-w-md flex-col gap-4 animate-fade-in",children:[a!=null&&a.medalUnlocked?G.jsx("div",{className:"rounded-full border border-yellow-400/40 bg-yellow-400/10 px-6 py-2 text-center",children:G.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-yellow-300",children:"✨ Nuova medaglietta ottenuta!"})}):null,G.jsx("div",{className:"flex gap-3",children:G.jsxs("button",{type:"button",onClick:l,disabled:(o&&b[o]?b[o]:0)<=0,className:En("flex-1 rounded-full border px-6 py-3 font-semibold uppercase tracking-[0.35em] transition-all duration-300",(o&&b[o]?b[o]:0)>0?"border-yellow-400/60 bg-yellow-400/10 text-yellow-200 hover:scale-105 hover:bg-yellow-400/20 hover:shadow-lg hover:shadow-yellow-400/30":"cursor-not-allowed border-white/10 bg-white/5 text-white/30"),children:["Apri Altro (",o&&b[o]?b[o]:0,")"]})})]}):null]}):G.jsx("p",{className:"text-sm text-white/60",children:"Scegli un baule per visualizzare i dettagli e aprirlo."})]})]}),G.jsxs("section",{className:"mt-10 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg",children:[G.jsx("h2",{className:"text-lg font-semibold uppercase tracking-[0.3em] text-white/70",children:"Storia ricompense"}),v.length?G.jsx("ul",{className:"mt-4 space-y-3 text-sm",children:v.slice().reverse().map((x,_)=>G.jsxs("li",{className:"flex items-center justify-between rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[G.jsxs("div",{children:[G.jsx("p",{className:"font-semibold text-white",children:x.rarity}),G.jsx("p",{className:"text-xs text-white/60",children:new Date(x.time).toLocaleString()})]}),G.jsx("span",{className:"text-sm text-yellow-200",children:g(x.loot??null)})]},`${x.time}-${_}`))}):G.jsx("p",{className:"mt-4 text-sm text-white/60",children:"Nessun baule aperto finora."})]})]})]})},mS=()=>{const r=[{name:"Luca Bertotto",role:"Project Manager & Graphics"},{name:"Marco Bertotto",role:"Development Support"},{name:"Matteo Bertotto",role:"Game Design & Rules"},{name:"Kevin Delugan",role:"Graphics & Prototype Development"},{name:"Philip Fleckinger",role:"Database Design & Game Logic"}];return G.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[G.jsxs("div",{className:"absolute inset-0 -z-10",children:[G.jsx("div",{className:"absolute inset-0 bg-[url('/assets/lobby/sfondo_lobby.png')] bg-cover bg-center blur"}),G.jsx("div",{className:"absolute inset-0 bg-black/70"})]}),G.jsxs("div",{className:"mx-auto flex min-h-screen w-full max-w-[960px] flex-col items-center gap-10 px-6 py-12 text-center",children:[G.jsxs("header",{className:"flex w-full items-center justify-between text-xs uppercase tracking-[0.35em] text-white/60",children:[G.jsx("span",{children:"Crediti"}),G.jsx(Wr,{to:"/",className:"rounded-full border border-white/30 px-4 py-1 text-xs uppercase tracking-widest transition-colors hover:border-[#a67c52] hover:text-[#a67c52]",children:"Torna al menu"})]}),G.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[G.jsx("h1",{className:"text-5xl font-display uppercase tracking-[0.5em] text-white drop-shadow",children:"B8 Studios"}),G.jsx("p",{className:"max-w-lg text-sm text-white/60",children:"Un progetto creato con passione e dedizione dal team B8 Studios. Grazie per aver aperto le nostre porte."})]}),G.jsx("ul",{className:"w-full space-y-4 text-center",children:r.map(n=>G.jsxs("li",{className:"group rounded-3xl border border-white/15 bg-white/10 py-4 px-4 backdrop-blur transition-all hover:bg-white/20 hover:border-[#a67c52]",children:[G.jsx("span",{className:"block text-xs uppercase tracking-[0.3em] text-white/60 mb-1 transition-colors group-hover:text-[#a67c52]",children:n.role}),G.jsx("span",{className:"block text-lg font-semibold tracking-[0.25em] text-white transition-colors group-hover:text-[#a67c52]",children:n.name})]},n.name))})]})]})},Zp=r=>`/assets/armi/${`${encodeURIComponent(r.toLowerCase())}.png`}`,gS=["bullets","shells","arrows","darts","grenades"],Jp={bullets:"Proiettili",shells:"Cartucce",arrows:"Frecce",darts:"Dardi",grenades:"Granate"},yS={bullets:0,shells:0,arrows:0,darts:0,grenades:0},em=r=>r==="Small"?"Piccolo":"Grande",vS=()=>{var E;const{save:r,configs:n,feedAnimal:o,growAnimal:t}=Mr(S=>({save:S.save,configs:S.configs,feedAnimal:S.feedAnimal,growAnimal:S.growAnimal})),[m,c]=Ne.useState("animals"),[a,h]=Ne.useState(null),[s,p]=Ne.useState(null),b=(n==null?void 0:n.animals)??[],v=(n==null?void 0:n.weapons)??[];Ne.useEffect(()=>{console.debug("[InventoryRoute] Game state snapshot:",Mr.getState())},[]);const i=(r==null?void 0:r.animals.owned)??[],f=(r==null?void 0:r.weapons)??[],u=(r==null?void 0:r.inventory.food)??0,g=(r==null?void 0:r.inventory.ammo)??yS,y=Ne.useMemo(()=>{const S=[];return i.forEach((P,N)=>{const C=b.find($=>$.id===P.configId)??null,I=Wa(C,P),L=mf(C,P),F=gf(C,P),D=I.staminaCap>0?Math.round(Math.max(0,P.stamina)/I.staminaCap*100):0,B=I.lifeCap>0?Math.round(Math.max(0,P.life)/I.lifeCap*100):0;S.push({index:N,instance:P,config:C,name:(C==null?void 0:C.kind)??`#${P.configId}`,stats:I,readiness:L,missingStamina:F,staminaPercent:D,lifePercent:B})}),S},[i,b]),d=Ne.useMemo(()=>y.reduce((S,P)=>(S[P.readiness].push(P),S),{ready:[],recovering:[],fallen:[]}),[y]),l=Ne.useMemo(()=>a===null?null:y.find(S=>S.index===a)??null,[a,y]),w=Ne.useMemo(()=>{if(!l||!l.config||l.instance.size!=="Small")return null;const S={...l.instance,size:"Adult",life:l.config.life,stamina:l.config.staminaMax};return Wa(l.config,S)},[l]);Ne.useMemo(()=>gS.map(S=>({kind:S,amount:g[S]??0})),[g]);const x=Ne.useMemo(()=>{if(s===null)return null;const S=f[s];if(!S)return null;const P=v.find(C=>C.name===S.name);if(!P)return null;const N=g[P.ammoType]??0;return{weapon:S,config:P,ammoAvailable:N}},[s,f,v,g]),_=S=>{o(S)},T=S=>{t(S)};return G.jsxs("div",{className:"relative min-h-screen overflow-hidden text-white",children:[G.jsxs("div",{className:"absolute inset-0 -z-10",children:[G.jsx("div",{className:"absolute inset-0 bg-[url('/assets/lobby/sfondo_lobby.png')] bg-cover bg-center blur"}),G.jsx("div",{className:"absolute inset-0 bg-black/70"})]}),G.jsxs("div",{className:"mx-auto flex min-h-screen w-full max-w-[1400px] flex-col gap-8 px-6 py-10",children:[G.jsxs("header",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:[G.jsxs("div",{children:[G.jsx("h1",{className:"text-4xl font-display uppercase tracking-[0.5em] text-white/80",children:"Inventario"}),G.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Gestisci animali e armi disponibili prima di entrare in battaglia."})]}),G.jsx(Wr,{to:"/lobby",className:"rounded-full border border-white/30 px-5 py-2 text-xs uppercase tracking-[0.35em] text-white/70 transition hover:border-[#a67c52] hover:text-[#a67c52]",children:"Torna alla lobby"})]}),G.jsxs("section",{className:"flex flex-col gap-6 rounded-3xl border border-white/10 bg-white/10 p-6 shadow-xl backdrop-blur",children:[G.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm uppercase text-white/70",children:[G.jsxs("div",{className:"rounded-full border border-white/15 bg-black/40 px-4 py-2",children:[G.jsx("span",{className:"text-white/50",children:"Monete"}),G.jsx("span",{className:"ml-3 font-semibold text-white",children:(r==null?void 0:r.inventory.coins)??0})]}),G.jsxs("div",{className:"rounded-full border border-white/15 bg-black/40 px-4 py-2",children:[G.jsx("span",{className:"text-white/50",children:"Cibo"}),G.jsx("span",{className:"ml-3 font-semibold text-white",children:(r==null?void 0:r.inventory.food)??0})]})]}),G.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[G.jsx("button",{type:"button",onClick:()=>{c("weapons"),p(0)},className:`rounded-full px-6 py-2 text-sm uppercase tracking-[0.3em] transition ${m==="weapons"?"border border-[#a67c52] bg-[#a67c52]/20 text-[#a67c52]":"border border-white/20 bg-black/40 text-white/60 hover:border-[#a67c52] hover:text-[#a67c52]"}`,children:"Armi"}),G.jsx("button",{type:"button",onClick:()=>{var P;c("animals");const S=((P=y.find(N=>N.readiness!=="fallen"))==null?void 0:P.index)??null;h(S)},className:`rounded-full px-6 py-2 text-sm uppercase tracking-[0.3em] transition ${m==="animals"?"border border-[#a67c52] bg-[#a67c52]/20 text-[#a67c52]":"border border-white/20 bg-black/40 text-white/60 hover:border-[#a67c52] hover:text-[#a67c52]"}`,children:"Animali"})]}),m==="animals"?G.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.2fr_1fr]",children:[G.jsx("div",{className:"space-y-5 overflow-y-auto rounded-2xl border border-white/10 bg-black/30 p-4 max-h-[420px]",children:y.length===0?G.jsx("p",{className:"text-sm text-white/60",children:"Non hai ancora trovato animali. Esplora nuove porte per ampliare la squadra."}):G.jsx(G.Fragment,{children:[{key:"ready",title:"Pronti a combattere"},{key:"recovering",title:"In recupero"}].map(({key:S,title:P})=>{const N=d[S];return N.length?G.jsxs("div",{children:[G.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:P}),G.jsx("div",{className:"mt-2 space-y-3",children:N.map(C=>{var $;const I=a===C.index,L=C.readiness==="ready"?"Pronto":"In recupero",F=C.readiness==="ready"?"border-emerald-400/40 bg-emerald-500/10 text-emerald-200":"border-amber-300/40 bg-amber-400/10 text-amber-200",D=C.readiness==="ready"?"Stamina al massimo.":`Mancano ${C.missingStamina} stamina - costo cibo ${C.missingStamina}`,B=id(C.config);return G.jsx("button",{type:"button",onClick:()=>h(C.index),className:`w-full rounded-2xl border px-4 py-3 text-left transition ${I?"border-[#a67c52] bg-[#a67c52]/10":"border-white/10 bg-white/5 hover:border-[#a67c52]/60"}`,children:G.jsxs("div",{className:"flex items-start gap-3",children:[G.jsx("div",{className:"flex-shrink-0",children:G.jsx("img",{src:B,alt:C.name,className:"h-14 w-14 rounded-lg object-contain bg-black/20 p-1",draggable:!1,onError:ld})}),G.jsxs("div",{className:"flex-1 min-w-0",children:[G.jsxs("div",{className:"flex items-start justify-between text-sm text-white/80",children:[G.jsxs("div",{children:[G.jsx("span",{className:"font-semibold text-white",children:C.name}),G.jsx("span",{className:"ml-3 text-xs uppercase text-white/50",children:em(C.instance.size)})]}),G.jsx("span",{className:`rounded-full border px-2 py-0.5 text-[10px] uppercase tracking-[0.2em] ${F}`,children:L})]}),G.jsx("div",{className:"mt-3 h-2 w-full overflow-hidden rounded bg-white/10",children:G.jsx("div",{className:"h-full bg-emerald-400",style:{width:`${Math.min(100,Math.max(0,C.staminaPercent))}%`}})}),G.jsx("p",{className:"mt-2 text-xs text-white/60",children:D})]})]})},`${(($=C.config)==null?void 0:$.id)??"cfg"}-${C.index}`)})})]},S):S==="ready"?null:G.jsxs("div",{children:[G.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:P}),G.jsx("p",{className:"mt-1 text-xs text-white/50",children:S==="recovering"?"Nessun animale sta recuperando stamina.":null})]},S)})})}),G.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-5",children:l?G.jsxs("div",{className:"space-y-4 text-sm text-white/80",children:[G.jsxs("div",{className:"flex items-start gap-4",children:[G.jsx("div",{className:"flex-shrink-0",children:G.jsx("img",{src:id(l.config),alt:l.name,className:"h-24 w-24 rounded-xl object-contain bg-black/30 p-2",draggable:!1,onError:ld})}),G.jsxs("div",{className:"flex-1",children:[G.jsx("h2",{className:"text-xl font-semibold text-white",children:l.name}),G.jsxs("p",{className:"text-xs uppercase text-white/50",children:[em(l.instance.size)," -"," ",l.readiness==="ready"?"Pronto":l.readiness==="recovering"?"In recupero":"Ko"]})]})]}),G.jsxs("div",{className:"space-y-3 text-xs uppercase text-white/60",children:[G.jsxs("div",{children:[G.jsx("span",{children:"Stamina"}),G.jsx("div",{className:"mt-1 h-2 w-full overflow-hidden rounded bg-white/10",children:G.jsx("div",{className:"h-full bg-emerald-400",style:{width:`${Math.min(100,Math.max(0,Math.round(l.instance.stamina/l.stats.staminaCap*100)))}%`}})}),G.jsxs("span",{className:"mt-1 block text-white/50",children:[l.instance.stamina,"/",l.stats.staminaCap]})]}),G.jsxs("div",{children:[G.jsx("span",{children:"Vita"}),G.jsx("div",{className:"mt-1 h-2 w-full overflow-hidden rounded bg-white/10",children:G.jsx("div",{className:"h-full bg-sky-400",style:{width:`${Math.min(100,Math.max(0,Math.round(l.instance.life/l.stats.lifeCap*100)))}%`}})}),G.jsxs("span",{className:"mt-1 block text-white/50",children:[l.instance.life,"/",l.stats.lifeCap]})]})]}),G.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-white/70",children:[G.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[G.jsx("p",{className:"uppercase text-white/40",children:"Danno"}),G.jsx("p",{className:"text-lg font-semibold text-white",children:l.stats.damage})]}),G.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[G.jsx("p",{className:"uppercase text-white/40",children:"Velocità"}),G.jsx("p",{className:"text-lg font-semibold text-white",children:l.stats.attackSpeed})]}),G.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[G.jsx("p",{className:"uppercase text-white/40",children:"Armatura"}),G.jsx("p",{className:"text-lg font-semibold text-white",children:l.instance.armor??0})]})]}),G.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3 text-xs text-white/70",children:[G.jsx("p",{className:"uppercase text-white/40",children:"Recupero"}),l.readiness==="recovering"?G.jsxs("p",{className:"mt-1",children:["Mancano"," ",G.jsx("span",{className:"font-semibold text-white",children:l.missingStamina})," ","stamina - costo cibo"," ",G.jsx("span",{className:"font-semibold text-white",children:l.missingStamina})]}):l.readiness==="ready"?G.jsx("p",{className:"mt-1 text-white/60",children:"Pronto a combattere."}):G.jsx("p",{className:"mt-1 text-white/60",children:"Dibattimento terminato: aspetta la prossima porta per recuperare."}),G.jsx("p",{className:"mt-2 text-[10px] uppercase tracking-[0.25em] text-white/40",children:"1 cibo = 1 stamina"})]}),l.instance.size==="Small"&&l.config&&w?G.jsxs("div",{className:"space-y-2 text-xs text-white/70",children:[G.jsx("h3",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Crescita a adulto"}),G.jsxs("p",{className:"text-white/60",children:["Costo crescita:"," ",G.jsxs("span",{className:"font-semibold text-white",children:[l.config.growthFoodCost," cibo"]})]}),G.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[G.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/30 p-3",children:[G.jsx("p",{className:"uppercase text-white/40",children:"Statistiche attuali"}),G.jsxs("ul",{className:"mt-1 space-y-1 text-white/70",children:[G.jsxs("li",{children:["Vita ",l.stats.lifeCap]}),G.jsxs("li",{children:["Danno ",l.stats.damage]}),G.jsxs("li",{children:["Velocità ",l.stats.attackSpeed]}),G.jsxs("li",{children:["Stamina ",l.stats.staminaCap]})]})]}),G.jsxs("div",{className:"rounded-lg border border-amber-300/40 bg-amber-400/10 p-3",children:[G.jsx("p",{className:"uppercase text-amber-200",children:"Forma adulta"}),G.jsxs("ul",{className:"mt-1 space-y-1 text-amber-100",children:[G.jsxs("li",{children:["Vita ",w.lifeCap]}),G.jsxs("li",{children:["Danno ",w.damage]}),G.jsxs("li",{children:["Velocità ",w.attackSpeed]}),G.jsxs("li",{children:["Stamina ",w.staminaCap]})]})]})]})]}):null,(E=l.config)!=null&&E.upgradableArmor?G.jsx("p",{className:"text-[11px] uppercase tracking-[0.25em] text-white/40",children:"Può equipaggiare armature quando disponibili."}):null,G.jsxs("div",{className:"flex flex-wrap gap-3",children:[G.jsx("button",{type:"button",disabled:l.instance.stamina>=l.stats.staminaCap||u<=0,onClick:()=>_(l.index),className:"rounded-full border border-emerald-400 px-4 py-2 text-xs uppercase tracking-[0.35em] text-emerald-200 transition hover:bg-emerald-400/10 disabled:cursor-not-allowed disabled:border-emerald-900 disabled:text-emerald-900",children:"Nutri"}),l.instance.size==="Small"&&l.config?G.jsx("button",{type:"button",disabled:u<l.config.growthFoodCost,onClick:()=>T(l.index),className:"rounded-full border border-amber-300 px-4 py-2 text-xs uppercase tracking-[0.35em] text-amber-200 transition hover:bg-amber-300/10 disabled:cursor-not-allowed disabled:border-amber-900 disabled:text-amber-900",children:"Fai crescere"}):null,G.jsx("button",{type:"button",onClick:()=>h(null),className:"ml-auto rounded-full border border-white/20 px-4 py-2 text-xs uppercase tracking-[0.35em] text-white/60 transition hover:border-white/40 hover:text-white",children:"Indietro"})]})]}):G.jsx("p",{className:"text-sm text-white/60",children:"Seleziona un animale per vedere i dettagli e nutrirlo."})})]}):G.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.2fr_1fr]",children:[G.jsx("div",{className:"space-y-3 overflow-y-auto rounded-2xl border border-white/10 bg-black/30 p-4 max-h-[420px]",children:f.length===0?G.jsx("p",{className:"text-sm text-white/60",children:"Nessuna arma disponibile."}):f.map((S,P)=>{const N=v.find(B=>B.name===S.name);if(!N)return null;const C=s===P,I=g[N.ammoType]??0,L=Math.min(I,N.maxAmmo),F=N.maxAmmo>0?Math.round(L/N.maxAmmo*100):0,D=Zp(N.displayName);return G.jsx("button",{type:"button",onClick:()=>p(P),className:`w-full rounded-2xl border px-4 py-3 text-left transition ${C?"border-[#a67c52] bg-[#a67c52]/10":"border-white/10 bg-white/5 hover:border-[#a67c52]/60"}`,children:G.jsxs("div",{className:"flex items-start gap-3",children:[G.jsxs("div",{className:"flex-shrink-0 relative",children:[G.jsx("img",{src:"/assets/armi/badge.png",alt:"badge",className:"h-14 w-14 object-contain",draggable:!1}),G.jsx("img",{src:D,alt:N.displayName,className:"absolute inset-0 h-14 w-14 object-contain p-1",draggable:!1,onError:B=>{B.currentTarget.style.display="none"}})]}),G.jsxs("div",{className:"flex-1 min-w-0",children:[G.jsxs("div",{className:"flex items-center justify-between text-sm text-white/80",children:[G.jsx("span",{className:"font-semibold text-white",children:N.displayName}),G.jsx("span",{className:"text-xs uppercase text-white/50",children:Jp[N.ammoType]})]}),G.jsx("div",{className:"mt-3 h-2 w-full overflow-hidden rounded bg-white/10",children:G.jsx("div",{className:"h-full",style:{backgroundColor:"#a67c52",width:`${Math.min(100,Math.max(0,F))}%`}})}),G.jsxs("p",{className:"mt-2 text-xs uppercase text-white/60",children:["Disponibili:"," ",G.jsx("span",{className:"font-semibold text-white",children:I})]})]})]})},S.name)})}),G.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/40 p-5",children:x?G.jsxs("div",{className:"space-y-4 text-sm text-white/80",children:[G.jsxs("div",{className:"flex items-start gap-4",children:[G.jsxs("div",{className:"flex-shrink-0 relative",children:[G.jsx("img",{src:"/assets/armi/badge.png",alt:"badge",className:"h-24 w-24 object-contain",draggable:!1}),G.jsx("img",{src:Zp(x.config.displayName),alt:x.config.displayName,className:"absolute inset-0 h-24 w-24 object-contain p-2",draggable:!1,onError:S=>{S.currentTarget.style.display="none"}})]}),G.jsxs("div",{className:"flex-1",children:[G.jsx("h2",{className:"text-xl font-semibold text-white",children:x.config.displayName}),G.jsx("p",{className:"text-xs uppercase text-white/50",children:Jp[x.config.ammoType]})]})]}),G.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-white/70",children:[G.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[G.jsx("p",{className:"uppercase text-white/40",children:"Munizioni disponibili"}),G.jsx("p",{className:"text-lg font-semibold text-white",children:x.ammoAvailable}),G.jsxs("p",{className:"mt-1 text-[10px] uppercase text-white/40",children:["Max per attacco:"," ",G.jsx("span",{className:"font-semibold text-white/70",children:x.config.maxAmmo})]})]}),G.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[G.jsx("p",{className:"uppercase text-white/40",children:"Danno per colpo"}),G.jsx("p",{className:"text-lg font-semibold text-white",children:x.config.damagePerShot})]})]}),G.jsx("button",{type:"button",onClick:()=>p(null),className:"ml-auto rounded-full border border-white/20 px-4 py-2 text-xs uppercase tracking-[0.35em] text-white/60 transition hover:border-white/40 hover:text-white",children:"Indietro"})]}):G.jsx("p",{className:"text-sm text-white/60",children:"Seleziona un'arma per controllare le statistiche."})})]})]})]})]})},bS=()=>{const{save:r,acknowledgeMedalHighlight:n}=Mr(c=>({save:c.save,acknowledgeMedalHighlight:c.acknowledgeMedalHighlight}));Ne.useEffect(()=>{r!=null&&r.medals.highlighted&&n()},[r==null?void 0:r.medals.highlighted,n]);const o=xa.length,t=xa.reduce((c,a)=>{const h=r==null?void 0:r.medals.entries[a.type];return h!=null&&h.unlocked?c+1:c},0),m=o>0?Math.round(t/o*100):0;return G.jsx("div",{className:"min-h-screen text-white bg-gradient-to-b from-[#1a120b] via-[#0f0a07] to-black",children:G.jsxs("div",{className:"mx-auto flex min-h-screen w-full max-w-[1440px] flex-col px-6 py-10",children:[G.jsxs("header",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:[G.jsxs("div",{children:[G.jsx("h1",{className:"text-3xl font-display uppercase tracking-[0.4em] text-white/80",children:"Bacheca Medagliette"}),G.jsx("p",{className:"mt-1 text-sm text-white/60",children:"Colleziona le medagliette aprendo le porte corrispondenti."})]}),G.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[G.jsxs("div",{className:"rounded-full border border-white/10 bg-white/5 px-4 py-2",children:[G.jsx("span",{className:"font-semibold text-white",children:t}),G.jsxs("span",{className:"text-white/60",children:["/",o]}),G.jsxs("span",{className:"ml-2 text-white/50",children:[m,"%"]})]}),G.jsx(Wr,{to:"/house",className:"rounded-full border border-white/30 px-4 py-2 text-xs uppercase tracking-[0.35em] text-white/80 transition hover:border-[#a67c52] hover:text-[#a67c52]",children:"Torna alla casa"})]})]}),G.jsx("section",{className:"mt-10 grid flex-1 gap-6 rounded-3xl border border-white/10 bg-white/10 p-6 backdrop-blur-sm",children:G.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:xa.map(c=>{const a=r==null?void 0:r.medals.entries[c.type],h=(a==null?void 0:a.unlocked)??!1;return G.jsxs("div",{className:"group relative flex flex-col items-center gap-3 rounded-3xl border border-white/10 bg-black/30 p-6 text-center transition-colors hover:border-[#a67c52]/60 hover:bg-black/40",children:[G.jsxs("div",{className:"relative flex h-28 w-28 items-center justify-center rounded-full border-4 border-white/10 bg-[#2b2118] shadow-inner transition group-hover:shadow-lg",children:[G.jsx("div",{className:"h-24 w-24 rounded-full transition-all",style:{background:h?`radial-gradient(circle at 30% 30%, #ffffff, ${c.color})`:"radial-gradient(circle at 30% 30%, #4a3829, #1a120b)"}}),h?null:G.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-2xl text-white/40",children:"?"})]}),G.jsxs("div",{children:[G.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-white/70 transition-colors group-hover:text-[#a67c52]",children:Ls[c.type]}),G.jsx("p",{className:"mt-2 text-xs text-white/60",children:c.description}),G.jsxs("p",{className:"mt-2 text-xs uppercase text-[#a67c52]",children:["Drop: ",(c.dropRate*100).toFixed(2),"%"]}),a!=null&&a.unlockedAt?G.jsxs("p",{className:"mt-1 text-[11px] text-white/40",children:["Sbloccata il ",new Date(a.unlockedAt).toLocaleDateString()]}):G.jsx("p",{className:"mt-1 text-[11px] text-white/30",children:"Non ancora trovata"})]})]},c.type)})})})]})})},xS=[{type:"white",summary:"Permette di accumulare ricchezza con costanza, ma limita l’accesso a opportunità più vantaggiose.",uniqueRewards:["Monete (3–7)","Cibo (1–3)"],conflicts:"Blocca la porta Gialla per 1–2 turni."},{type:"black",summary:"Imprevedibile e instabile: può alterare l’equilibrio delle scelte, con rischi elevati e ricompense incerte.",uniqueRewards:[],conflicts:"Blocca la porta Arancione e 2 porte casuali diverse per 3–5 turni."},{type:"red",summary:"Rafforza la potenza offensiva, ma riduce il controllo e la capacità di adattamento.",uniqueRewards:["Proiettili (1–2)","Granata (1)"],conflicts:"Blocca la porta Blu e Verde chiaro per 2–4 turni."},{type:"orange",summary:"Potenzia la difesa delle creature alleate, ma rallenta la preparazione e il recupero.",uniqueRewards:["Armatura (1)","Granata (1)"],conflicts:"Blocca la porta Verde chiaro e Verde scuro per 3–5 turni."},{type:"yellow",summary:"Amplia le risorse economiche, ma può saturare il mercato e indebolire altre fonti di guadagno.",uniqueRewards:["Monete (5–25)"],conflicts:"Blocca la porta Bianca e Gialla per 1–3 turni."},{type:"purple",summary:"Favorisce la crescita e la sostenibilità, ma tende a sbilanciare la stabilità generale.",uniqueRewards:["Cibo (3–7)","Monete (3–7)"],conflicts:"Blocca la porta Verde scuro e Marrone per 2–3 turni."},{type:"blue",summary:"Aumenta la forza dell’arsenale, ma limita l’accesso a risorse di supporto e flessibilità.",uniqueRewards:["Cartucce (1–3)","Granata (1)"],conflicts:"Blocca la porta Rossa e Arancione per 3–4 turni."},{type:"lightBlue",summary:"Offre equilibrio e precisione, ma richiede una gestione attenta per non perdere slancio.",uniqueRewards:["Frecce (1–4)","Dardi (1–4)"],conflicts:"Blocca la porta Verde scuro per 2–3 turni."},{type:"brown",summary:"Fornisce una protezione moderata e costante, ma rende più difficili alcune scelte future.",uniqueRewards:["Armatura (1)"],conflicts:"Blocca la porta Arancione e Verde chiaro per 3–4 turni."},{type:"lime",summary:"Favorisce la sopravvivenza e la resistenza, ma riduce la spinta offensiva.",uniqueRewards:["Cibo (20)"],conflicts:"Blocca la porta Rossa, Blu e Azzurra per 2–4 turni."},{type:"green",summary:"Bilancia potenza e sostegno, ma limita l’aggressività diretta nel lungo periodo.",uniqueRewards:["Dardi (1–3)","Cibo (3–7)"],conflicts:"Blocca la porta Azzurra e Rossa per 2–3 turni."},{type:"neutral",summary:"Sempre accessibile. Mantiene aperto il percorso e consente di proseguire anche nei momenti più critici, sebbene con basse probabilità di trovare ricompense.",uniqueRewards:["Monete (1–3)","Cibo (1–3)","Dardi (1–3)","Frecce (1–3)","Proiettili (1–2)","Cartucce (1)","Granate (1)"],conflicts:"Blocca la porta Nera per 1 turno."}],wS=()=>xS.map(r=>({...r,name:Ls[r.type]})),Ar=r=>{const n=r.trim();return n.startsWith("#")?n.length===4?`#${n[1]}${n[1]}${n[2]}${n[2]}${n[3]}${n[3]}`.toLowerCase():n.toLowerCase():Ar(`#${n}`)},kl=r=>{const n=Ar(r).replace("#",""),o=parseInt(n.slice(0,2),16),t=parseInt(n.slice(2,4),16),m=parseInt(n.slice(4,6),16);return{r:o,g:t,b:m}},jS=(r,n)=>{const{r:o,g:t,b:m}=kl(r);return`rgba(${o}, ${t}, ${m}, ${n})`},ud=r=>{const{r:n,g:o,b:t}=kl(r),m=s=>{const p=s/255;return p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4)},c=m(n),a=m(o),h=m(t);return .2126*c+.7152*a+.0722*h},tm=(r,n)=>{const o=Ar(r),t=Ar(n),m=ud(o),c=ud(t),a=Math.max(m,c),h=Math.min(m,c);return(a+.05)/(h+.05)},_S=(r,n,o)=>{const t=kl(r),m=kl(n),c=(h,s)=>Math.round(h+(s-h)*o),a=h=>h.toString(16).padStart(2,"0");return`#${a(c(t.r,m.r))}${a(c(t.g,m.g))}${a(c(t.b,m.b))}`},Qo=(r,n,o="auto",t=4.5)=>{const m=Ar(n),c=ud(m),a=Ar(r),h=()=>o==="lighter"?"#ffffff":o==="darker"||c>.5?"#000000":"#ffffff";if(tm(a,m)>=t)return a;const s=h();for(let p=.15;p<=1;p+=.1){const b=_S(a,s,p);if(tm(b,m)>=t)return b}return s},SS=r=>{const n=av[r],o=Ar(Lr(n,.18)),t=Ar(Lr(n,-.35)),m=Ar(Lr(n,-.5)),c=ad(t),a=Qo(c,t,"auto",5),h=a==="#f8fafc",s=Lr(a,h?-.25:-.4),p=Qo(s,t,h?"lighter":"darker",4.2),b=Lr(a,h?-.4:-.55),v=Qo(b,t,h?"lighter":"darker",3.6),i=Ar(Lr(n,h?-.2:.28)),f=Qo(ad(i),i),u=Ar(Lr(i,-.3)),g=Ar(Lr(n,h?-.65:.42)),y=Ar(Lr(g,-.22)),d=Qo(Lr(a,h?-.18:-.3),g,h?"lighter":"darker",4.5),l=Qo(Lr(a,h?-.35:-.5),g,h?"lighter":"darker",3.8);return{backgroundStart:o,backgroundEnd:t,borderColor:m,shadow:jS(n,.35),primaryText:a,secondaryText:p,subtleText:v,pillBackground:i,pillText:f,pillBorder:u,panelBackground:g,panelBorder:y,panelText:d,panelLabel:l}},kS=()=>{const r=wS();return G.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0b0c10] via-[#101321] to-[#050608] text-white",children:G.jsxs("div",{className:"mx-auto flex min-h-screen w-full max-w-[1400px] flex-col gap-8 px-6 py-10",children:[G.jsxs("header",{className:"flex items-center justify-between border-b border-white/10 pb-5",children:[G.jsxs("div",{children:[G.jsx("h1",{className:"text-4xl font-display uppercase tracking-[0.5em] text-white/80",children:"Tipologia Porte"}),G.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Ogni porta offre ricompense uniche e può bloccarne temporaneamente altre."})]}),G.jsx(Wr,{to:"/lobby",className:"rounded-full border border-white/30 px-5 py-2 text-xs uppercase tracking-[0.35em] text-white/70 transition hover:border-accent hover:text-accent",children:"Torna alla lobby"})]}),G.jsx("section",{className:"grid gap-6 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-lg backdrop-blur lg:grid-cols-2",children:r.map(n=>{const o=SS(n.type);return G.jsxs("article",{className:"flex h-full flex-col gap-4 rounded-3xl border p-5 shadow-lg transition-transform duration-200 hover:-translate-y-1",style:{background:`linear-gradient(135deg, ${o.backgroundStart}, ${o.backgroundEnd})`,borderColor:o.borderColor,color:o.primaryText,boxShadow:`0 18px 28px ${o.shadow}`},children:[G.jsxs("header",{className:"flex items-baseline justify-between gap-3",children:[G.jsx("h2",{className:"text-xl font-semibold uppercase tracking-[0.35em]",style:{color:o.primaryText},children:n.name}),G.jsx("span",{className:"rounded-full border px-3 py-1 text-xs uppercase tracking-[0.35em]",style:{backgroundColor:o.pillBackground,borderColor:o.pillBorder,color:o.pillText},children:n.type})]}),G.jsx("p",{className:"text-sm",style:{color:o.secondaryText},children:n.summary}),G.jsxs("div",{children:[G.jsx("h3",{className:"text-xs uppercase tracking-[0.35em]",style:{color:o.subtleText},children:"Ricompense"}),G.jsx("ul",{className:"mt-2 list-disc space-y-1 pl-5 text-sm",style:{color:o.secondaryText},children:n.uniqueRewards.map(t=>G.jsx("li",{children:t},t))})]}),G.jsxs("div",{className:"mt-auto rounded-2xl border p-3 text-xs",style:{backgroundColor:o.panelBackground,borderColor:o.panelBorder,color:o.panelText},children:[G.jsx("span",{className:"block uppercase tracking-[0.35em]",style:{color:o.panelLabel},children:"Contrasti"}),G.jsx("p",{className:"mt-1 text-sm",style:{color:o.panelText},children:n.conflicts})]})]},n.type)})})]})})},ES=()=>{const{status:r,bootstrap:n,onlineStatus:o,setOnlineStatus:t}=Mr(m=>({status:m.status,bootstrap:m.bootstrap,onlineStatus:m.onlineStatus,setOnlineStatus:m.setOnlineStatus}));return Ne.useEffect(()=>{r==="idle"&&n()},[r,n]),Ne.useEffect(()=>{let m=!1;const c=async()=>{if(typeof window<"u"&&window.__FORCE_ONLINE__===!0){t("online");return}try{t("checking");const s=new AbortController,p=window.setTimeout(()=>s.abort(),2e3),b=await fetch("/assets/file_structure.json",{method:"GET",cache:"no-store",signal:s.signal});window.clearTimeout(p),m||t(b.ok?"online":"offline")}catch{m||t("offline")}};c();const a=()=>{c()},h=()=>{t("offline")};return window.addEventListener("online",a),window.addEventListener("offline",h),()=>{m=!0,window.removeEventListener("online",a),window.removeEventListener("offline",h)}},[t]),G.jsxs(G.Fragment,{children:[o==="offline"?G.jsx("div",{className:"fixed left-1/2 top-6 z-50 -translate-x-1/2 rounded-full bg-red-600 px-5 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-white shadow-lg",children:"Connessione richiesta"}):null,G.jsx(Ne.Suspense,{fallback:G.jsx("div",{className:"p-6 text-xl text-white",children:"Loading..."}),children:G.jsxs(rx,{children:[G.jsx(Pr,{path:"/",element:G.jsx(U2,{},"menu")}),G.jsx(Pr,{path:"/settings",element:G.jsx(Y2,{},"settings")}),G.jsx(Pr,{path:"/saves",element:G.jsx(L_,{},"saves")}),G.jsx(Pr,{path:"/lobby",element:G.jsx(H_,{},"lobby")}),G.jsx(Pr,{path:"/door",element:G.jsx(iS,{},"door")}),G.jsx(Pr,{path:"/house",element:G.jsx(hS,{},"house")}),G.jsx(Pr,{path:"/chest",element:G.jsx(pS,{},"chest")}),G.jsx(Pr,{path:"/credits",element:G.jsx(mS,{},"credits")}),G.jsx(Pr,{path:"/inventory",element:G.jsx(vS,{},"inventory")}),G.jsx(Pr,{path:"/medals",element:G.jsx(bS,{},"medals")}),G.jsx(Pr,{path:"/door-types",element:G.jsx(kS,{},"door-types")}),G.jsx(Pr,{path:"*",element:G.jsx(ex,{to:"/",replace:!0})})]})})]})},ft=r=>typeof r=="string",oa=()=>{let r,n;const o=new Promise((t,m)=>{r=t,n=m});return o.resolve=r,o.reject=n,o},rm=r=>r==null?"":""+r,TS=(r,n,o)=>{r.forEach(t=>{n[t]&&(o[t]=n[t])})},MS=/###/g,nm=r=>r&&r.indexOf("###")>-1?r.replace(MS,"."):r,om=r=>!r||ft(r),_a=(r,n,o)=>{const t=ft(n)?n.split("."):n;let m=0;for(;m<t.length-1;){if(om(r))return{};const c=nm(t[m]);!r[c]&&o&&(r[c]=new o),Object.prototype.hasOwnProperty.call(r,c)?r=r[c]:r={},++m}return om(r)?{}:{obj:r,k:nm(t[m])}},sm=(r,n,o)=>{const{obj:t,k:m}=_a(r,n,Object);if(t!==void 0||n.length===1){t[m]=o;return}let c=n[n.length-1],a=n.slice(0,n.length-1),h=_a(r,a,Object);for(;h.obj===void 0&&a.length;)c=`${a[a.length-1]}.${c}`,a=a.slice(0,a.length-1),h=_a(r,a,Object),h&&h.obj&&typeof h.obj[`${h.k}.${c}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${c}`]=o},CS=(r,n,o,t)=>{const{obj:m,k:c}=_a(r,n,Object);m[c]=m[c]||[],m[c].push(o)},El=(r,n)=>{const{obj:o,k:t}=_a(r,n);if(o)return o[t]},OS=(r,n,o)=>{const t=El(r,o);return t!==void 0?t:El(n,o)},hv=(r,n,o)=>{for(const t in n)t!=="__proto__"&&t!=="constructor"&&(t in r?ft(r[t])||r[t]instanceof String||ft(n[t])||n[t]instanceof String?o&&(r[t]=n[t]):hv(r[t],n[t],o):r[t]=n[t]);return r},Zo=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var PS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const LS=r=>ft(r)?r.replace(/[&<>"'\/]/g,n=>PS[n]):r;class NS{constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const o=this.regExpMap.get(n);if(o!==void 0)return o;const t=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,t),this.regExpQueue.push(n),t}}const AS=[" ",",","?","!",";"],RS=new NS(20),IS=(r,n,o)=>{n=n||"",o=o||"";const t=AS.filter(a=>n.indexOf(a)<0&&o.indexOf(a)<0);if(t.length===0)return!0;const m=RS.getRegExp(`(${t.map(a=>a==="?"?"\\?":a).join("|")})`);let c=!m.test(r);if(!c){const a=r.indexOf(o);a>0&&!m.test(r.substring(0,a))&&(c=!0)}return c},cd=function(r,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!r)return;if(r[n])return r[n];const t=n.split(o);let m=r;for(let c=0;c<t.length;){if(!m||typeof m!="object")return;let a,h="";for(let s=c;s<t.length;++s)if(s!==c&&(h+=o),h+=t[s],a=m[h],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&s<t.length-1)continue;c+=s-c+1;break}m=a}return m},Tl=r=>r&&r.replace("_","-"),DS={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,n){console&&console[r]&&console[r].apply(console,n)}};class Ml{constructor(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(n,o)}init(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=o.prefix||"i18next:",this.logger=n||DS,this.options=o,this.debug=o.debug}log(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];return this.forward(o,"log","",!0)}warn(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];return this.forward(o,"warn","",!0)}error(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];return this.forward(o,"error","")}deprecate(){for(var n=arguments.length,o=new Array(n),t=0;t<n;t++)o[t]=arguments[t];return this.forward(o,"warn","WARNING DEPRECATED: ",!0)}forward(n,o,t,m){return m&&!this.debug?null:(ft(n[0])&&(n[0]=`${t}${this.prefix} ${n[0]}`),this.logger[o](n))}create(n){return new Ml(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Ml(this.logger,n)}}var vn=new Ml;class tu{constructor(){this.observers={}}on(n,o){return n.split(" ").forEach(t=>{this.observers[t]||(this.observers[t]=new Map);const m=this.observers[t].get(o)||0;this.observers[t].set(o,m+1)}),this}off(n,o){if(this.observers[n]){if(!o){delete this.observers[n];return}this.observers[n].delete(o)}}emit(n){for(var o=arguments.length,t=new Array(o>1?o-1:0),m=1;m<o;m++)t[m-1]=arguments[m];this.observers[n]&&Array.from(this.observers[n].entries()).forEach(a=>{let[h,s]=a;for(let p=0;p<s;p++)h(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[h,s]=a;for(let p=0;p<s;p++)h.apply(h,[n,...t])})}}class am extends tu{constructor(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=n||{},this.options=o,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const o=this.options.ns.indexOf(n);o>-1&&this.options.ns.splice(o,1)}getResource(n,o,t){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=m.keySeparator!==void 0?m.keySeparator:this.options.keySeparator,a=m.ignoreJSONStructure!==void 0?m.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;n.indexOf(".")>-1?h=n.split("."):(h=[n,o],t&&(Array.isArray(t)?h.push(...t):ft(t)&&c?h.push(...t.split(c)):h.push(t)));const s=El(this.data,h);return!s&&!o&&!t&&n.indexOf(".")>-1&&(n=h[0],o=h[1],t=h.slice(2).join(".")),s||!a||!ft(t)?s:cd(this.data&&this.data[n]&&this.data[n][o],t,c)}addResource(n,o,t,m){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=[n,o];t&&(h=h.concat(a?t.split(a):t)),n.indexOf(".")>-1&&(h=n.split("."),m=o,o=h[1]),this.addNamespaces(o),sm(this.data,h,m),c.silent||this.emit("added",n,o,t,m)}addResources(n,o,t){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const c in t)(ft(t[c])||Array.isArray(t[c]))&&this.addResource(n,o,c,t[c],{silent:!0});m.silent||this.emit("added",n,o,t)}addResourceBundle(n,o,t,m,c){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},h=[n,o];n.indexOf(".")>-1&&(h=n.split("."),m=t,t=o,o=h[1]),this.addNamespaces(o);let s=El(this.data,h)||{};a.skipCopy||(t=JSON.parse(JSON.stringify(t))),m?hv(s,t,c):s={...s,...t},sm(this.data,h,s),a.silent||this.emit("added",n,o,t)}removeResourceBundle(n,o){this.hasResourceBundle(n,o)&&delete this.data[n][o],this.removeNamespaces(o),this.emit("removed",n,o)}hasResourceBundle(n,o){return this.getResource(n,o)!==void 0}getResourceBundle(n,o){return o||(o=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(n,o)}:this.getResource(n,o)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const o=this.getDataByLanguage(n);return!!(o&&Object.keys(o)||[]).find(m=>o[m]&&Object.keys(o[m]).length>0)}toJSON(){return this.data}}var pv={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,n,o,t,m){return r.forEach(c=>{this.processors[c]&&(n=this.processors[c].process(n,o,t,m))}),n}};const im={};class Cl extends tu{constructor(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),TS(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=o,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=vn.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(n==null)return!1;const t=this.resolve(n,o);return t&&t.res!==void 0}extractFromKey(n,o){let t=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;t===void 0&&(t=":");const m=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=o.ns||this.options.defaultNS||[];const a=t&&n.indexOf(t)>-1,h=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!IS(n,t,m);if(a&&!h){const s=n.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:n,namespaces:ft(c)?[c]:c};const p=n.split(t);(t!==m||t===m&&this.options.ns.indexOf(p[0])>-1)&&(c=p.shift()),n=p.join(m)}return{key:n,namespaces:ft(c)?[c]:c}}translate(n,o,t){if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);const m=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:a,namespaces:h}=this.extractFromKey(n[n.length-1],o),s=h[h.length-1],p=o.lng||this.language,b=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(b){const x=o.nsSeparator||this.options.nsSeparator;return m?{res:`${s}${x}${a}`,usedKey:a,exactUsedKey:a,usedLng:p,usedNS:s,usedParams:this.getUsedParamsDetails(o)}:`${s}${x}${a}`}return m?{res:a,usedKey:a,exactUsedKey:a,usedLng:p,usedNS:s,usedParams:this.getUsedParamsDetails(o)}:a}const v=this.resolve(n,o);let i=v&&v.res;const f=v&&v.usedKey||a,u=v&&v.exactUsedKey||a,g=Object.prototype.toString.apply(i),y=["[object Number]","[object Function]","[object RegExp]"],d=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,l=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!ft(i)&&typeof i!="boolean"&&typeof i!="number";if(l&&i&&w&&y.indexOf(g)<0&&!(ft(d)&&Array.isArray(i))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,i,{...o,ns:h}):`key '${a} (${this.language})' returned an object instead of string.`;return m?(v.res=x,v.usedParams=this.getUsedParamsDetails(o),v):x}if(c){const x=Array.isArray(i),_=x?[]:{},T=x?u:f;for(const E in i)if(Object.prototype.hasOwnProperty.call(i,E)){const S=`${T}${c}${E}`;_[E]=this.translate(S,{...o,joinArrays:!1,ns:h}),_[E]===S&&(_[E]=i[E])}i=_}}else if(l&&ft(d)&&Array.isArray(i))i=i.join(d),i&&(i=this.extendTranslation(i,n,o,t));else{let x=!1,_=!1;const T=o.count!==void 0&&!ft(o.count),E=Cl.hasDefaultValue(o),S=T?this.pluralResolver.getSuffix(p,o.count,o):"",P=o.ordinal&&T?this.pluralResolver.getSuffix(p,o.count,{ordinal:!1}):"",N=T&&!o.ordinal&&o.count===0&&this.pluralResolver.shouldUseIntlApi(),C=N&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${S}`]||o[`defaultValue${P}`]||o.defaultValue;!this.isValidLookup(i)&&E&&(x=!0,i=C),this.isValidLookup(i)||(_=!0,i=a);const L=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:i,F=E&&C!==i&&this.options.updateMissing;if(_||x||F){if(this.logger.log(F?"updateKey":"missingKey",p,s,a,F?C:i),c){const V=this.resolve(a,{...o,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let D=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let V=0;V<B.length;V++)D.push(B[V]);else this.options.saveMissingTo==="all"?D=this.languageUtils.toResolveHierarchy(o.lng||this.language):D.push(o.lng||this.language);const $=(V,H,X)=>{const Q=E&&X!==i?X:L;this.options.missingKeyHandler?this.options.missingKeyHandler(V,s,H,Q,F,o):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(V,s,H,Q,F,o),this.emit("missingKey",V,s,H,i)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?D.forEach(V=>{const H=this.pluralResolver.getSuffixes(V,o);N&&o[`defaultValue${this.options.pluralSeparator}zero`]&&H.indexOf(`${this.options.pluralSeparator}zero`)<0&&H.push(`${this.options.pluralSeparator}zero`),H.forEach(X=>{$([V],a+X,o[`defaultValue${X}`]||C)})}):$(D,a,C))}i=this.extendTranslation(i,n,o,v,t),_&&i===a&&this.options.appendNamespaceToMissingKey&&(i=`${s}:${a}`),(_||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?i=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${a}`:a,x?i:void 0):i=this.options.parseMissingKeyHandler(i))}return m?(v.res=i,v.usedParams=this.getUsedParamsDetails(o),v):i}extendTranslation(n,o,t,m,c){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...t},t.lng||this.language||m.usedLng,m.usedNS,m.usedKey,{resolved:m});else if(!t.skipInterpolation){t.interpolation&&this.interpolator.init({...t,interpolation:{...this.options.interpolation,...t.interpolation}});const p=ft(n)&&(t&&t.interpolation&&t.interpolation.skipOnVariables!==void 0?t.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let b;if(p){const i=n.match(this.interpolator.nestingRegexp);b=i&&i.length}let v=t.replace&&!ft(t.replace)?t.replace:t;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),n=this.interpolator.interpolate(n,v,t.lng||this.language||m.usedLng,t),p){const i=n.match(this.interpolator.nestingRegexp),f=i&&i.length;b<f&&(t.nest=!1)}!t.lng&&this.options.compatibilityAPI!=="v1"&&m&&m.res&&(t.lng=this.language||m.usedLng),t.nest!==!1&&(n=this.interpolator.nest(n,function(){for(var i=arguments.length,f=new Array(i),u=0;u<i;u++)f[u]=arguments[u];return c&&c[0]===f[0]&&!t.context?(a.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${o[0]}`),null):a.translate(...f,o)},t)),t.interpolation&&this.interpolator.reset()}const h=t.postProcess||this.options.postProcess,s=ft(h)?[h]:h;return n!=null&&s&&s.length&&t.applyPostProcessor!==!1&&(n=pv.handle(s,n,o,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...m,usedParams:this.getUsedParamsDetails(t)},...t}:t,this)),n}resolve(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t,m,c,a,h;return ft(n)&&(n=[n]),n.forEach(s=>{if(this.isValidLookup(t))return;const p=this.extractFromKey(s,o),b=p.key;m=b;let v=p.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const i=o.count!==void 0&&!ft(o.count),f=i&&!o.ordinal&&o.count===0&&this.pluralResolver.shouldUseIntlApi(),u=o.context!==void 0&&(ft(o.context)||typeof o.context=="number")&&o.context!=="",g=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);v.forEach(y=>{this.isValidLookup(t)||(h=y,!im[`${g[0]}-${y}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(h)&&(im[`${g[0]}-${y}`]=!0,this.logger.warn(`key "${m}" for languages "${g.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(d=>{if(this.isValidLookup(t))return;a=d;const l=[b];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(l,b,d,y,o);else{let x;i&&(x=this.pluralResolver.getSuffix(d,o.count,o));const _=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(i&&(l.push(b+x),o.ordinal&&x.indexOf(T)===0&&l.push(b+x.replace(T,this.options.pluralSeparator)),f&&l.push(b+_)),u){const E=`${b}${this.options.contextSeparator}${o.context}`;l.push(E),i&&(l.push(E+x),o.ordinal&&x.indexOf(T)===0&&l.push(E+x.replace(T,this.options.pluralSeparator)),f&&l.push(E+_))}}let w;for(;w=l.pop();)this.isValidLookup(t)||(c=w,t=this.getResource(d,y,w,o))}))})}),{res:t,usedKey:m,exactUsedKey:c,usedLng:a,usedNS:h}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,o,t){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,o,t,m):this.resourceStore.getResource(n,o,t,m)}getUsedParamsDetails(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],t=n.replace&&!ft(n.replace);let m=t?n.replace:n;if(t&&typeof n.count<"u"&&(m.count=n.count),this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),!t){m={...m};for(const c of o)delete m[c]}return m}static hasDefaultValue(n){const o="defaultValue";for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&o===t.substring(0,o.length)&&n[t]!==void 0)return!0;return!1}}const $u=r=>r.charAt(0).toUpperCase()+r.slice(1);class lm{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vn.create("languageUtils")}getScriptPartFromCode(n){if(n=Tl(n),!n||n.indexOf("-")<0)return null;const o=n.split("-");return o.length===2||(o.pop(),o[o.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(o.join("-"))}getLanguagePartFromCode(n){if(n=Tl(n),!n||n.indexOf("-")<0)return n;const o=n.split("-");return this.formatLanguageCode(o[0])}formatLanguageCode(n){if(ft(n)&&n.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let m=Intl.getCanonicalLocales(n)[0];if(m&&this.options.lowerCaseLng&&(m=m.toLowerCase()),m)return m}catch{}const o=["hans","hant","latn","cyrl","cans","mong","arab"];let t=n.split("-");return this.options.lowerCaseLng?t=t.map(m=>m.toLowerCase()):t.length===2?(t[0]=t[0].toLowerCase(),t[1]=t[1].toUpperCase(),o.indexOf(t[1].toLowerCase())>-1&&(t[1]=$u(t[1].toLowerCase()))):t.length===3&&(t[0]=t[0].toLowerCase(),t[1].length===2&&(t[1]=t[1].toUpperCase()),t[0]!=="sgn"&&t[2].length===2&&(t[2]=t[2].toUpperCase()),o.indexOf(t[1].toLowerCase())>-1&&(t[1]=$u(t[1].toLowerCase())),o.indexOf(t[2].toLowerCase())>-1&&(t[2]=$u(t[2].toLowerCase()))),t.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let o;return n.forEach(t=>{if(o)return;const m=this.formatLanguageCode(t);(!this.options.supportedLngs||this.isSupportedCode(m))&&(o=m)}),!o&&this.options.supportedLngs&&n.forEach(t=>{if(o)return;const m=this.getLanguagePartFromCode(t);if(this.isSupportedCode(m))return o=m;o=this.options.supportedLngs.find(c=>{if(c===m)return c;if(!(c.indexOf("-")<0&&m.indexOf("-")<0)&&(c.indexOf("-")>0&&m.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===m||c.indexOf(m)===0&&m.length>1))return c})}),o||(o=this.getFallbackCodes(this.options.fallbackLng)[0]),o}getFallbackCodes(n,o){if(!n)return[];if(typeof n=="function"&&(n=n(o)),ft(n)&&(n=[n]),Array.isArray(n))return n;if(!o)return n.default||[];let t=n[o];return t||(t=n[this.getScriptPartFromCode(o)]),t||(t=n[this.formatLanguageCode(o)]),t||(t=n[this.getLanguagePartFromCode(o)]),t||(t=n.default),t||[]}toResolveHierarchy(n,o){const t=this.getFallbackCodes(o||this.options.fallbackLng||[],n),m=[],c=a=>{a&&(this.isSupportedCode(a)?m.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return ft(n)&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(n))):ft(n)&&c(this.formatLanguageCode(n)),t.forEach(a=>{m.indexOf(a)<0&&c(this.formatLanguageCode(a))}),m}}let FS=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],US={1:r=>+(r>1),2:r=>+(r!=1),3:r=>0,4:r=>r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,5:r=>r==0?0:r==1?1:r==2?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5,6:r=>r==1?0:r>=2&&r<=4?1:2,7:r=>r==1?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,8:r=>r==1?0:r==2?1:r!=8&&r!=11?2:3,9:r=>+(r>=2),10:r=>r==1?0:r==2?1:r<7?2:r<11?3:4,11:r=>r==1||r==11?0:r==2||r==12?1:r>2&&r<20?2:3,12:r=>+(r%10!=1||r%100==11),13:r=>+(r!==0),14:r=>r==1?0:r==2?1:r==3?2:3,15:r=>r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2,16:r=>r%10==1&&r%100!=11?0:r!==0?1:2,17:r=>r==1||r%10==1&&r%100!=11?0:1,18:r=>r==0?0:r==1?1:2,19:r=>r==1?0:r==0||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3,20:r=>r==1?0:r==0||r%100>0&&r%100<20?1:2,21:r=>r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0,22:r=>r==1?0:r==2?1:(r<0||r>10)&&r%10==0?2:3};const BS=["v1","v2","v3"],zS=["v4"],um={zero:0,one:1,two:2,few:3,many:4,other:5},GS=()=>{const r={};return FS.forEach(n=>{n.lngs.forEach(o=>{r[o]={numbers:n.nr,plurals:US[n.fc]}})}),r};class VS{constructor(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=n,this.options=o,this.logger=vn.create("pluralResolver"),(!this.options.compatibilityJSON||zS.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=GS(),this.pluralRulesCache={}}addRule(n,o){this.rules[n]=o}clearCache(){this.pluralRulesCache={}}getRule(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const t=Tl(n==="dev"?"en":n),m=o.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:t,type:m});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let a;try{a=new Intl.PluralRules(t,{type:m})}catch{if(!n.match(/-|_/))return;const s=this.languageUtils.getLanguagePartFromCode(n);a=this.getRule(s,o)}return this.pluralRulesCache[c]=a,a}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}needsPlural(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=this.getRule(n,o);return this.shouldUseIntlApi()?t&&t.resolvedOptions().pluralCategories.length>1:t&&t.numbers.length>1}getPluralFormsOfKey(n,o){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,t).map(m=>`${o}${m}`)}getSuffixes(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=this.getRule(n,o);return t?this.shouldUseIntlApi()?t.resolvedOptions().pluralCategories.sort((m,c)=>um[m]-um[c]).map(m=>`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${m}`):t.numbers.map(m=>this.getSuffix(n,m,o)):[]}getSuffix(n,o){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const m=this.getRule(n,t);return m?this.shouldUseIntlApi()?`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${m.select(o)}`:this.getSuffixRetroCompatible(m,o):(this.logger.warn(`no plural rule found for: ${n}`),"")}getSuffixRetroCompatible(n,o){const t=n.noAbs?n.plurals(o):n.plurals(Math.abs(o));let m=n.numbers[t];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(m===2?m="plural":m===1&&(m=""));const c=()=>this.options.prepend&&m.toString()?this.options.prepend+m.toString():m.toString();return this.options.compatibilityJSON==="v1"?m===1?"":typeof m=="number"?`_plural_${m.toString()}`:c():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?c():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}shouldUseIntlApi(){return!BS.includes(this.options.compatibilityJSON)}}const cm=function(r,n,o){let t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,c=OS(r,n,o);return!c&&m&&ft(o)&&(c=cd(r,o,t),c===void 0&&(c=cd(n,o,t))),c},Yu=r=>r.replace(/\$/g,"$$$$");class HS{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=vn.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||(o=>o),this.init(n)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});const{escape:o,escapeValue:t,useRawValueToEscape:m,prefix:c,prefixEscaped:a,suffix:h,suffixEscaped:s,formatSeparator:p,unescapeSuffix:b,unescapePrefix:v,nestingPrefix:i,nestingPrefixEscaped:f,nestingSuffix:u,nestingSuffixEscaped:g,nestingOptionsSeparator:y,maxReplaces:d,alwaysFormat:l}=n.interpolation;this.escape=o!==void 0?o:LS,this.escapeValue=t!==void 0?t:!0,this.useRawValueToEscape=m!==void 0?m:!1,this.prefix=c?Zo(c):a||"{{",this.suffix=h?Zo(h):s||"}}",this.formatSeparator=p||",",this.unescapePrefix=b?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":b||"",this.nestingPrefix=i?Zo(i):f||Zo("$t("),this.nestingSuffix=u?Zo(u):g||Zo(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=d||1e3,this.alwaysFormat=l!==void 0?l:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(o,t)=>o&&o.source===t?(o.lastIndex=0,o):new RegExp(t,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(n,o,t,m){let c,a,h;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=f=>{if(f.indexOf(this.formatSeparator)<0){const d=cm(o,s,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(d,void 0,t,{...m,...o,interpolationkey:f}):d}const u=f.split(this.formatSeparator),g=u.shift().trim(),y=u.join(this.formatSeparator).trim();return this.format(cm(o,s,g,this.options.keySeparator,this.options.ignoreJSONStructure),y,t,{...m,...o,interpolationkey:g})};this.resetRegExp();const b=m&&m.missingInterpolationHandler||this.options.missingInterpolationHandler,v=m&&m.interpolation&&m.interpolation.skipOnVariables!==void 0?m.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>Yu(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?Yu(this.escape(f)):Yu(f)}].forEach(f=>{for(h=0;c=f.regex.exec(n);){const u=c[1].trim();if(a=p(u),a===void 0)if(typeof b=="function"){const y=b(n,c,m);a=ft(y)?y:""}else if(m&&Object.prototype.hasOwnProperty.call(m,u))a="";else if(v){a=c[0];continue}else this.logger.warn(`missed to pass in variable ${u} for interpolating ${n}`),a="";else!ft(a)&&!this.useRawValueToEscape&&(a=rm(a));const g=f.safeValue(a);if(n=n.replace(c[0],g),v?(f.regex.lastIndex+=a.length,f.regex.lastIndex-=c[0].length):f.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),n}nest(n,o){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m,c,a;const h=(s,p)=>{const b=this.nestingOptionsSeparator;if(s.indexOf(b)<0)return s;const v=s.split(new RegExp(`${b}[ ]*{`));let i=`{${v[1]}`;s=v[0],i=this.interpolate(i,a);const f=i.match(/'/g),u=i.match(/"/g);(f&&f.length%2===0&&!u||u.length%2!==0)&&(i=i.replace(/'/g,'"'));try{a=JSON.parse(i),p&&(a={...p,...a})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${s}`,g),`${s}${b}${i}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,s};for(;m=this.nestingRegexp.exec(n);){let s=[];a={...t},a=a.replace&&!ft(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let p=!1;if(m[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(m[1])){const b=m[1].split(this.formatSeparator).map(v=>v.trim());m[1]=b.shift(),s=b,p=!0}if(c=o(h.call(this,m[1].trim(),a),a),c&&m[0]===n&&!ft(c))return c;ft(c)||(c=rm(c)),c||(this.logger.warn(`missed to resolve ${m[1]} for nesting ${n}`),c=""),p&&(c=s.reduce((b,v)=>this.format(b,v,t.lng,{...t,interpolationkey:m[1].trim()}),c.trim())),n=n.replace(m[0],c),this.regexp.lastIndex=0}return n}}const WS=r=>{let n=r.toLowerCase().trim();const o={};if(r.indexOf("(")>-1){const t=r.split("(");n=t[0].toLowerCase().trim();const m=t[1].substring(0,t[1].length-1);n==="currency"&&m.indexOf(":")<0?o.currency||(o.currency=m.trim()):n==="relativetime"&&m.indexOf(":")<0?o.range||(o.range=m.trim()):m.split(";").forEach(a=>{if(a){const[h,...s]=a.split(":"),p=s.join(":").trim().replace(/^'+|'+$/g,""),b=h.trim();o[b]||(o[b]=p),p==="false"&&(o[b]=!1),p==="true"&&(o[b]=!0),isNaN(p)||(o[b]=parseInt(p,10))}})}return{formatName:n,formatOptions:o}},Jo=r=>{const n={};return(o,t,m)=>{let c=m;m&&m.interpolationkey&&m.formatParams&&m.formatParams[m.interpolationkey]&&m[m.interpolationkey]&&(c={...c,[m.interpolationkey]:void 0});const a=t+JSON.stringify(c);let h=n[a];return h||(h=r(Tl(t),m),n[a]=h),h(o)}};class qS{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=vn.create("formatter"),this.options=n,this.formats={number:Jo((o,t)=>{const m=new Intl.NumberFormat(o,{...t});return c=>m.format(c)}),currency:Jo((o,t)=>{const m=new Intl.NumberFormat(o,{...t,style:"currency"});return c=>m.format(c)}),datetime:Jo((o,t)=>{const m=new Intl.DateTimeFormat(o,{...t});return c=>m.format(c)}),relativetime:Jo((o,t)=>{const m=new Intl.RelativeTimeFormat(o,{...t});return c=>m.format(c,t.range||"day")}),list:Jo((o,t)=>{const m=new Intl.ListFormat(o,{...t});return c=>m.format(c)})},this.init(n)}init(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=o.interpolation.formatSeparator||","}add(n,o){this.formats[n.toLowerCase().trim()]=o}addCached(n,o){this.formats[n.toLowerCase().trim()]=Jo(o)}format(n,o,t){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=o.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(h=>h.indexOf(")")>-1)){const h=c.findIndex(s=>s.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,h)].join(this.formatSeparator)}return c.reduce((h,s)=>{const{formatName:p,formatOptions:b}=WS(s);if(this.formats[p]){let v=h;try{const i=m&&m.formatParams&&m.formatParams[m.interpolationkey]||{},f=i.locale||i.lng||m.locale||m.lng||t;v=this.formats[p](h,f,{...b,...m,...i})}catch(i){this.logger.warn(i)}return v}else this.logger.warn(`there was no format function for ${p}`);return h},n)}}const $S=(r,n)=>{r.pending[n]!==void 0&&(delete r.pending[n],r.pendingCount--)};class YS extends tu{constructor(n,o,t){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=n,this.store=o,this.services=t,this.languageUtils=t.languageUtils,this.options=m,this.logger=vn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=m.maxParallelReads||10,this.readingCalls=0,this.maxRetries=m.maxRetries>=0?m.maxRetries:5,this.retryTimeout=m.retryTimeout>=1?m.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(t,m.backend,m)}queueLoad(n,o,t,m){const c={},a={},h={},s={};return n.forEach(p=>{let b=!0;o.forEach(v=>{const i=`${p}|${v}`;!t.reload&&this.store.hasResourceBundle(p,v)?this.state[i]=2:this.state[i]<0||(this.state[i]===1?a[i]===void 0&&(a[i]=!0):(this.state[i]=1,b=!1,a[i]===void 0&&(a[i]=!0),c[i]===void 0&&(c[i]=!0),s[v]===void 0&&(s[v]=!0)))}),b||(h[p]=!0)}),(Object.keys(c).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:m}),{toLoad:Object.keys(c),pending:Object.keys(a),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(s)}}loaded(n,o,t){const m=n.split("|"),c=m[0],a=m[1];o&&this.emit("failedLoading",c,a,o),!o&&t&&this.store.addResourceBundle(c,a,t,void 0,void 0,{skipCopy:!0}),this.state[n]=o?-1:2,o&&t&&(this.state[n]=0);const h={};this.queue.forEach(s=>{CS(s.loaded,[c],a),$S(s,n),o&&s.errors.push(o),s.pendingCount===0&&!s.done&&(Object.keys(s.loaded).forEach(p=>{h[p]||(h[p]={});const b=s.loaded[p];b.length&&b.forEach(v=>{h[p][v]===void 0&&(h[p][v]=!0)})}),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(s=>!s.done)}read(n,o,t){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!n.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:o,fcName:t,tried:m,wait:c,callback:a});return}this.readingCalls++;const h=(p,b)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(p&&b&&m<this.maxRetries){setTimeout(()=>{this.read.call(this,n,o,t,m+1,c*2,a)},c);return}a(p,b)},s=this.backend[t].bind(this.backend);if(s.length===2){try{const p=s(n,o);p&&typeof p.then=="function"?p.then(b=>h(null,b)).catch(h):h(null,p)}catch(p){h(p)}return}return s(n,o,h)}prepareLoading(n,o){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),m&&m();ft(n)&&(n=this.languageUtils.toResolveHierarchy(n)),ft(o)&&(o=[o]);const c=this.queueLoad(n,o,t,m);if(!c.toLoad.length)return c.pending.length||m(),null;c.toLoad.forEach(a=>{this.loadOne(a)})}load(n,o,t){this.prepareLoading(n,o,{},t)}reload(n,o,t){this.prepareLoading(n,o,{reload:!0},t)}loadOne(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const t=n.split("|"),m=t[0],c=t[1];this.read(m,c,"read",void 0,void 0,(a,h)=>{a&&this.logger.warn(`${o}loading namespace ${c} for language ${m} failed`,a),!a&&h&&this.logger.log(`${o}loaded namespace ${c} for language ${m}`,h),this.loaded(n,a,h)})}saveMissing(n,o,t,m,c){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)){this.logger.warn(`did not save key "${t}" as the namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(t==null||t==="")){if(this.backend&&this.backend.create){const s={...a,isUpdate:c},p=this.backend.create.bind(this.backend);if(p.length<6)try{let b;p.length===5?b=p(n,o,t,m,s):b=p(n,o,t,m),b&&typeof b.then=="function"?b.then(v=>h(null,v)).catch(h):h(null,b)}catch(b){h(b)}else p(n,o,t,m,h,s)}!n||!n[0]||this.store.addResource(n[0],o,t,m)}}}const dm=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let n={};if(typeof r[1]=="object"&&(n=r[1]),ft(r[1])&&(n.defaultValue=r[1]),ft(r[2])&&(n.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const o=r[3]||r[2];Object.keys(o).forEach(t=>{n[t]=o[t]})}return n},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),fm=r=>(ft(r.ns)&&(r.ns=[r.ns]),ft(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),ft(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs&&r.supportedLngs.indexOf("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),r),Ni=()=>{},XS=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(o=>{typeof r[o]=="function"&&(r[o]=r[o].bind(r))})};class $a extends tu{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(super(),this.options=fm(n),this.services={},this.logger=vn,this.modules={external:[]},XS(this),o&&!this.isInitialized&&!n.isClone){if(!this.options.initImmediate)return this.init(n,o),this;setTimeout(()=>{this.init(n,o)},0)}}init(){var n=this;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof o=="function"&&(t=o,o={}),!o.defaultNS&&o.defaultNS!==!1&&o.ns&&(ft(o.ns)?o.defaultNS=o.ns:o.ns.indexOf("translation")<0&&(o.defaultNS=o.ns[0]));const m=dm();this.options={...m,...this.options,...fm(o)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...m.interpolation,...this.options.interpolation}),o.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=o.keySeparator),o.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=o.nsSeparator);const c=b=>b?typeof b=="function"?new b:b:null;if(!this.options.isClone){this.modules.logger?vn.init(c(this.modules.logger),this.options):vn.init(null,this.options);let b;this.modules.formatter?b=this.modules.formatter:typeof Intl<"u"&&(b=qS);const v=new lm(this.options);this.store=new am(this.options.resources,this.options);const i=this.services;i.logger=vn,i.resourceStore=this.store,i.languageUtils=v,i.pluralResolver=new VS(v,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),b&&(!this.options.interpolation.format||this.options.interpolation.format===m.interpolation.format)&&(i.formatter=c(b),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new HS(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new YS(c(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",function(f){for(var u=arguments.length,g=new Array(u>1?u-1:0),y=1;y<u;y++)g[y-1]=arguments[y];n.emit(f,...g)}),this.modules.languageDetector&&(i.languageDetector=c(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=c(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new Cl(this.services,this.options),this.translator.on("*",function(f){for(var u=arguments.length,g=new Array(u>1?u-1:0),y=1;y<u;y++)g[y-1]=arguments[y];n.emit(f,...g)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Ni),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const b=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);b.length>0&&b[0]!=="dev"&&(this.options.lng=b[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(b=>{this[b]=function(){return n.store[b](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(b=>{this[b]=function(){return n.store[b](...arguments),n}});const s=oa(),p=()=>{const b=(v,i)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(i),t(v,i)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return b(null,this.t.bind(this));this.changeLanguage(this.options.lng,b)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),s}loadResources(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ni;const m=ft(n)?n:this.language;if(typeof n=="function"&&(t=n),!this.options.resources||this.options.partialBundledLanguages){if(m&&m.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return t();const c=[],a=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(p=>{p!=="cimode"&&c.indexOf(p)<0&&c.push(p)})};m?a(m):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(s=>a(s)),this.options.preload&&this.options.preload.forEach(h=>a(h)),this.services.backendConnector.load(c,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),t(h)})}else t(null)}reloadResources(n,o,t){const m=oa();return typeof n=="function"&&(t=n,n=void 0),typeof o=="function"&&(t=o,o=void 0),n||(n=this.languages),o||(o=this.options.ns),t||(t=Ni),this.services.backendConnector.reload(n,o,c=>{m.resolve(),t(c)}),m}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&pv.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1))for(let o=0;o<this.languages.length;o++){const t=this.languages[o];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(n,o){var t=this;this.isLanguageChangingTo=n;const m=oa();this.emit("languageChanging",n);const c=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},a=(s,p)=>{p?(c(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,m.resolve(function(){return t.t(...arguments)}),o&&o(s,function(){return t.t(...arguments)})},h=s=>{!n&&!s&&this.services.languageDetector&&(s=[]);const p=ft(s)?s:this.services.languageUtils.getBestMatchFromCodes(s);p&&(this.language||c(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(p)),this.loadResources(p,b=>{a(b,p)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(n),m}getFixedT(n,o,t){var m=this;const c=function(a,h){let s;if(typeof h!="object"){for(var p=arguments.length,b=new Array(p>2?p-2:0),v=2;v<p;v++)b[v-2]=arguments[v];s=m.options.overloadTranslationOptionHandler([a,h].concat(b))}else s={...h};s.lng=s.lng||c.lng,s.lngs=s.lngs||c.lngs,s.ns=s.ns||c.ns,s.keyPrefix!==""&&(s.keyPrefix=s.keyPrefix||t||c.keyPrefix);const i=m.options.keySeparator||".";let f;return s.keyPrefix&&Array.isArray(a)?f=a.map(u=>`${s.keyPrefix}${i}${u}`):f=s.keyPrefix?`${s.keyPrefix}${i}${a}`:a,m.t(f,s)};return ft(n)?c.lng=n:c.lngs=n,c.ns=o,c.keyPrefix=t,c}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const t=o.lng||this.resolvedLanguage||this.languages[0],m=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(t.toLowerCase()==="cimode")return!0;const a=(h,s)=>{const p=this.services.backendConnector.state[`${h}|${s}`];return p===-1||p===0||p===2};if(o.precheck){const h=o.precheck(this,a);if(h!==void 0)return h}return!!(this.hasResourceBundle(t,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(t,n)&&(!m||a(c,n)))}loadNamespaces(n,o){const t=oa();return this.options.ns?(ft(n)&&(n=[n]),n.forEach(m=>{this.options.ns.indexOf(m)<0&&this.options.ns.push(m)}),this.loadResources(m=>{t.resolve(),o&&o(m)}),t):(o&&o(),Promise.resolve())}loadLanguages(n,o){const t=oa();ft(n)&&(n=[n]);const m=this.options.preload||[],c=n.filter(a=>m.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return c.length?(this.options.preload=m.concat(c),this.loadResources(a=>{t.resolve(),o&&o(a)}),t):(o&&o(),Promise.resolve())}dir(n){if(n||(n=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!n)return"rtl";const o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],t=this.services&&this.services.languageUtils||new lm(dm());return o.indexOf(t.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return new $a(n,o)}cloneInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ni;const t=n.forkResourceStore;t&&delete n.forkResourceStore;const m={...this.options,...n,isClone:!0},c=new $a(m);return(n.debug!==void 0||n.prefix!==void 0)&&(c.logger=c.logger.clone(n)),["store","services","language"].forEach(h=>{c[h]=this[h]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},t&&(c.store=new am(this.store.data,m),c.services.resourceStore=c.store),c.translator=new Cl(c.services,m),c.translator.on("*",function(h){for(var s=arguments.length,p=new Array(s>1?s-1:0),b=1;b<s;b++)p[b-1]=arguments[b];c.emit(h,...p)}),c.init(m,o),c.translator.options=m,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const vr=$a.createInstance();vr.createInstance=$a.createInstance;vr.createInstance;vr.dir;vr.init;vr.loadResources;vr.reloadResources;vr.use;vr.changeLanguage;vr.getFixedT;vr.t;vr.exists;vr.setDefaultNamespace;vr.hasLoadedNamespace;vr.loadNamespaces;vr.loadLanguages;const KS={title:"D∞R",play:"Gioca Demo",settings:"Impostazioni",saves:"Salvataggi",credits:"Crediti"},QS={title:"Impostazioni",back:"Torna al menu"},ZS={title:"Salvataggi",subtitle:"Gestisci gli slot locali",new:"Nuovo slot",duplicate:"Duplica",load:"Carica",delete:"Elimina",active:"Attivo",empty:"Nessun salvataggio disponibile. Creane uno nuovo!"},JS={loading:"Caricamento..."},ek={menu:KS,settings:QS,saves:ZS,common:JS},tk={title:"Cute Little Game",play:"Play Demo",settings:"Settings",saves:"Saves",credits:"Credits"},rk={title:"Settings",back:"Back to menu"},nk={title:"Saves",subtitle:"Manage local slots",new:"New slot",duplicate:"Duplicate",load:"Load",delete:"Delete",active:"Active",empty:"No saves yet. Create a new slot!"},ok={loading:"Loading..."},sk={menu:tk,settings:rk,saves:nk,common:ok},ak=(()=>{var n,o;if(typeof window>"u")return"it";const r=localStorage.getItem("gc:settings");if(r)try{const t=JSON.parse(r);if((n=t==null?void 0:t.state)!=null&&n.language)return t.state.language}catch{}return((o=navigator.language)==null?void 0:o.split("-")[0])??"it"})();vr.use(A2).init({resources:{it:{translation:ek},en:{translation:sk}},lng:ak,fallbackLng:"it",interpolation:{escapeValue:!1}});const mv=document.getElementById("root");if(!mv)throw new Error("Root element #root not found");Xu.createRoot(mv).render(G.jsx(gd.StrictMode,{children:G.jsx(ux,{children:G.jsx(ES,{})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});
